function dT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var HK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jD(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Qf={exports:{}},lc={},Xf={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hP;function qD(){if(hP)return $e;hP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;function g(D){return D===null||typeof D!="object"?null:(D=h&&D[h]||D["@@iterator"],typeof D=="function"?D:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function w(D,$,ge){this.props=D,this.context=$,this.refs=C,this.updater=ge||v}w.prototype.isReactComponent={},w.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},w.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=w.prototype;function b(D,$,ge){this.props=D,this.context=$,this.refs=C,this.updater=ge||v}var N=b.prototype=new R;N.constructor=b,x(N,w.prototype),N.isPureReactComponent=!0;var T=Array.isArray,A=Object.prototype.hasOwnProperty,k={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function z(D,$,ge){var Ce,ke={},Oe=null,X=null;if($!=null)for(Ce in $.ref!==void 0&&(X=$.ref),$.key!==void 0&&(Oe=""+$.key),$)A.call($,Ce)&&!M.hasOwnProperty(Ce)&&(ke[Ce]=$[Ce]);var Ne=arguments.length-2;if(Ne===1)ke.children=ge;else if(1<Ne){for(var Ae=Array(Ne),De=0;De<Ne;De++)Ae[De]=arguments[De+2];ke.children=Ae}if(D&&D.defaultProps)for(Ce in Ne=D.defaultProps,Ne)ke[Ce]===void 0&&(ke[Ce]=Ne[Ce]);return{$$typeof:e,type:D,key:Oe,ref:X,props:ke,_owner:k.current}}function V(D,$){return{$$typeof:e,type:D.type,key:$,ref:D.ref,props:D.props,_owner:D._owner}}function K(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function ue(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ge){return $[ge]})}var we=/\/+/g;function H(D,$){return typeof D=="object"&&D!==null&&D.key!=null?ue(""+D.key):$.toString(36)}function ie(D,$,ge,Ce,ke){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var X=!1;if(D===null)X=!0;else switch(Oe){case"string":case"number":X=!0;break;case"object":switch(D.$$typeof){case e:case t:X=!0}}if(X)return X=D,ke=ke(X),D=Ce===""?"."+H(X,0):Ce,T(ke)?(ge="",D!=null&&(ge=D.replace(we,"$&/")+"/"),ie(ke,$,ge,"",function(De){return De})):ke!=null&&(K(ke)&&(ke=V(ke,ge+(!ke.key||X&&X.key===ke.key?"":(""+ke.key).replace(we,"$&/")+"/")+D)),$.push(ke)),1;if(X=0,Ce=Ce===""?".":Ce+":",T(D))for(var Ne=0;Ne<D.length;Ne++){Oe=D[Ne];var Ae=Ce+H(Oe,Ne);X+=ie(Oe,$,ge,Ae,ke)}else if(Ae=g(D),typeof Ae=="function")for(D=Ae.call(D),Ne=0;!(Oe=D.next()).done;)Oe=Oe.value,Ae=Ce+H(Oe,Ne++),X+=ie(Oe,$,ge,Ae,ke);else if(Oe==="object")throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return X}function oe(D,$,ge){if(D==null)return D;var Ce=[],ke=0;return ie(D,Ce,"","",function(Oe){return $.call(ge,Oe,ke++)}),Ce}function fe(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(ge){(D._status===0||D._status===-1)&&(D._status=1,D._result=ge)},function(ge){(D._status===0||D._status===-1)&&(D._status=2,D._result=ge)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var ae={current:null},L={transition:null},ee={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};function G(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:oe,forEach:function(D,$,ge){oe(D,function(){$.apply(this,arguments)},ge)},count:function(D){var $=0;return oe(D,function(){$++}),$},toArray:function(D){return oe(D,function($){return $})||[]},only:function(D){if(!K(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},$e.Component=w,$e.Fragment=r,$e.Profiler=i,$e.PureComponent=b,$e.StrictMode=n,$e.Suspense=u,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,$e.act=G,$e.cloneElement=function(D,$,ge){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Ce=x({},D.props),ke=D.key,Oe=D.ref,X=D._owner;if($!=null){if($.ref!==void 0&&(Oe=$.ref,X=k.current),$.key!==void 0&&(ke=""+$.key),D.type&&D.type.defaultProps)var Ne=D.type.defaultProps;for(Ae in $)A.call($,Ae)&&!M.hasOwnProperty(Ae)&&(Ce[Ae]=$[Ae]===void 0&&Ne!==void 0?Ne[Ae]:$[Ae])}var Ae=arguments.length-2;if(Ae===1)Ce.children=ge;else if(1<Ae){Ne=Array(Ae);for(var De=0;De<Ae;De++)Ne[De]=arguments[De+2];Ce.children=Ne}return{$$typeof:e,type:D.type,key:ke,ref:Oe,props:Ce,_owner:X}},$e.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:o,_context:D},D.Consumer=D},$e.createElement=z,$e.createFactory=function(D){var $=z.bind(null,D);return $.type=D,$},$e.createRef=function(){return{current:null}},$e.forwardRef=function(D){return{$$typeof:a,render:D}},$e.isValidElement=K,$e.lazy=function(D){return{$$typeof:m,_payload:{_status:-1,_result:D},_init:fe}},$e.memo=function(D,$){return{$$typeof:d,type:D,compare:$===void 0?null:$}},$e.startTransition=function(D){var $=L.transition;L.transition={};try{D()}finally{L.transition=$}},$e.unstable_act=G,$e.useCallback=function(D,$){return ae.current.useCallback(D,$)},$e.useContext=function(D){return ae.current.useContext(D)},$e.useDebugValue=function(){},$e.useDeferredValue=function(D){return ae.current.useDeferredValue(D)},$e.useEffect=function(D,$){return ae.current.useEffect(D,$)},$e.useId=function(){return ae.current.useId()},$e.useImperativeHandle=function(D,$,ge){return ae.current.useImperativeHandle(D,$,ge)},$e.useInsertionEffect=function(D,$){return ae.current.useInsertionEffect(D,$)},$e.useLayoutEffect=function(D,$){return ae.current.useLayoutEffect(D,$)},$e.useMemo=function(D,$){return ae.current.useMemo(D,$)},$e.useReducer=function(D,$,ge){return ae.current.useReducer(D,$,ge)},$e.useRef=function(D){return ae.current.useRef(D)},$e.useState=function(D){return ae.current.useState(D)},$e.useSyncExternalStore=function(D,$,ge){return ae.current.useSyncExternalStore(D,$,ge)},$e.useTransition=function(){return ae.current.useTransition()},$e.version="18.3.1",$e}var fP;function Iy(){return fP||(fP=1,Xf.exports=qD()),Xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP;function FD(){if(gP)return lc;gP=1;var e=Iy(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(a,u,d){var m,h={},g=null,v=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(m in u)n.call(u,m)&&!o.hasOwnProperty(m)&&(h[m]=u[m]);if(a&&a.defaultProps)for(m in u=a.defaultProps,u)h[m]===void 0&&(h[m]=u[m]);return{$$typeof:t,type:a,key:g,ref:v,props:h,_owner:i.current}}return lc.Fragment=r,lc.jsx=l,lc.jsxs=l,lc}var vP;function HD(){return vP||(vP=1,Qf.exports=FD()),Qf.exports}var y=HD(),I=Iy();const Kn=Fm(I),pT=dT({__proto__:null,default:Kn},[I]);var tm={},Yf={exports:{}},gr={},Zf={exports:{}},eg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP;function UD(){return yP||(yP=1,(function(e){function t(L,ee){var G=L.length;L.push(ee);e:for(;0<G;){var D=G-1>>>1,$=L[D];if(0<i($,ee))L[D]=ee,L[G]=$,G=D;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var ee=L[0],G=L.pop();if(G!==ee){L[0]=G;e:for(var D=0,$=L.length,ge=$>>>1;D<ge;){var Ce=2*(D+1)-1,ke=L[Ce],Oe=Ce+1,X=L[Oe];if(0>i(ke,G))Oe<$&&0>i(X,ke)?(L[D]=X,L[Oe]=G,D=Oe):(L[D]=ke,L[Ce]=G,D=Ce);else if(Oe<$&&0>i(X,G))L[D]=X,L[Oe]=G,D=Oe;else break e}}return ee}function i(L,ee){var G=L.sortIndex-ee.sortIndex;return G!==0?G:L.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var u=[],d=[],m=1,h=null,g=3,v=!1,x=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(L){for(var ee=r(d);ee!==null;){if(ee.callback===null)n(d);else if(ee.startTime<=L)n(d),ee.sortIndex=ee.expirationTime,t(u,ee);else break;ee=r(d)}}function T(L){if(C=!1,N(L),!x)if(r(u)!==null)x=!0,fe(A);else{var ee=r(d);ee!==null&&ae(T,ee.startTime-L)}}function A(L,ee){x=!1,C&&(C=!1,R(z),z=-1),v=!0;var G=g;try{for(N(ee),h=r(u);h!==null&&(!(h.expirationTime>ee)||L&&!ue());){var D=h.callback;if(typeof D=="function"){h.callback=null,g=h.priorityLevel;var $=D(h.expirationTime<=ee);ee=e.unstable_now(),typeof $=="function"?h.callback=$:h===r(u)&&n(u),N(ee)}else n(u);h=r(u)}if(h!==null)var ge=!0;else{var Ce=r(d);Ce!==null&&ae(T,Ce.startTime-ee),ge=!1}return ge}finally{h=null,g=G,v=!1}}var k=!1,M=null,z=-1,V=5,K=-1;function ue(){return!(e.unstable_now()-K<V)}function we(){if(M!==null){var L=e.unstable_now();K=L;var ee=!0;try{ee=M(!0,L)}finally{ee?H():(k=!1,M=null)}}else k=!1}var H;if(typeof b=="function")H=function(){b(we)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,oe=ie.port2;ie.port1.onmessage=we,H=function(){oe.postMessage(null)}}else H=function(){w(we,0)};function fe(L){M=L,k||(k=!0,H())}function ae(L,ee){z=w(function(){L(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,fe(A))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var G=g;g=ee;try{return L()}finally{g=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,ee){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=g;g=L;try{return ee()}finally{g=G}},e.unstable_scheduleCallback=function(L,ee,G){var D=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?D+G:D):G=D,L){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,L={id:m++,callback:ee,priorityLevel:L,startTime:G,expirationTime:$,sortIndex:-1},G>D?(L.sortIndex=G,t(d,L),r(u)===null&&L===r(d)&&(C?(R(z),z=-1):C=!0,ae(T,G-D))):(L.sortIndex=$,t(u,L),x||v||(x=!0,fe(A))),L},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(L){var ee=g;return function(){var G=g;g=ee;try{return L.apply(this,arguments)}finally{g=G}}}})(eg)),eg}var SP;function $D(){return SP||(SP=1,Zf.exports=UD()),Zf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP;function WD(){if(CP)return gr;CP=1;var e=Iy(),t=$D();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,c){l(s,c),l(s+"Capture",c)}function l(s,c){for(i[s]=c,s=0;s<c.length;s++)n.add(c[s])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function g(s){return u.call(h,s)?!0:u.call(m,s)?!1:d.test(s)?h[s]=!0:(m[s]=!0,!1)}function v(s,c,p,f){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return f?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,c,p,f){if(c===null||typeof c>"u"||v(s,c,p,f))return!0;if(f)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function C(s,c,p,f,S,P,E){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=f,this.attributeNamespace=S,this.mustUseProperty=p,this.propertyName=s,this.type=c,this.sanitizeURL=P,this.removeEmptyString=E}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];w[c]=new C(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function b(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(R,b);w[c]=new C(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(R,b);w[c]=new C(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(R,b);w[c]=new C(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,c,p,f){var S=w.hasOwnProperty(c)?w[c]:null;(S!==null?S.type!==0:f||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(x(c,p,S,f)&&(p=null),f||S===null?g(c)&&(p===null?s.removeAttribute(c):s.setAttribute(c,""+p)):S.mustUseProperty?s[S.propertyName]=p===null?S.type===3?!1:"":p:(c=S.attributeName,f=S.attributeNamespace,p===null?s.removeAttribute(c):(S=S.type,p=S===3||S===4&&p===!0?"":""+p,f?s.setAttributeNS(f,c,p):s.setAttribute(c,p))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),k=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ue=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),L=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var G=Object.assign,D;function $(s){if(D===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);D=c&&c[1]||""}return`
`+D+s}var ge=!1;function Ce(s,c){if(!s||ge)return"";ge=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(F){var f=F}Reflect.construct(s,[],c)}else{try{c.call()}catch(F){f=F}s.call(c.prototype)}else{try{throw Error()}catch(F){f=F}s()}}catch(F){if(F&&f&&typeof F.stack=="string"){for(var S=F.stack.split(`
`),P=f.stack.split(`
`),E=S.length-1,_=P.length-1;1<=E&&0<=_&&S[E]!==P[_];)_--;for(;1<=E&&0<=_;E--,_--)if(S[E]!==P[_]){if(E!==1||_!==1)do if(E--,_--,0>_||S[E]!==P[_]){var O=`
`+S[E].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=E&&0<=_);break}}}finally{ge=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?$(s):""}function ke(s){switch(s.tag){case 5:return $(s.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case k:return"Portal";case V:return"Profiler";case z:return"StrictMode";case H:return"Suspense";case ie:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ue:return(s.displayName||"Context")+".Consumer";case K:return(s._context.displayName||"Context")+".Provider";case we:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case oe:return c=s.displayName||null,c!==null?c:Oe(s.type)||"Memo";case fe:c=s._payload,s=s._init;try{return Oe(s(c))}catch{}}return null}function X(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(c);case 8:return c===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ne(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ae(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function De(s){var c=Ae(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),f=""+s[c];if(!s.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,P=p.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return S.call(this)},set:function(E){f=""+E,P.call(this,E)}}),Object.defineProperty(s,c,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function He(s){s._valueTracker||(s._valueTracker=De(s))}function Je(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var p=c.getValue(),f="";return s&&(f=Ae(s)?s.checked?"true":"false":s.value),s=f,s!==p?(c.setValue(s),!0):!1}function wt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function nr(s,c){var p=c.checked;return G({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function an(s,c){var p=c.defaultValue==null?"":c.defaultValue,f=c.checked!=null?c.checked:c.defaultChecked;p=Ne(c.value!=null?c.value:p),s._wrapperState={initialChecked:f,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function jr(s,c){c=c.checked,c!=null&&N(s,"checked",c,!1)}function cr(s,c){jr(s,c);var p=Ne(c.value),f=c.type;if(p!=null)f==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?Vi(s,c.type,p):c.hasOwnProperty("defaultValue")&&Vi(s,c.type,Ne(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function In(s,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var f=c.type;if(!(f!=="submit"&&f!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,p||c===s.value||(s.value=c),s.defaultValue=c}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function Vi(s,c,p){(c!=="number"||wt(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var An=Array.isArray;function qr(s,c,p,f){if(s=s.options,c){c={};for(var S=0;S<p.length;S++)c["$"+p[S]]=!0;for(p=0;p<s.length;p++)S=c.hasOwnProperty("$"+s[p].value),s[p].selected!==S&&(s[p].selected=S),S&&f&&(s[p].defaultSelected=!0)}else{for(p=""+Ne(p),c=null,S=0;S<s.length;S++){if(s[S].value===p){s[S].selected=!0,f&&(s[S].defaultSelected=!0);return}c!==null||s[S].disabled||(c=s[S])}c!==null&&(c.selected=!0)}}function cn(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ri(s,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(r(92));if(An(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),p=c}s._wrapperState={initialValue:Ne(p)}}function _n(s,c){var p=Ne(c.value),f=Ne(c.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),c.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),f!=null&&(s.defaultValue=""+f)}function io(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function so(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ki(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?so(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ln,lr=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,f,S){MSApp.execUnsafeLocalFunction(function(){return s(c,p,f,S)})}:s})(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(ln=ln||document.createElement("div"),ln.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ln.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function zn(s,c){if(c){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=c;return}}s.textContent=c}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dt=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(s){Dt.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),Fr[c]=Fr[s]})});function Gi(s,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Fr.hasOwnProperty(s)&&Fr[s]?(""+c).trim():c+"px"}function ni(s,c){s=s.style;for(var p in c)if(c.hasOwnProperty(p)){var f=p.indexOf("--")===0,S=Gi(p,c[p],f);p==="float"&&(p="cssFloat"),f?s.setProperty(p,S):s[p]=S}}var W=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U(s,c){if(c){if(W[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function te(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var se=null;function Te(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Le=null,Ze=null,Fe=null;function et(s){if(s=Ga(s)){if(typeof Le!="function")throw Error(r(280));var c=s.stateNode;c&&(c=gp(c),Le(s.stateNode,s.type,c))}}function Tt(s){Ze?Fe?Fe.push(s):Fe=[s]:Ze=s}function It(){if(Ze){var s=Ze,c=Fe;if(Fe=Ze=null,et(s),c)for(s=0;s<c.length;s++)et(c[s])}}function Ji(s,c){return s(c)}function oo(){}var ur=!1;function ao(s,c,p){if(ur)return s(c,p);ur=!0;try{return Ji(s,c,p)}finally{ur=!1,(Ze!==null||Fe!==null)&&(oo(),It())}}function un(s,c){var p=s.stateNode;if(p===null)return null;var f=gp(p);if(f===null)return null;p=f[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var co=!1;if(a)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){co=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{co=!1}function ph(s,c,p,f,S,P,E,_,O){var F=Array.prototype.slice.call(arguments,3);try{c.apply(p,F)}catch(Q){this.onError(Q)}}var Xi=!1,lo=null,Yi=!1,Ia=null,mh={onError:function(s){Xi=!0,lo=s}};function hh(s,c,p,f,S,P,E,_,O){Xi=!1,lo=null,ph.apply(mh,arguments)}function Gk(s,c,p,f,S,P,E,_,O){if(hh.apply(this,arguments),Xi){if(Xi){var F=lo;Xi=!1,lo=null}else throw Error(r(198));Yi||(Yi=!0,Ia=F)}}function Zi(s){var c=s,p=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(p=c.return),s=c.return;while(s)}return c.tag===3?p:null}function BS(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function LS(s){if(Zi(s)!==s)throw Error(r(188))}function Jk(s){var c=s.alternate;if(!c){if(c=Zi(s),c===null)throw Error(r(188));return c!==s?null:s}for(var p=s,f=c;;){var S=p.return;if(S===null)break;var P=S.alternate;if(P===null){if(f=S.return,f!==null){p=f;continue}break}if(S.child===P.child){for(P=S.child;P;){if(P===p)return LS(S),s;if(P===f)return LS(S),c;P=P.sibling}throw Error(r(188))}if(p.return!==f.return)p=S,f=P;else{for(var E=!1,_=S.child;_;){if(_===p){E=!0,p=S,f=P;break}if(_===f){E=!0,f=S,p=P;break}_=_.sibling}if(!E){for(_=P.child;_;){if(_===p){E=!0,p=P,f=S;break}if(_===f){E=!0,f=P,p=S;break}_=_.sibling}if(!E)throw Error(r(189))}}if(p.alternate!==f)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?s:c}function jS(s){return s=Jk(s),s!==null?qS(s):null}function qS(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=qS(s);if(c!==null)return c;s=s.sibling}return null}var FS=t.unstable_scheduleCallback,HS=t.unstable_cancelCallback,Qk=t.unstable_shouldYield,Xk=t.unstable_requestPaint,bt=t.unstable_now,Yk=t.unstable_getCurrentPriorityLevel,fh=t.unstable_ImmediatePriority,US=t.unstable_UserBlockingPriority,Qd=t.unstable_NormalPriority,Zk=t.unstable_LowPriority,$S=t.unstable_IdlePriority,Xd=null,dn=null;function eO(s){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Xd,s,void 0,(s.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:nO,tO=Math.log,rO=Math.LN2;function nO(s){return s>>>=0,s===0?32:31-(tO(s)/rO|0)|0}var Yd=64,Zd=4194304;function Aa(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ep(s,c){var p=s.pendingLanes;if(p===0)return 0;var f=0,S=s.suspendedLanes,P=s.pingedLanes,E=p&268435455;if(E!==0){var _=E&~S;_!==0?f=Aa(_):(P&=E,P!==0&&(f=Aa(P)))}else E=p&~S,E!==0?f=Aa(E):P!==0&&(f=Aa(P));if(f===0)return 0;if(c!==0&&c!==f&&(c&S)===0&&(S=f&-f,P=c&-c,S>=P||S===16&&(P&4194240)!==0))return c;if((f&4)!==0&&(f|=p&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=f;0<c;)p=31-Hr(c),S=1<<p,f|=s[p],c&=~S;return f}function iO(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sO(s,c){for(var p=s.suspendedLanes,f=s.pingedLanes,S=s.expirationTimes,P=s.pendingLanes;0<P;){var E=31-Hr(P),_=1<<E,O=S[E];O===-1?((_&p)===0||(_&f)!==0)&&(S[E]=iO(_,c)):O<=c&&(s.expiredLanes|=_),P&=~_}}function gh(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function WS(){var s=Yd;return Yd<<=1,(Yd&4194240)===0&&(Yd=64),s}function vh(s){for(var c=[],p=0;31>p;p++)c.push(s);return c}function _a(s,c,p){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-Hr(c),s[c]=p}function oO(s,c){var p=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<p;){var S=31-Hr(p),P=1<<S;c[S]=0,f[S]=-1,s[S]=-1,p&=~P}}function yh(s,c){var p=s.entangledLanes|=c;for(s=s.entanglements;p;){var f=31-Hr(p),S=1<<f;S&c|s[f]&c&&(s[f]|=c),p&=~S}}var st=0;function VS(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var KS,Sh,GS,JS,QS,Ch=!1,tp=[],ii=null,si=null,oi=null,za=new Map,Ma=new Map,ai=[],aO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XS(s,c){switch(s){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":za.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(c.pointerId)}}function ka(s,c,p,f,S,P){return s===null||s.nativeEvent!==P?(s={blockedOn:c,domEventName:p,eventSystemFlags:f,nativeEvent:P,targetContainers:[S]},c!==null&&(c=Ga(c),c!==null&&Sh(c)),s):(s.eventSystemFlags|=f,c=s.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),s)}function cO(s,c,p,f,S){switch(c){case"focusin":return ii=ka(ii,s,c,p,f,S),!0;case"dragenter":return si=ka(si,s,c,p,f,S),!0;case"mouseover":return oi=ka(oi,s,c,p,f,S),!0;case"pointerover":var P=S.pointerId;return za.set(P,ka(za.get(P)||null,s,c,p,f,S)),!0;case"gotpointercapture":return P=S.pointerId,Ma.set(P,ka(Ma.get(P)||null,s,c,p,f,S)),!0}return!1}function YS(s){var c=es(s.target);if(c!==null){var p=Zi(c);if(p!==null){if(c=p.tag,c===13){if(c=BS(p),c!==null){s.blockedOn=c,QS(s.priority,function(){GS(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rp(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var p=Ph(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var f=new p.constructor(p.type,p);se=f,p.target.dispatchEvent(f),se=null}else return c=Ga(p),c!==null&&Sh(c),s.blockedOn=p,!1;c.shift()}return!0}function ZS(s,c,p){rp(s)&&p.delete(c)}function lO(){Ch=!1,ii!==null&&rp(ii)&&(ii=null),si!==null&&rp(si)&&(si=null),oi!==null&&rp(oi)&&(oi=null),za.forEach(ZS),Ma.forEach(ZS)}function Oa(s,c){s.blockedOn===c&&(s.blockedOn=null,Ch||(Ch=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lO)))}function Da(s){function c(S){return Oa(S,s)}if(0<tp.length){Oa(tp[0],s);for(var p=1;p<tp.length;p++){var f=tp[p];f.blockedOn===s&&(f.blockedOn=null)}}for(ii!==null&&Oa(ii,s),si!==null&&Oa(si,s),oi!==null&&Oa(oi,s),za.forEach(c),Ma.forEach(c),p=0;p<ai.length;p++)f=ai[p],f.blockedOn===s&&(f.blockedOn=null);for(;0<ai.length&&(p=ai[0],p.blockedOn===null);)YS(p),p.blockedOn===null&&ai.shift()}var uo=T.ReactCurrentBatchConfig,np=!0;function uO(s,c,p,f){var S=st,P=uo.transition;uo.transition=null;try{st=1,xh(s,c,p,f)}finally{st=S,uo.transition=P}}function dO(s,c,p,f){var S=st,P=uo.transition;uo.transition=null;try{st=4,xh(s,c,p,f)}finally{st=S,uo.transition=P}}function xh(s,c,p,f){if(np){var S=Ph(s,c,p,f);if(S===null)jh(s,c,f,ip,p),XS(s,f);else if(cO(S,s,c,p,f))f.stopPropagation();else if(XS(s,f),c&4&&-1<aO.indexOf(s)){for(;S!==null;){var P=Ga(S);if(P!==null&&KS(P),P=Ph(s,c,p,f),P===null&&jh(s,c,f,ip,p),P===S)break;S=P}S!==null&&f.stopPropagation()}else jh(s,c,f,null,p)}}var ip=null;function Ph(s,c,p,f){if(ip=null,s=Te(f),s=es(s),s!==null)if(c=Zi(s),c===null)s=null;else if(p=c.tag,p===13){if(s=BS(c),s!==null)return s;s=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return ip=s,null}function eC(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yk()){case fh:return 1;case US:return 4;case Qd:case Zk:return 16;case $S:return 536870912;default:return 16}default:return 16}}var ci=null,Rh=null,sp=null;function tC(){if(sp)return sp;var s,c=Rh,p=c.length,f,S="value"in ci?ci.value:ci.textContent,P=S.length;for(s=0;s<p&&c[s]===S[s];s++);var E=p-s;for(f=1;f<=E&&c[p-f]===S[P-f];f++);return sp=S.slice(s,1<f?1-f:void 0)}function op(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function ap(){return!0}function rC(){return!1}function vr(s){function c(p,f,S,P,E){this._reactName=p,this._targetInst=S,this.type=f,this.nativeEvent=P,this.target=E,this.currentTarget=null;for(var _ in s)s.hasOwnProperty(_)&&(p=s[_],this[_]=p?p(P):P[_]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?ap:rC,this.isPropagationStopped=rC,this}return G(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),c}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wh=vr(po),Ba=G({},po,{view:0,detail:0}),pO=vr(Ba),bh,Nh,La,cp=G({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==La&&(La&&s.type==="mousemove"?(bh=s.screenX-La.screenX,Nh=s.screenY-La.screenY):Nh=bh=0,La=s),bh)},movementY:function(s){return"movementY"in s?s.movementY:Nh}}),nC=vr(cp),mO=G({},cp,{dataTransfer:0}),hO=vr(mO),fO=G({},Ba,{relatedTarget:0}),Eh=vr(fO),gO=G({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),vO=vr(gO),yO=G({},po,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),SO=vr(yO),CO=G({},po,{data:0}),iC=vr(CO),xO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wO(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=RO[s])?!!c[s]:!1}function Th(){return wO}var bO=G({},Ba,{key:function(s){if(s.key){var c=xO[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=op(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?PO[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(s){return s.type==="keypress"?op(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?op(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),NO=vr(bO),EO=G({},cp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sC=vr(EO),TO=G({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),IO=vr(TO),AO=G({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),_O=vr(AO),zO=G({},cp,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),MO=vr(zO),kO=[9,13,27,32],Ih=a&&"CompositionEvent"in window,ja=null;a&&"documentMode"in document&&(ja=document.documentMode);var OO=a&&"TextEvent"in window&&!ja,oC=a&&(!Ih||ja&&8<ja&&11>=ja),aC=" ",cC=!1;function lC(s,c){switch(s){case"keyup":return kO.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uC(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var mo=!1;function DO(s,c){switch(s){case"compositionend":return uC(c);case"keypress":return c.which!==32?null:(cC=!0,aC);case"textInput":return s=c.data,s===aC&&cC?null:s;default:return null}}function BO(s,c){if(mo)return s==="compositionend"||!Ih&&lC(s,c)?(s=tC(),sp=Rh=ci=null,mo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return oC&&c.locale!=="ko"?null:c.data;default:return null}}var LO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dC(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!LO[s.type]:c==="textarea"}function pC(s,c,p,f){Tt(f),c=mp(c,"onChange"),0<c.length&&(p=new wh("onChange","change",null,p,f),s.push({event:p,listeners:c}))}var qa=null,Fa=null;function jO(s){AC(s,0)}function lp(s){var c=yo(s);if(Je(c))return s}function qO(s,c){if(s==="change")return c}var mC=!1;if(a){var Ah;if(a){var _h="oninput"in document;if(!_h){var hC=document.createElement("div");hC.setAttribute("oninput","return;"),_h=typeof hC.oninput=="function"}Ah=_h}else Ah=!1;mC=Ah&&(!document.documentMode||9<document.documentMode)}function fC(){qa&&(qa.detachEvent("onpropertychange",gC),Fa=qa=null)}function gC(s){if(s.propertyName==="value"&&lp(Fa)){var c=[];pC(c,Fa,s,Te(s)),ao(jO,c)}}function FO(s,c,p){s==="focusin"?(fC(),qa=c,Fa=p,qa.attachEvent("onpropertychange",gC)):s==="focusout"&&fC()}function HO(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return lp(Fa)}function UO(s,c){if(s==="click")return lp(c)}function $O(s,c){if(s==="input"||s==="change")return lp(c)}function WO(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Ur=typeof Object.is=="function"?Object.is:WO;function Ha(s,c){if(Ur(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var p=Object.keys(s),f=Object.keys(c);if(p.length!==f.length)return!1;for(f=0;f<p.length;f++){var S=p[f];if(!u.call(c,S)||!Ur(s[S],c[S]))return!1}return!0}function vC(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function yC(s,c){var p=vC(s);s=0;for(var f;p;){if(p.nodeType===3){if(f=s+p.textContent.length,s<=c&&f>=c)return{node:p,offset:c-s};s=f}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=vC(p)}}function SC(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?SC(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function CC(){for(var s=window,c=wt();c instanceof s.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)s=c.contentWindow;else break;c=wt(s.document)}return c}function zh(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function VO(s){var c=CC(),p=s.focusedElem,f=s.selectionRange;if(c!==p&&p&&p.ownerDocument&&SC(p.ownerDocument.documentElement,p)){if(f!==null&&zh(p)){if(c=f.start,s=f.end,s===void 0&&(s=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(s,p.value.length);else if(s=(c=p.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var S=p.textContent.length,P=Math.min(f.start,S);f=f.end===void 0?P:Math.min(f.end,S),!s.extend&&P>f&&(S=f,f=P,P=S),S=yC(p,P);var E=yC(p,f);S&&E&&(s.rangeCount!==1||s.anchorNode!==S.node||s.anchorOffset!==S.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),s.removeAllRanges(),P>f?(s.addRange(c),s.extend(E.node,E.offset)):(c.setEnd(E.node,E.offset),s.addRange(c)))}}for(c=[],s=p;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)s=c[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var KO=a&&"documentMode"in document&&11>=document.documentMode,ho=null,Mh=null,Ua=null,kh=!1;function xC(s,c,p){var f=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;kh||ho==null||ho!==wt(f)||(f=ho,"selectionStart"in f&&zh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ua&&Ha(Ua,f)||(Ua=f,f=mp(Mh,"onSelect"),0<f.length&&(c=new wh("onSelect","select",null,c,p),s.push({event:c,listeners:f}),c.target=ho)))}function up(s,c){var p={};return p[s.toLowerCase()]=c.toLowerCase(),p["Webkit"+s]="webkit"+c,p["Moz"+s]="moz"+c,p}var fo={animationend:up("Animation","AnimationEnd"),animationiteration:up("Animation","AnimationIteration"),animationstart:up("Animation","AnimationStart"),transitionend:up("Transition","TransitionEnd")},Oh={},PC={};a&&(PC=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function dp(s){if(Oh[s])return Oh[s];if(!fo[s])return s;var c=fo[s],p;for(p in c)if(c.hasOwnProperty(p)&&p in PC)return Oh[s]=c[p];return s}var RC=dp("animationend"),wC=dp("animationiteration"),bC=dp("animationstart"),NC=dp("transitionend"),EC=new Map,TC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(s,c){EC.set(s,c),o(c,[s])}for(var Dh=0;Dh<TC.length;Dh++){var Bh=TC[Dh],GO=Bh.toLowerCase(),JO=Bh[0].toUpperCase()+Bh.slice(1);li(GO,"on"+JO)}li(RC,"onAnimationEnd"),li(wC,"onAnimationIteration"),li(bC,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(NC,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QO=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function IC(s,c,p){var f=s.type||"unknown-event";s.currentTarget=p,Gk(f,c,void 0,s),s.currentTarget=null}function AC(s,c){c=(c&4)!==0;for(var p=0;p<s.length;p++){var f=s[p],S=f.event;f=f.listeners;e:{var P=void 0;if(c)for(var E=f.length-1;0<=E;E--){var _=f[E],O=_.instance,F=_.currentTarget;if(_=_.listener,O!==P&&S.isPropagationStopped())break e;IC(S,_,F),P=O}else for(E=0;E<f.length;E++){if(_=f[E],O=_.instance,F=_.currentTarget,_=_.listener,O!==P&&S.isPropagationStopped())break e;IC(S,_,F),P=O}}}if(Yi)throw s=Ia,Yi=!1,Ia=null,s}function ct(s,c){var p=c[Wh];p===void 0&&(p=c[Wh]=new Set);var f=s+"__bubble";p.has(f)||(_C(c,s,2,!1),p.add(f))}function Lh(s,c,p){var f=0;c&&(f|=4),_C(p,s,f,c)}var pp="_reactListening"+Math.random().toString(36).slice(2);function Wa(s){if(!s[pp]){s[pp]=!0,n.forEach(function(p){p!=="selectionchange"&&(QO.has(p)||Lh(p,!1,s),Lh(p,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[pp]||(c[pp]=!0,Lh("selectionchange",!1,c))}}function _C(s,c,p,f){switch(eC(c)){case 1:var S=uO;break;case 4:S=dO;break;default:S=xh}p=S.bind(null,c,p,s),S=void 0,!co||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),f?S!==void 0?s.addEventListener(c,p,{capture:!0,passive:S}):s.addEventListener(c,p,!0):S!==void 0?s.addEventListener(c,p,{passive:S}):s.addEventListener(c,p,!1)}function jh(s,c,p,f,S){var P=f;if((c&1)===0&&(c&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var _=f.stateNode.containerInfo;if(_===S||_.nodeType===8&&_.parentNode===S)break;if(E===4)for(E=f.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===S||O.nodeType===8&&O.parentNode===S))return;E=E.return}for(;_!==null;){if(E=es(_),E===null)return;if(O=E.tag,O===5||O===6){f=P=E;continue e}_=_.parentNode}}f=f.return}ao(function(){var F=P,Q=Te(p),Y=[];e:{var J=EC.get(s);if(J!==void 0){var ce=wh,xe=s;switch(s){case"keypress":if(op(p)===0)break e;case"keydown":case"keyup":ce=NO;break;case"focusin":xe="focus",ce=Eh;break;case"focusout":xe="blur",ce=Eh;break;case"beforeblur":case"afterblur":ce=Eh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=nC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=hO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=IO;break;case RC:case wC:case bC:ce=vO;break;case NC:ce=_O;break;case"scroll":ce=pO;break;case"wheel":ce=MO;break;case"copy":case"cut":case"paste":ce=SO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=sC}var be=(c&4)!==0,Nt=!be&&s==="scroll",j=be?J!==null?J+"Capture":null:J;be=[];for(var B=F,q;B!==null;){q=B;var re=q.stateNode;if(q.tag===5&&re!==null&&(q=re,j!==null&&(re=un(B,j),re!=null&&be.push(Va(B,re,q)))),Nt)break;B=B.return}0<be.length&&(J=new ce(J,xe,null,p,Q),Y.push({event:J,listeners:be}))}}if((c&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",J&&p!==se&&(xe=p.relatedTarget||p.fromElement)&&(es(xe)||xe[Mn]))break e;if((ce||J)&&(J=Q.window===Q?Q:(J=Q.ownerDocument)?J.defaultView||J.parentWindow:window,ce?(xe=p.relatedTarget||p.toElement,ce=F,xe=xe?es(xe):null,xe!==null&&(Nt=Zi(xe),xe!==Nt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(ce=null,xe=F),ce!==xe)){if(be=nC,re="onMouseLeave",j="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(be=sC,re="onPointerLeave",j="onPointerEnter",B="pointer"),Nt=ce==null?J:yo(ce),q=xe==null?J:yo(xe),J=new be(re,B+"leave",ce,p,Q),J.target=Nt,J.relatedTarget=q,re=null,es(Q)===F&&(be=new be(j,B+"enter",xe,p,Q),be.target=q,be.relatedTarget=Nt,re=be),Nt=re,ce&&xe)t:{for(be=ce,j=xe,B=0,q=be;q;q=go(q))B++;for(q=0,re=j;re;re=go(re))q++;for(;0<B-q;)be=go(be),B--;for(;0<q-B;)j=go(j),q--;for(;B--;){if(be===j||j!==null&&be===j.alternate)break t;be=go(be),j=go(j)}be=null}else be=null;ce!==null&&zC(Y,J,ce,be,!1),xe!==null&&Nt!==null&&zC(Y,Nt,xe,be,!0)}}e:{if(J=F?yo(F):window,ce=J.nodeName&&J.nodeName.toLowerCase(),ce==="select"||ce==="input"&&J.type==="file")var Ee=qO;else if(dC(J))if(mC)Ee=$O;else{Ee=HO;var ze=FO}else(ce=J.nodeName)&&ce.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(Ee=UO);if(Ee&&(Ee=Ee(s,F))){pC(Y,Ee,p,Q);break e}ze&&ze(s,J,F),s==="focusout"&&(ze=J._wrapperState)&&ze.controlled&&J.type==="number"&&Vi(J,"number",J.value)}switch(ze=F?yo(F):window,s){case"focusin":(dC(ze)||ze.contentEditable==="true")&&(ho=ze,Mh=F,Ua=null);break;case"focusout":Ua=Mh=ho=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,xC(Y,p,Q);break;case"selectionchange":if(KO)break;case"keydown":case"keyup":xC(Y,p,Q)}var Me;if(Ih)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else mo?lC(s,p)&&(Be="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Be="onCompositionStart");Be&&(oC&&p.locale!=="ko"&&(mo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&mo&&(Me=tC()):(ci=Q,Rh="value"in ci?ci.value:ci.textContent,mo=!0)),ze=mp(F,Be),0<ze.length&&(Be=new iC(Be,s,null,p,Q),Y.push({event:Be,listeners:ze}),Me?Be.data=Me:(Me=uC(p),Me!==null&&(Be.data=Me)))),(Me=OO?DO(s,p):BO(s,p))&&(F=mp(F,"onBeforeInput"),0<F.length&&(Q=new iC("onBeforeInput","beforeinput",null,p,Q),Y.push({event:Q,listeners:F}),Q.data=Me))}AC(Y,c)})}function Va(s,c,p){return{instance:s,listener:c,currentTarget:p}}function mp(s,c){for(var p=c+"Capture",f=[];s!==null;){var S=s,P=S.stateNode;S.tag===5&&P!==null&&(S=P,P=un(s,p),P!=null&&f.unshift(Va(s,P,S)),P=un(s,c),P!=null&&f.push(Va(s,P,S))),s=s.return}return f}function go(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function zC(s,c,p,f,S){for(var P=c._reactName,E=[];p!==null&&p!==f;){var _=p,O=_.alternate,F=_.stateNode;if(O!==null&&O===f)break;_.tag===5&&F!==null&&(_=F,S?(O=un(p,P),O!=null&&E.unshift(Va(p,O,_))):S||(O=un(p,P),O!=null&&E.push(Va(p,O,_)))),p=p.return}E.length!==0&&s.push({event:c,listeners:E})}var XO=/\r\n?/g,YO=/\u0000|\uFFFD/g;function MC(s){return(typeof s=="string"?s:""+s).replace(XO,`
`).replace(YO,"")}function hp(s,c,p){if(c=MC(c),MC(s)!==c&&p)throw Error(r(425))}function fp(){}var qh=null,Fh=null;function Hh(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,ZO=typeof clearTimeout=="function"?clearTimeout:void 0,kC=typeof Promise=="function"?Promise:void 0,eD=typeof queueMicrotask=="function"?queueMicrotask:typeof kC<"u"?function(s){return kC.resolve(null).then(s).catch(tD)}:Uh;function tD(s){setTimeout(function(){throw s})}function $h(s,c){var p=c,f=0;do{var S=p.nextSibling;if(s.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(f===0){s.removeChild(S),Da(c);return}f--}else p!=="$"&&p!=="$?"&&p!=="$!"||f++;p=S}while(p);Da(c)}function ui(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function OC(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return s;c--}else p==="/$"&&c++}s=s.previousSibling}return null}var vo=Math.random().toString(36).slice(2),pn="__reactFiber$"+vo,Ka="__reactProps$"+vo,Mn="__reactContainer$"+vo,Wh="__reactEvents$"+vo,rD="__reactListeners$"+vo,nD="__reactHandles$"+vo;function es(s){var c=s[pn];if(c)return c;for(var p=s.parentNode;p;){if(c=p[Mn]||p[pn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(s=OC(s);s!==null;){if(p=s[pn])return p;s=OC(s)}return c}s=p,p=s.parentNode}return null}function Ga(s){return s=s[pn]||s[Mn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function yo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function gp(s){return s[Ka]||null}var Vh=[],So=-1;function di(s){return{current:s}}function lt(s){0>So||(s.current=Vh[So],Vh[So]=null,So--)}function ot(s,c){So++,Vh[So]=s.current,s.current=c}var pi={},Xt=di(pi),dr=di(!1),ts=pi;function Co(s,c){var p=s.type.contextTypes;if(!p)return pi;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===c)return f.__reactInternalMemoizedMaskedChildContext;var S={},P;for(P in p)S[P]=c[P];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=S),S}function pr(s){return s=s.childContextTypes,s!=null}function vp(){lt(dr),lt(Xt)}function DC(s,c,p){if(Xt.current!==pi)throw Error(r(168));ot(Xt,c),ot(dr,p)}function BC(s,c,p){var f=s.stateNode;if(c=c.childContextTypes,typeof f.getChildContext!="function")return p;f=f.getChildContext();for(var S in f)if(!(S in c))throw Error(r(108,X(s)||"Unknown",S));return G({},p,f)}function yp(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||pi,ts=Xt.current,ot(Xt,s),ot(dr,dr.current),!0}function LC(s,c,p){var f=s.stateNode;if(!f)throw Error(r(169));p?(s=BC(s,c,ts),f.__reactInternalMemoizedMergedChildContext=s,lt(dr),lt(Xt),ot(Xt,s)):lt(dr),ot(dr,p)}var kn=null,Sp=!1,Kh=!1;function jC(s){kn===null?kn=[s]:kn.push(s)}function iD(s){Sp=!0,jC(s)}function mi(){if(!Kh&&kn!==null){Kh=!0;var s=0,c=st;try{var p=kn;for(st=1;s<p.length;s++){var f=p[s];do f=f(!0);while(f!==null)}kn=null,Sp=!1}catch(S){throw kn!==null&&(kn=kn.slice(s+1)),FS(fh,mi),S}finally{st=c,Kh=!1}}return null}var xo=[],Po=0,Cp=null,xp=0,Tr=[],Ir=0,rs=null,On=1,Dn="";function ns(s,c){xo[Po++]=xp,xo[Po++]=Cp,Cp=s,xp=c}function qC(s,c,p){Tr[Ir++]=On,Tr[Ir++]=Dn,Tr[Ir++]=rs,rs=s;var f=On;s=Dn;var S=32-Hr(f)-1;f&=~(1<<S),p+=1;var P=32-Hr(c)+S;if(30<P){var E=S-S%5;P=(f&(1<<E)-1).toString(32),f>>=E,S-=E,On=1<<32-Hr(c)+S|p<<S|f,Dn=P+s}else On=1<<P|p<<S|f,Dn=s}function Gh(s){s.return!==null&&(ns(s,1),qC(s,1,0))}function Jh(s){for(;s===Cp;)Cp=xo[--Po],xo[Po]=null,xp=xo[--Po],xo[Po]=null;for(;s===rs;)rs=Tr[--Ir],Tr[Ir]=null,Dn=Tr[--Ir],Tr[Ir]=null,On=Tr[--Ir],Tr[Ir]=null}var yr=null,Sr=null,pt=!1,$r=null;function FC(s,c){var p=Mr(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=s,c=s.deletions,c===null?(s.deletions=[p],s.flags|=16):c.push(p)}function HC(s,c){switch(s.tag){case 5:var p=s.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,yr=s,Sr=ui(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,yr=s,Sr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=rs!==null?{id:On,overflow:Dn}:null,s.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=Mr(18,null,null,0),p.stateNode=c,p.return=s,s.child=p,yr=s,Sr=null,!0):!1;default:return!1}}function Qh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Xh(s){if(pt){var c=Sr;if(c){var p=c;if(!HC(s,c)){if(Qh(s))throw Error(r(418));c=ui(p.nextSibling);var f=yr;c&&HC(s,c)?FC(f,p):(s.flags=s.flags&-4097|2,pt=!1,yr=s)}}else{if(Qh(s))throw Error(r(418));s.flags=s.flags&-4097|2,pt=!1,yr=s}}}function UC(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;yr=s}function Pp(s){if(s!==yr)return!1;if(!pt)return UC(s),pt=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!Hh(s.type,s.memoizedProps)),c&&(c=Sr)){if(Qh(s))throw $C(),Error(r(418));for(;c;)FC(s,c),c=ui(c.nextSibling)}if(UC(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(c===0){Sr=ui(s.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}s=s.nextSibling}Sr=null}}else Sr=yr?ui(s.stateNode.nextSibling):null;return!0}function $C(){for(var s=Sr;s;)s=ui(s.nextSibling)}function Ro(){Sr=yr=null,pt=!1}function Yh(s){$r===null?$r=[s]:$r.push(s)}var sD=T.ReactCurrentBatchConfig;function Ja(s,c,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var f=p.stateNode}if(!f)throw Error(r(147,s));var S=f,P=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===P?c.ref:(c=function(E){var _=S.refs;E===null?delete _[P]:_[P]=E},c._stringRef=P,c)}if(typeof s!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,s))}return s}function Rp(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function WC(s){var c=s._init;return c(s._payload)}function VC(s){function c(j,B){if(s){var q=j.deletions;q===null?(j.deletions=[B],j.flags|=16):q.push(B)}}function p(j,B){if(!s)return null;for(;B!==null;)c(j,B),B=B.sibling;return null}function f(j,B){for(j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function S(j,B){return j=xi(j,B),j.index=0,j.sibling=null,j}function P(j,B,q){return j.index=q,s?(q=j.alternate,q!==null?(q=q.index,q<B?(j.flags|=2,B):q):(j.flags|=2,B)):(j.flags|=1048576,B)}function E(j){return s&&j.alternate===null&&(j.flags|=2),j}function _(j,B,q,re){return B===null||B.tag!==6?(B=$f(q,j.mode,re),B.return=j,B):(B=S(B,q),B.return=j,B)}function O(j,B,q,re){var Ee=q.type;return Ee===M?Q(j,B,q.props.children,re,q.key):B!==null&&(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===fe&&WC(Ee)===B.type)?(re=S(B,q.props),re.ref=Ja(j,B,q),re.return=j,re):(re=Kp(q.type,q.key,q.props,null,j.mode,re),re.ref=Ja(j,B,q),re.return=j,re)}function F(j,B,q,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=Wf(q,j.mode,re),B.return=j,B):(B=S(B,q.children||[]),B.return=j,B)}function Q(j,B,q,re,Ee){return B===null||B.tag!==7?(B=ds(q,j.mode,re,Ee),B.return=j,B):(B=S(B,q),B.return=j,B)}function Y(j,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=$f(""+B,j.mode,q),B.return=j,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return q=Kp(B.type,B.key,B.props,null,j.mode,q),q.ref=Ja(j,null,B),q.return=j,q;case k:return B=Wf(B,j.mode,q),B.return=j,B;case fe:var re=B._init;return Y(j,re(B._payload),q)}if(An(B)||ee(B))return B=ds(B,j.mode,q,null),B.return=j,B;Rp(j,B)}return null}function J(j,B,q,re){var Ee=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ee!==null?null:_(j,B,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===Ee?O(j,B,q,re):null;case k:return q.key===Ee?F(j,B,q,re):null;case fe:return Ee=q._init,J(j,B,Ee(q._payload),re)}if(An(q)||ee(q))return Ee!==null?null:Q(j,B,q,re,null);Rp(j,q)}return null}function ce(j,B,q,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number")return j=j.get(q)||null,_(B,j,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case A:return j=j.get(re.key===null?q:re.key)||null,O(B,j,re,Ee);case k:return j=j.get(re.key===null?q:re.key)||null,F(B,j,re,Ee);case fe:var ze=re._init;return ce(j,B,q,ze(re._payload),Ee)}if(An(re)||ee(re))return j=j.get(q)||null,Q(B,j,re,Ee,null);Rp(B,re)}return null}function xe(j,B,q,re){for(var Ee=null,ze=null,Me=B,Be=B=0,jt=null;Me!==null&&Be<q.length;Be++){Me.index>Be?(jt=Me,Me=null):jt=Me.sibling;var tt=J(j,Me,q[Be],re);if(tt===null){Me===null&&(Me=jt);break}s&&Me&&tt.alternate===null&&c(j,Me),B=P(tt,B,Be),ze===null?Ee=tt:ze.sibling=tt,ze=tt,Me=jt}if(Be===q.length)return p(j,Me),pt&&ns(j,Be),Ee;if(Me===null){for(;Be<q.length;Be++)Me=Y(j,q[Be],re),Me!==null&&(B=P(Me,B,Be),ze===null?Ee=Me:ze.sibling=Me,ze=Me);return pt&&ns(j,Be),Ee}for(Me=f(j,Me);Be<q.length;Be++)jt=ce(Me,j,Be,q[Be],re),jt!==null&&(s&&jt.alternate!==null&&Me.delete(jt.key===null?Be:jt.key),B=P(jt,B,Be),ze===null?Ee=jt:ze.sibling=jt,ze=jt);return s&&Me.forEach(function(Pi){return c(j,Pi)}),pt&&ns(j,Be),Ee}function be(j,B,q,re){var Ee=ee(q);if(typeof Ee!="function")throw Error(r(150));if(q=Ee.call(q),q==null)throw Error(r(151));for(var ze=Ee=null,Me=B,Be=B=0,jt=null,tt=q.next();Me!==null&&!tt.done;Be++,tt=q.next()){Me.index>Be?(jt=Me,Me=null):jt=Me.sibling;var Pi=J(j,Me,tt.value,re);if(Pi===null){Me===null&&(Me=jt);break}s&&Me&&Pi.alternate===null&&c(j,Me),B=P(Pi,B,Be),ze===null?Ee=Pi:ze.sibling=Pi,ze=Pi,Me=jt}if(tt.done)return p(j,Me),pt&&ns(j,Be),Ee;if(Me===null){for(;!tt.done;Be++,tt=q.next())tt=Y(j,tt.value,re),tt!==null&&(B=P(tt,B,Be),ze===null?Ee=tt:ze.sibling=tt,ze=tt);return pt&&ns(j,Be),Ee}for(Me=f(j,Me);!tt.done;Be++,tt=q.next())tt=ce(Me,j,Be,tt.value,re),tt!==null&&(s&&tt.alternate!==null&&Me.delete(tt.key===null?Be:tt.key),B=P(tt,B,Be),ze===null?Ee=tt:ze.sibling=tt,ze=tt);return s&&Me.forEach(function(LD){return c(j,LD)}),pt&&ns(j,Be),Ee}function Nt(j,B,q,re){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var Ee=q.key,ze=B;ze!==null;){if(ze.key===Ee){if(Ee=q.type,Ee===M){if(ze.tag===7){p(j,ze.sibling),B=S(ze,q.props.children),B.return=j,j=B;break e}}else if(ze.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===fe&&WC(Ee)===ze.type){p(j,ze.sibling),B=S(ze,q.props),B.ref=Ja(j,ze,q),B.return=j,j=B;break e}p(j,ze);break}else c(j,ze);ze=ze.sibling}q.type===M?(B=ds(q.props.children,j.mode,re,q.key),B.return=j,j=B):(re=Kp(q.type,q.key,q.props,null,j.mode,re),re.ref=Ja(j,B,q),re.return=j,j=re)}return E(j);case k:e:{for(ze=q.key;B!==null;){if(B.key===ze)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){p(j,B.sibling),B=S(B,q.children||[]),B.return=j,j=B;break e}else{p(j,B);break}else c(j,B);B=B.sibling}B=Wf(q,j.mode,re),B.return=j,j=B}return E(j);case fe:return ze=q._init,Nt(j,B,ze(q._payload),re)}if(An(q))return xe(j,B,q,re);if(ee(q))return be(j,B,q,re);Rp(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(p(j,B.sibling),B=S(B,q),B.return=j,j=B):(p(j,B),B=$f(q,j.mode,re),B.return=j,j=B),E(j)):p(j,B)}return Nt}var wo=VC(!0),KC=VC(!1),wp=di(null),bp=null,bo=null,Zh=null;function ef(){Zh=bo=bp=null}function tf(s){var c=wp.current;lt(wp),s._currentValue=c}function rf(s,c,p){for(;s!==null;){var f=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,f!==null&&(f.childLanes|=c)):f!==null&&(f.childLanes&c)!==c&&(f.childLanes|=c),s===p)break;s=s.return}}function No(s,c){bp=s,Zh=bo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(mr=!0),s.firstContext=null)}function Ar(s){var c=s._currentValue;if(Zh!==s)if(s={context:s,memoizedValue:c,next:null},bo===null){if(bp===null)throw Error(r(308));bo=s,bp.dependencies={lanes:0,firstContext:s}}else bo=bo.next=s;return c}var is=null;function nf(s){is===null?is=[s]:is.push(s)}function GC(s,c,p,f){var S=c.interleaved;return S===null?(p.next=p,nf(c)):(p.next=S.next,S.next=p),c.interleaved=p,Bn(s,f)}function Bn(s,c){s.lanes|=c;var p=s.alternate;for(p!==null&&(p.lanes|=c),p=s,s=s.return;s!==null;)s.childLanes|=c,p=s.alternate,p!==null&&(p.childLanes|=c),p=s,s=s.return;return p.tag===3?p.stateNode:null}var hi=!1;function sf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JC(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ln(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function fi(s,c,p){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Xe&2)!==0){var S=f.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),f.pending=c,Bn(s,p)}return S=f.interleaved,S===null?(c.next=c,nf(f)):(c.next=S.next,S.next=c),f.interleaved=c,Bn(s,p)}function Np(s,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var f=c.lanes;f&=s.pendingLanes,p|=f,c.lanes=p,yh(s,p)}}function QC(s,c){var p=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,p===f)){var S=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var E={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};P===null?S=P=E:P=P.next=E,p=p.next}while(p!==null);P===null?S=P=c:P=P.next=c}else S=P=c;p={baseState:f.baseState,firstBaseUpdate:S,lastBaseUpdate:P,shared:f.shared,effects:f.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=c:s.next=c,p.lastBaseUpdate=c}function Ep(s,c,p,f){var S=s.updateQueue;hi=!1;var P=S.firstBaseUpdate,E=S.lastBaseUpdate,_=S.shared.pending;if(_!==null){S.shared.pending=null;var O=_,F=O.next;O.next=null,E===null?P=F:E.next=F,E=O;var Q=s.alternate;Q!==null&&(Q=Q.updateQueue,_=Q.lastBaseUpdate,_!==E&&(_===null?Q.firstBaseUpdate=F:_.next=F,Q.lastBaseUpdate=O))}if(P!==null){var Y=S.baseState;E=0,Q=F=O=null,_=P;do{var J=_.lane,ce=_.eventTime;if((f&J)===J){Q!==null&&(Q=Q.next={eventTime:ce,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var xe=s,be=_;switch(J=c,ce=p,be.tag){case 1:if(xe=be.payload,typeof xe=="function"){Y=xe.call(ce,Y,J);break e}Y=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=be.payload,J=typeof xe=="function"?xe.call(ce,Y,J):xe,J==null)break e;Y=G({},Y,J);break e;case 2:hi=!0}}_.callback!==null&&_.lane!==0&&(s.flags|=64,J=S.effects,J===null?S.effects=[_]:J.push(_))}else ce={eventTime:ce,lane:J,tag:_.tag,payload:_.payload,callback:_.callback,next:null},Q===null?(F=Q=ce,O=Y):Q=Q.next=ce,E|=J;if(_=_.next,_===null){if(_=S.shared.pending,_===null)break;J=_,_=J.next,J.next=null,S.lastBaseUpdate=J,S.shared.pending=null}}while(!0);if(Q===null&&(O=Y),S.baseState=O,S.firstBaseUpdate=F,S.lastBaseUpdate=Q,c=S.shared.interleaved,c!==null){S=c;do E|=S.lane,S=S.next;while(S!==c)}else P===null&&(S.shared.lanes=0);as|=E,s.lanes=E,s.memoizedState=Y}}function XC(s,c,p){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var f=s[c],S=f.callback;if(S!==null){if(f.callback=null,f=p,typeof S!="function")throw Error(r(191,S));S.call(f)}}}var Qa={},mn=di(Qa),Xa=di(Qa),Ya=di(Qa);function ss(s){if(s===Qa)throw Error(r(174));return s}function of(s,c){switch(ot(Ya,c),ot(Xa,s),ot(mn,Qa),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Ki(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=Ki(c,s)}lt(mn),ot(mn,c)}function Eo(){lt(mn),lt(Xa),lt(Ya)}function YC(s){ss(Ya.current);var c=ss(mn.current),p=Ki(c,s.type);c!==p&&(ot(Xa,s),ot(mn,p))}function af(s){Xa.current===s&&(lt(mn),lt(Xa))}var gt=di(0);function Tp(s){for(var c=s;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var cf=[];function lf(){for(var s=0;s<cf.length;s++)cf[s]._workInProgressVersionPrimary=null;cf.length=0}var Ip=T.ReactCurrentDispatcher,uf=T.ReactCurrentBatchConfig,os=0,vt=null,_t=null,Bt=null,Ap=!1,Za=!1,ec=0,oD=0;function Yt(){throw Error(r(321))}function df(s,c){if(c===null)return!1;for(var p=0;p<c.length&&p<s.length;p++)if(!Ur(s[p],c[p]))return!1;return!0}function pf(s,c,p,f,S,P){if(os=P,vt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Ip.current=s===null||s.memoizedState===null?uD:dD,s=p(f,S),Za){P=0;do{if(Za=!1,ec=0,25<=P)throw Error(r(301));P+=1,Bt=_t=null,c.updateQueue=null,Ip.current=pD,s=p(f,S)}while(Za)}if(Ip.current=Mp,c=_t!==null&&_t.next!==null,os=0,Bt=_t=vt=null,Ap=!1,c)throw Error(r(300));return s}function mf(){var s=ec!==0;return ec=0,s}function hn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?vt.memoizedState=Bt=s:Bt=Bt.next=s,Bt}function _r(){if(_t===null){var s=vt.alternate;s=s!==null?s.memoizedState:null}else s=_t.next;var c=Bt===null?vt.memoizedState:Bt.next;if(c!==null)Bt=c,_t=s;else{if(s===null)throw Error(r(310));_t=s,s={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Bt===null?vt.memoizedState=Bt=s:Bt=Bt.next=s}return Bt}function tc(s,c){return typeof c=="function"?c(s):c}function hf(s){var c=_r(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var f=_t,S=f.baseQueue,P=p.pending;if(P!==null){if(S!==null){var E=S.next;S.next=P.next,P.next=E}f.baseQueue=S=P,p.pending=null}if(S!==null){P=S.next,f=f.baseState;var _=E=null,O=null,F=P;do{var Q=F.lane;if((os&Q)===Q)O!==null&&(O=O.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),f=F.hasEagerState?F.eagerState:s(f,F.action);else{var Y={lane:Q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};O===null?(_=O=Y,E=f):O=O.next=Y,vt.lanes|=Q,as|=Q}F=F.next}while(F!==null&&F!==P);O===null?E=f:O.next=_,Ur(f,c.memoizedState)||(mr=!0),c.memoizedState=f,c.baseState=E,c.baseQueue=O,p.lastRenderedState=f}if(s=p.interleaved,s!==null){S=s;do P=S.lane,vt.lanes|=P,as|=P,S=S.next;while(S!==s)}else S===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function ff(s){var c=_r(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var f=p.dispatch,S=p.pending,P=c.memoizedState;if(S!==null){p.pending=null;var E=S=S.next;do P=s(P,E.action),E=E.next;while(E!==S);Ur(P,c.memoizedState)||(mr=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),p.lastRenderedState=P}return[P,f]}function ZC(){}function ex(s,c){var p=vt,f=_r(),S=c(),P=!Ur(f.memoizedState,S);if(P&&(f.memoizedState=S,mr=!0),f=f.queue,gf(nx.bind(null,p,f,s),[s]),f.getSnapshot!==c||P||Bt!==null&&Bt.memoizedState.tag&1){if(p.flags|=2048,rc(9,rx.bind(null,p,f,S,c),void 0,null),Lt===null)throw Error(r(349));(os&30)!==0||tx(p,c,S)}return S}function tx(s,c,p){s.flags|=16384,s={getSnapshot:c,value:p},c=vt.updateQueue,c===null?(c={lastEffect:null,stores:null},vt.updateQueue=c,c.stores=[s]):(p=c.stores,p===null?c.stores=[s]:p.push(s))}function rx(s,c,p,f){c.value=p,c.getSnapshot=f,ix(c)&&sx(s)}function nx(s,c,p){return p(function(){ix(c)&&sx(s)})}function ix(s){var c=s.getSnapshot;s=s.value;try{var p=c();return!Ur(s,p)}catch{return!0}}function sx(s){var c=Bn(s,1);c!==null&&Gr(c,s,1,-1)}function ox(s){var c=hn();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:s},c.queue=s,s=s.dispatch=lD.bind(null,vt,s),[c.memoizedState,s]}function rc(s,c,p,f){return s={tag:s,create:c,destroy:p,deps:f,next:null},c=vt.updateQueue,c===null?(c={lastEffect:null,stores:null},vt.updateQueue=c,c.lastEffect=s.next=s):(p=c.lastEffect,p===null?c.lastEffect=s.next=s:(f=p.next,p.next=s,s.next=f,c.lastEffect=s)),s}function ax(){return _r().memoizedState}function _p(s,c,p,f){var S=hn();vt.flags|=s,S.memoizedState=rc(1|c,p,void 0,f===void 0?null:f)}function zp(s,c,p,f){var S=_r();f=f===void 0?null:f;var P=void 0;if(_t!==null){var E=_t.memoizedState;if(P=E.destroy,f!==null&&df(f,E.deps)){S.memoizedState=rc(c,p,P,f);return}}vt.flags|=s,S.memoizedState=rc(1|c,p,P,f)}function cx(s,c){return _p(8390656,8,s,c)}function gf(s,c){return zp(2048,8,s,c)}function lx(s,c){return zp(4,2,s,c)}function ux(s,c){return zp(4,4,s,c)}function dx(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function px(s,c,p){return p=p!=null?p.concat([s]):null,zp(4,4,dx.bind(null,c,s),p)}function vf(){}function mx(s,c){var p=_r();c=c===void 0?null:c;var f=p.memoizedState;return f!==null&&c!==null&&df(c,f[1])?f[0]:(p.memoizedState=[s,c],s)}function hx(s,c){var p=_r();c=c===void 0?null:c;var f=p.memoizedState;return f!==null&&c!==null&&df(c,f[1])?f[0]:(s=s(),p.memoizedState=[s,c],s)}function fx(s,c,p){return(os&21)===0?(s.baseState&&(s.baseState=!1,mr=!0),s.memoizedState=p):(Ur(p,c)||(p=WS(),vt.lanes|=p,as|=p,s.baseState=!0),c)}function aD(s,c){var p=st;st=p!==0&&4>p?p:4,s(!0);var f=uf.transition;uf.transition={};try{s(!1),c()}finally{st=p,uf.transition=f}}function gx(){return _r().memoizedState}function cD(s,c,p){var f=Si(s);if(p={lane:f,action:p,hasEagerState:!1,eagerState:null,next:null},vx(s))yx(c,p);else if(p=GC(s,c,p,f),p!==null){var S=sr();Gr(p,s,f,S),Sx(p,c,f)}}function lD(s,c,p){var f=Si(s),S={lane:f,action:p,hasEagerState:!1,eagerState:null,next:null};if(vx(s))yx(c,S);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var E=c.lastRenderedState,_=P(E,p);if(S.hasEagerState=!0,S.eagerState=_,Ur(_,E)){var O=c.interleaved;O===null?(S.next=S,nf(c)):(S.next=O.next,O.next=S),c.interleaved=S;return}}catch{}finally{}p=GC(s,c,S,f),p!==null&&(S=sr(),Gr(p,s,f,S),Sx(p,c,f))}}function vx(s){var c=s.alternate;return s===vt||c!==null&&c===vt}function yx(s,c){Za=Ap=!0;var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}function Sx(s,c,p){if((p&4194240)!==0){var f=c.lanes;f&=s.pendingLanes,p|=f,c.lanes=p,yh(s,p)}}var Mp={readContext:Ar,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},uD={readContext:Ar,useCallback:function(s,c){return hn().memoizedState=[s,c===void 0?null:c],s},useContext:Ar,useEffect:cx,useImperativeHandle:function(s,c,p){return p=p!=null?p.concat([s]):null,_p(4194308,4,dx.bind(null,c,s),p)},useLayoutEffect:function(s,c){return _p(4194308,4,s,c)},useInsertionEffect:function(s,c){return _p(4,2,s,c)},useMemo:function(s,c){var p=hn();return c=c===void 0?null:c,s=s(),p.memoizedState=[s,c],s},useReducer:function(s,c,p){var f=hn();return c=p!==void 0?p(c):c,f.memoizedState=f.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},f.queue=s,s=s.dispatch=cD.bind(null,vt,s),[f.memoizedState,s]},useRef:function(s){var c=hn();return s={current:s},c.memoizedState=s},useState:ox,useDebugValue:vf,useDeferredValue:function(s){return hn().memoizedState=s},useTransition:function(){var s=ox(!1),c=s[0];return s=aD.bind(null,s[1]),hn().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,p){var f=vt,S=hn();if(pt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),Lt===null)throw Error(r(349));(os&30)!==0||tx(f,c,p)}S.memoizedState=p;var P={value:p,getSnapshot:c};return S.queue=P,cx(nx.bind(null,f,P,s),[s]),f.flags|=2048,rc(9,rx.bind(null,f,P,p,c),void 0,null),p},useId:function(){var s=hn(),c=Lt.identifierPrefix;if(pt){var p=Dn,f=On;p=(f&~(1<<32-Hr(f)-1)).toString(32)+p,c=":"+c+"R"+p,p=ec++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=oD++,c=":"+c+"r"+p.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},dD={readContext:Ar,useCallback:mx,useContext:Ar,useEffect:gf,useImperativeHandle:px,useInsertionEffect:lx,useLayoutEffect:ux,useMemo:hx,useReducer:hf,useRef:ax,useState:function(){return hf(tc)},useDebugValue:vf,useDeferredValue:function(s){var c=_r();return fx(c,_t.memoizedState,s)},useTransition:function(){var s=hf(tc)[0],c=_r().memoizedState;return[s,c]},useMutableSource:ZC,useSyncExternalStore:ex,useId:gx,unstable_isNewReconciler:!1},pD={readContext:Ar,useCallback:mx,useContext:Ar,useEffect:gf,useImperativeHandle:px,useInsertionEffect:lx,useLayoutEffect:ux,useMemo:hx,useReducer:ff,useRef:ax,useState:function(){return ff(tc)},useDebugValue:vf,useDeferredValue:function(s){var c=_r();return _t===null?c.memoizedState=s:fx(c,_t.memoizedState,s)},useTransition:function(){var s=ff(tc)[0],c=_r().memoizedState;return[s,c]},useMutableSource:ZC,useSyncExternalStore:ex,useId:gx,unstable_isNewReconciler:!1};function Wr(s,c){if(s&&s.defaultProps){c=G({},c),s=s.defaultProps;for(var p in s)c[p]===void 0&&(c[p]=s[p]);return c}return c}function yf(s,c,p,f){c=s.memoizedState,p=p(f,c),p=p==null?c:G({},c,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var kp={isMounted:function(s){return(s=s._reactInternals)?Zi(s)===s:!1},enqueueSetState:function(s,c,p){s=s._reactInternals;var f=sr(),S=Si(s),P=Ln(f,S);P.payload=c,p!=null&&(P.callback=p),c=fi(s,P,S),c!==null&&(Gr(c,s,S,f),Np(c,s,S))},enqueueReplaceState:function(s,c,p){s=s._reactInternals;var f=sr(),S=Si(s),P=Ln(f,S);P.tag=1,P.payload=c,p!=null&&(P.callback=p),c=fi(s,P,S),c!==null&&(Gr(c,s,S,f),Np(c,s,S))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var p=sr(),f=Si(s),S=Ln(p,f);S.tag=2,c!=null&&(S.callback=c),c=fi(s,S,f),c!==null&&(Gr(c,s,f,p),Np(c,s,f))}};function Cx(s,c,p,f,S,P,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,P,E):c.prototype&&c.prototype.isPureReactComponent?!Ha(p,f)||!Ha(S,P):!0}function xx(s,c,p){var f=!1,S=pi,P=c.contextType;return typeof P=="object"&&P!==null?P=Ar(P):(S=pr(c)?ts:Xt.current,f=c.contextTypes,P=(f=f!=null)?Co(s,S):pi),c=new c(p,P),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=kp,s.stateNode=c,c._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=S,s.__reactInternalMemoizedMaskedChildContext=P),c}function Px(s,c,p,f){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,f),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,f),c.state!==s&&kp.enqueueReplaceState(c,c.state,null)}function Sf(s,c,p,f){var S=s.stateNode;S.props=p,S.state=s.memoizedState,S.refs={},sf(s);var P=c.contextType;typeof P=="object"&&P!==null?S.context=Ar(P):(P=pr(c)?ts:Xt.current,S.context=Co(s,P)),S.state=s.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(yf(s,c,P,p),S.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(c=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),c!==S.state&&kp.enqueueReplaceState(S,S.state,null),Ep(s,p,S,f),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308)}function To(s,c){try{var p="",f=c;do p+=ke(f),f=f.return;while(f);var S=p}catch(P){S=`
Error generating stack: `+P.message+`
`+P.stack}return{value:s,source:c,stack:S,digest:null}}function Cf(s,c,p){return{value:s,source:null,stack:p??null,digest:c??null}}function xf(s,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var mD=typeof WeakMap=="function"?WeakMap:Map;function Rx(s,c,p){p=Ln(-1,p),p.tag=3,p.payload={element:null};var f=c.value;return p.callback=function(){Fp||(Fp=!0,Df=f),xf(s,c)},p}function wx(s,c,p){p=Ln(-1,p),p.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var S=c.value;p.payload=function(){return f(S)},p.callback=function(){xf(s,c)}}var P=s.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(p.callback=function(){xf(s,c),typeof f!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})}),p}function bx(s,c,p){var f=s.pingCache;if(f===null){f=s.pingCache=new mD;var S=new Set;f.set(c,S)}else S=f.get(c),S===void 0&&(S=new Set,f.set(c,S));S.has(p)||(S.add(p),s=ED.bind(null,s,c,p),c.then(s,s))}function Nx(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function Ex(s,c,p,f,S){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=Ln(-1,1),c.tag=2,fi(p,c,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=S,s)}var hD=T.ReactCurrentOwner,mr=!1;function ir(s,c,p,f){c.child=s===null?KC(c,null,p,f):wo(c,s.child,p,f)}function Tx(s,c,p,f,S){p=p.render;var P=c.ref;return No(c,S),f=pf(s,c,p,f,P,S),p=mf(),s!==null&&!mr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~S,jn(s,c,S)):(pt&&p&&Gh(c),c.flags|=1,ir(s,c,f,S),c.child)}function Ix(s,c,p,f,S){if(s===null){var P=p.type;return typeof P=="function"&&!Uf(P)&&P.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=P,Ax(s,c,P,f,S)):(s=Kp(p.type,null,f,c,c.mode,S),s.ref=c.ref,s.return=c,c.child=s)}if(P=s.child,(s.lanes&S)===0){var E=P.memoizedProps;if(p=p.compare,p=p!==null?p:Ha,p(E,f)&&s.ref===c.ref)return jn(s,c,S)}return c.flags|=1,s=xi(P,f),s.ref=c.ref,s.return=c,c.child=s}function Ax(s,c,p,f,S){if(s!==null){var P=s.memoizedProps;if(Ha(P,f)&&s.ref===c.ref)if(mr=!1,c.pendingProps=f=P,(s.lanes&S)!==0)(s.flags&131072)!==0&&(mr=!0);else return c.lanes=s.lanes,jn(s,c,S)}return Pf(s,c,p,f,S)}function _x(s,c,p){var f=c.pendingProps,S=f.children,P=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ao,Cr),Cr|=p;else{if((p&1073741824)===0)return s=P!==null?P.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,ot(Ao,Cr),Cr|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=P!==null?P.baseLanes:p,ot(Ao,Cr),Cr|=f}else P!==null?(f=P.baseLanes|p,c.memoizedState=null):f=p,ot(Ao,Cr),Cr|=f;return ir(s,c,S,p),c.child}function zx(s,c){var p=c.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Pf(s,c,p,f,S){var P=pr(p)?ts:Xt.current;return P=Co(c,P),No(c,S),p=pf(s,c,p,f,P,S),f=mf(),s!==null&&!mr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~S,jn(s,c,S)):(pt&&f&&Gh(c),c.flags|=1,ir(s,c,p,S),c.child)}function Mx(s,c,p,f,S){if(pr(p)){var P=!0;yp(c)}else P=!1;if(No(c,S),c.stateNode===null)Dp(s,c),xx(c,p,f),Sf(c,p,f,S),f=!0;else if(s===null){var E=c.stateNode,_=c.memoizedProps;E.props=_;var O=E.context,F=p.contextType;typeof F=="object"&&F!==null?F=Ar(F):(F=pr(p)?ts:Xt.current,F=Co(c,F));var Q=p.getDerivedStateFromProps,Y=typeof Q=="function"||typeof E.getSnapshotBeforeUpdate=="function";Y||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(_!==f||O!==F)&&Px(c,E,f,F),hi=!1;var J=c.memoizedState;E.state=J,Ep(c,f,E,S),O=c.memoizedState,_!==f||J!==O||dr.current||hi?(typeof Q=="function"&&(yf(c,p,Q,f),O=c.memoizedState),(_=hi||Cx(c,p,_,f,J,O,F))?(Y||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=f,c.memoizedState=O),E.props=f,E.state=O,E.context=F,f=_):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),f=!1)}else{E=c.stateNode,JC(s,c),_=c.memoizedProps,F=c.type===c.elementType?_:Wr(c.type,_),E.props=F,Y=c.pendingProps,J=E.context,O=p.contextType,typeof O=="object"&&O!==null?O=Ar(O):(O=pr(p)?ts:Xt.current,O=Co(c,O));var ce=p.getDerivedStateFromProps;(Q=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(_!==Y||J!==O)&&Px(c,E,f,O),hi=!1,J=c.memoizedState,E.state=J,Ep(c,f,E,S);var xe=c.memoizedState;_!==Y||J!==xe||dr.current||hi?(typeof ce=="function"&&(yf(c,p,ce,f),xe=c.memoizedState),(F=hi||Cx(c,p,F,f,J,xe,O)||!1)?(Q||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,xe,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,xe,O)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(c.flags|=1024),c.memoizedProps=f,c.memoizedState=xe),E.props=f,E.state=xe,E.context=O,f=F):(typeof E.componentDidUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&J===s.memoizedState||(c.flags|=1024),f=!1)}return Rf(s,c,p,f,P,S)}function Rf(s,c,p,f,S,P){zx(s,c);var E=(c.flags&128)!==0;if(!f&&!E)return S&&LC(c,p,!1),jn(s,c,P);f=c.stateNode,hD.current=c;var _=E&&typeof p.getDerivedStateFromError!="function"?null:f.render();return c.flags|=1,s!==null&&E?(c.child=wo(c,s.child,null,P),c.child=wo(c,null,_,P)):ir(s,c,_,P),c.memoizedState=f.state,S&&LC(c,p,!0),c.child}function kx(s){var c=s.stateNode;c.pendingContext?DC(s,c.pendingContext,c.pendingContext!==c.context):c.context&&DC(s,c.context,!1),of(s,c.containerInfo)}function Ox(s,c,p,f,S){return Ro(),Yh(S),c.flags|=256,ir(s,c,p,f),c.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function bf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Dx(s,c,p){var f=c.pendingProps,S=gt.current,P=!1,E=(c.flags&128)!==0,_;if((_=E)||(_=s!==null&&s.memoizedState===null?!1:(S&2)!==0),_?(P=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(S|=1),ot(gt,S&1),s===null)return Xh(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(E=f.children,s=f.fallback,P?(f=c.mode,P=c.child,E={mode:"hidden",children:E},(f&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=E):P=Gp(E,f,0,null),s=ds(s,f,p,null),P.return=c,s.return=c,P.sibling=s,c.child=P,c.child.memoizedState=bf(p),c.memoizedState=wf,s):Nf(c,E));if(S=s.memoizedState,S!==null&&(_=S.dehydrated,_!==null))return fD(s,c,E,f,_,S,p);if(P){P=f.fallback,E=c.mode,S=s.child,_=S.sibling;var O={mode:"hidden",children:f.children};return(E&1)===0&&c.child!==S?(f=c.child,f.childLanes=0,f.pendingProps=O,c.deletions=null):(f=xi(S,O),f.subtreeFlags=S.subtreeFlags&14680064),_!==null?P=xi(_,P):(P=ds(P,E,p,null),P.flags|=2),P.return=c,f.return=c,f.sibling=P,c.child=f,f=P,P=c.child,E=s.child.memoizedState,E=E===null?bf(p):{baseLanes:E.baseLanes|p,cachePool:null,transitions:E.transitions},P.memoizedState=E,P.childLanes=s.childLanes&~p,c.memoizedState=wf,f}return P=s.child,s=P.sibling,f=xi(P,{mode:"visible",children:f.children}),(c.mode&1)===0&&(f.lanes=p),f.return=c,f.sibling=null,s!==null&&(p=c.deletions,p===null?(c.deletions=[s],c.flags|=16):p.push(s)),c.child=f,c.memoizedState=null,f}function Nf(s,c){return c=Gp({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function Op(s,c,p,f){return f!==null&&Yh(f),wo(c,s.child,null,p),s=Nf(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function fD(s,c,p,f,S,P,E){if(p)return c.flags&256?(c.flags&=-257,f=Cf(Error(r(422))),Op(s,c,E,f)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(P=f.fallback,S=c.mode,f=Gp({mode:"visible",children:f.children},S,0,null),P=ds(P,S,E,null),P.flags|=2,f.return=c,P.return=c,f.sibling=P,c.child=f,(c.mode&1)!==0&&wo(c,s.child,null,E),c.child.memoizedState=bf(E),c.memoizedState=wf,P);if((c.mode&1)===0)return Op(s,c,E,null);if(S.data==="$!"){if(f=S.nextSibling&&S.nextSibling.dataset,f)var _=f.dgst;return f=_,P=Error(r(419)),f=Cf(P,f,void 0),Op(s,c,E,f)}if(_=(E&s.childLanes)!==0,mr||_){if(f=Lt,f!==null){switch(E&-E){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(f.suspendedLanes|E))!==0?0:S,S!==0&&S!==P.retryLane&&(P.retryLane=S,Bn(s,S),Gr(f,s,S,-1))}return Hf(),f=Cf(Error(r(421))),Op(s,c,E,f)}return S.data==="$?"?(c.flags|=128,c.child=s.child,c=TD.bind(null,s),S._reactRetry=c,null):(s=P.treeContext,Sr=ui(S.nextSibling),yr=c,pt=!0,$r=null,s!==null&&(Tr[Ir++]=On,Tr[Ir++]=Dn,Tr[Ir++]=rs,On=s.id,Dn=s.overflow,rs=c),c=Nf(c,f.children),c.flags|=4096,c)}function Bx(s,c,p){s.lanes|=c;var f=s.alternate;f!==null&&(f.lanes|=c),rf(s.return,c,p)}function Ef(s,c,p,f,S){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:f,tail:p,tailMode:S}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=f,P.tail=p,P.tailMode=S)}function Lx(s,c,p){var f=c.pendingProps,S=f.revealOrder,P=f.tail;if(ir(s,c,f.children,p),f=gt.current,(f&2)!==0)f=f&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Bx(s,p,c);else if(s.tag===19)Bx(s,p,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(ot(gt,f),(c.mode&1)===0)c.memoizedState=null;else switch(S){case"forwards":for(p=c.child,S=null;p!==null;)s=p.alternate,s!==null&&Tp(s)===null&&(S=p),p=p.sibling;p=S,p===null?(S=c.child,c.child=null):(S=p.sibling,p.sibling=null),Ef(c,!1,S,p,P);break;case"backwards":for(p=null,S=c.child,c.child=null;S!==null;){if(s=S.alternate,s!==null&&Tp(s)===null){c.child=S;break}s=S.sibling,S.sibling=p,p=S,S=s}Ef(c,!0,p,null,P);break;case"together":Ef(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Dp(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function jn(s,c,p){if(s!==null&&(c.dependencies=s.dependencies),as|=c.lanes,(p&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,p=xi(s,s.pendingProps),c.child=p,p.return=c;s.sibling!==null;)s=s.sibling,p=p.sibling=xi(s,s.pendingProps),p.return=c;p.sibling=null}return c.child}function gD(s,c,p){switch(c.tag){case 3:kx(c),Ro();break;case 5:YC(c);break;case 1:pr(c.type)&&yp(c);break;case 4:of(c,c.stateNode.containerInfo);break;case 10:var f=c.type._context,S=c.memoizedProps.value;ot(wp,f._currentValue),f._currentValue=S;break;case 13:if(f=c.memoizedState,f!==null)return f.dehydrated!==null?(ot(gt,gt.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?Dx(s,c,p):(ot(gt,gt.current&1),s=jn(s,c,p),s!==null?s.sibling:null);ot(gt,gt.current&1);break;case 19:if(f=(p&c.childLanes)!==0,(s.flags&128)!==0){if(f)return Lx(s,c,p);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ot(gt,gt.current),f)break;return null;case 22:case 23:return c.lanes=0,_x(s,c,p)}return jn(s,c,p)}var jx,Tf,qx,Fx;jx=function(s,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Tf=function(){},qx=function(s,c,p,f){var S=s.memoizedProps;if(S!==f){s=c.stateNode,ss(mn.current);var P=null;switch(p){case"input":S=nr(s,S),f=nr(s,f),P=[];break;case"select":S=G({},S,{value:void 0}),f=G({},f,{value:void 0}),P=[];break;case"textarea":S=cn(s,S),f=cn(s,f),P=[];break;default:typeof S.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=fp)}U(p,f);var E;p=null;for(F in S)if(!f.hasOwnProperty(F)&&S.hasOwnProperty(F)&&S[F]!=null)if(F==="style"){var _=S[F];for(E in _)_.hasOwnProperty(E)&&(p||(p={}),p[E]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?P||(P=[]):(P=P||[]).push(F,null));for(F in f){var O=f[F];if(_=S?.[F],f.hasOwnProperty(F)&&O!==_&&(O!=null||_!=null))if(F==="style")if(_){for(E in _)!_.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(p||(p={}),p[E]="");for(E in O)O.hasOwnProperty(E)&&_[E]!==O[E]&&(p||(p={}),p[E]=O[E])}else p||(P||(P=[]),P.push(F,p)),p=O;else F==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,_=_?_.__html:void 0,O!=null&&_!==O&&(P=P||[]).push(F,O)):F==="children"?typeof O!="string"&&typeof O!="number"||(P=P||[]).push(F,""+O):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(i.hasOwnProperty(F)?(O!=null&&F==="onScroll"&&ct("scroll",s),P||_===O||(P=[])):(P=P||[]).push(F,O))}p&&(P=P||[]).push("style",p);var F=P;(c.updateQueue=F)&&(c.flags|=4)}},Fx=function(s,c,p,f){p!==f&&(c.flags|=4)};function nc(s,c){if(!pt)switch(s.tailMode){case"hidden":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var f=null;p!==null;)p.alternate!==null&&(f=p),p=p.sibling;f===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Zt(s){var c=s.alternate!==null&&s.alternate.child===s.child,p=0,f=0;if(c)for(var S=s.child;S!==null;)p|=S.lanes|S.childLanes,f|=S.subtreeFlags&14680064,f|=S.flags&14680064,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)p|=S.lanes|S.childLanes,f|=S.subtreeFlags,f|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=f,s.childLanes=p,c}function vD(s,c,p){var f=c.pendingProps;switch(Jh(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(c),null;case 1:return pr(c.type)&&vp(),Zt(c),null;case 3:return f=c.stateNode,Eo(),lt(dr),lt(Xt),lf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Pp(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,$r!==null&&(jf($r),$r=null))),Tf(s,c),Zt(c),null;case 5:af(c);var S=ss(Ya.current);if(p=c.type,s!==null&&c.stateNode!=null)qx(s,c,p,f,S),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!f){if(c.stateNode===null)throw Error(r(166));return Zt(c),null}if(s=ss(mn.current),Pp(c)){f=c.stateNode,p=c.type;var P=c.memoizedProps;switch(f[pn]=c,f[Ka]=P,s=(c.mode&1)!==0,p){case"dialog":ct("cancel",f),ct("close",f);break;case"iframe":case"object":case"embed":ct("load",f);break;case"video":case"audio":for(S=0;S<$a.length;S++)ct($a[S],f);break;case"source":ct("error",f);break;case"img":case"image":case"link":ct("error",f),ct("load",f);break;case"details":ct("toggle",f);break;case"input":an(f,P),ct("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!P.multiple},ct("invalid",f);break;case"textarea":ri(f,P),ct("invalid",f)}U(p,P),S=null;for(var E in P)if(P.hasOwnProperty(E)){var _=P[E];E==="children"?typeof _=="string"?f.textContent!==_&&(P.suppressHydrationWarning!==!0&&hp(f.textContent,_,s),S=["children",_]):typeof _=="number"&&f.textContent!==""+_&&(P.suppressHydrationWarning!==!0&&hp(f.textContent,_,s),S=["children",""+_]):i.hasOwnProperty(E)&&_!=null&&E==="onScroll"&&ct("scroll",f)}switch(p){case"input":He(f),In(f,P,!0);break;case"textarea":He(f),io(f);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(f.onclick=fp)}f=S,c.updateQueue=f,f!==null&&(c.flags|=4)}else{E=S.nodeType===9?S:S.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=so(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=E.createElement(p,{is:f.is}):(s=E.createElement(p),p==="select"&&(E=s,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):s=E.createElementNS(s,p),s[pn]=c,s[Ka]=f,jx(s,c,!1,!1),c.stateNode=s;e:{switch(E=te(p,f),p){case"dialog":ct("cancel",s),ct("close",s),S=f;break;case"iframe":case"object":case"embed":ct("load",s),S=f;break;case"video":case"audio":for(S=0;S<$a.length;S++)ct($a[S],s);S=f;break;case"source":ct("error",s),S=f;break;case"img":case"image":case"link":ct("error",s),ct("load",s),S=f;break;case"details":ct("toggle",s),S=f;break;case"input":an(s,f),S=nr(s,f),ct("invalid",s);break;case"option":S=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},S=G({},f,{value:void 0}),ct("invalid",s);break;case"textarea":ri(s,f),S=cn(s,f),ct("invalid",s);break;default:S=f}U(p,S),_=S;for(P in _)if(_.hasOwnProperty(P)){var O=_[P];P==="style"?ni(s,O):P==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&lr(s,O)):P==="children"?typeof O=="string"?(p!=="textarea"||O!=="")&&zn(s,O):typeof O=="number"&&zn(s,""+O):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?O!=null&&P==="onScroll"&&ct("scroll",s):O!=null&&N(s,P,O,E))}switch(p){case"input":He(s),In(s,f,!1);break;case"textarea":He(s),io(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ne(f.value));break;case"select":s.multiple=!!f.multiple,P=f.value,P!=null?qr(s,!!f.multiple,P,!1):f.defaultValue!=null&&qr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof S.onClick=="function"&&(s.onclick=fp)}switch(p){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Zt(c),null;case 6:if(s&&c.stateNode!=null)Fx(s,c,s.memoizedProps,f);else{if(typeof f!="string"&&c.stateNode===null)throw Error(r(166));if(p=ss(Ya.current),ss(mn.current),Pp(c)){if(f=c.stateNode,p=c.memoizedProps,f[pn]=c,(P=f.nodeValue!==p)&&(s=yr,s!==null))switch(s.tag){case 3:hp(f.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&hp(f.nodeValue,p,(s.mode&1)!==0)}P&&(c.flags|=4)}else f=(p.nodeType===9?p:p.ownerDocument).createTextNode(f),f[pn]=c,c.stateNode=f}return Zt(c),null;case 13:if(lt(gt),f=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(pt&&Sr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)$C(),Ro(),c.flags|=98560,P=!1;else if(P=Pp(c),f!==null&&f.dehydrated!==null){if(s===null){if(!P)throw Error(r(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[pn]=c}else Ro(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zt(c),P=!1}else $r!==null&&(jf($r),$r=null),P=!0;if(!P)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(gt.current&1)!==0?zt===0&&(zt=3):Hf())),c.updateQueue!==null&&(c.flags|=4),Zt(c),null);case 4:return Eo(),Tf(s,c),s===null&&Wa(c.stateNode.containerInfo),Zt(c),null;case 10:return tf(c.type._context),Zt(c),null;case 17:return pr(c.type)&&vp(),Zt(c),null;case 19:if(lt(gt),P=c.memoizedState,P===null)return Zt(c),null;if(f=(c.flags&128)!==0,E=P.rendering,E===null)if(f)nc(P,!1);else{if(zt!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(E=Tp(s),E!==null){for(c.flags|=128,nc(P,!1),f=E.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),c.subtreeFlags=0,f=p,p=c.child;p!==null;)P=p,s=f,P.flags&=14680066,E=P.alternate,E===null?(P.childLanes=0,P.lanes=s,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=E.childLanes,P.lanes=E.lanes,P.child=E.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=E.memoizedProps,P.memoizedState=E.memoizedState,P.updateQueue=E.updateQueue,P.type=E.type,s=E.dependencies,P.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return ot(gt,gt.current&1|2),c.child}s=s.sibling}P.tail!==null&&bt()>_o&&(c.flags|=128,f=!0,nc(P,!1),c.lanes=4194304)}else{if(!f)if(s=Tp(E),s!==null){if(c.flags|=128,f=!0,p=s.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),nc(P,!0),P.tail===null&&P.tailMode==="hidden"&&!E.alternate&&!pt)return Zt(c),null}else 2*bt()-P.renderingStartTime>_o&&p!==1073741824&&(c.flags|=128,f=!0,nc(P,!1),c.lanes=4194304);P.isBackwards?(E.sibling=c.child,c.child=E):(p=P.last,p!==null?p.sibling=E:c.child=E,P.last=E)}return P.tail!==null?(c=P.tail,P.rendering=c,P.tail=c.sibling,P.renderingStartTime=bt(),c.sibling=null,p=gt.current,ot(gt,f?p&1|2:p&1),c):(Zt(c),null);case 22:case 23:return Ff(),f=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(c.flags|=8192),f&&(c.mode&1)!==0?(Cr&1073741824)!==0&&(Zt(c),c.subtreeFlags&6&&(c.flags|=8192)):Zt(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function yD(s,c){switch(Jh(c),c.tag){case 1:return pr(c.type)&&vp(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Eo(),lt(dr),lt(Xt),lf(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return af(c),null;case 13:if(lt(gt),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ro()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return lt(gt),null;case 4:return Eo(),null;case 10:return tf(c.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var Bp=!1,er=!1,SD=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Io(s,c){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(f){Pt(s,c,f)}else p.current=null}function If(s,c,p){try{p()}catch(f){Pt(s,c,f)}}var Hx=!1;function CD(s,c){if(qh=np,s=CC(),zh(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var f=p.getSelection&&p.getSelection();if(f&&f.rangeCount!==0){p=f.anchorNode;var S=f.anchorOffset,P=f.focusNode;f=f.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var E=0,_=-1,O=-1,F=0,Q=0,Y=s,J=null;t:for(;;){for(var ce;Y!==p||S!==0&&Y.nodeType!==3||(_=E+S),Y!==P||f!==0&&Y.nodeType!==3||(O=E+f),Y.nodeType===3&&(E+=Y.nodeValue.length),(ce=Y.firstChild)!==null;)J=Y,Y=ce;for(;;){if(Y===s)break t;if(J===p&&++F===S&&(_=E),J===P&&++Q===f&&(O=E),(ce=Y.nextSibling)!==null)break;Y=J,J=Y.parentNode}Y=ce}p=_===-1||O===-1?null:{start:_,end:O}}else p=null}p=p||{start:0,end:0}}else p=null;for(Fh={focusedElem:s,selectionRange:p},np=!1,ye=c;ye!==null;)if(c=ye,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,ye=s;else for(;ye!==null;){c=ye;try{var xe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var be=xe.memoizedProps,Nt=xe.memoizedState,j=c.stateNode,B=j.getSnapshotBeforeUpdate(c.elementType===c.type?be:Wr(c.type,be),Nt);j.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=c.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(re){Pt(c,c.return,re)}if(s=c.sibling,s!==null){s.return=c.return,ye=s;break}ye=c.return}return xe=Hx,Hx=!1,xe}function ic(s,c,p){var f=c.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var S=f=f.next;do{if((S.tag&s)===s){var P=S.destroy;S.destroy=void 0,P!==void 0&&If(c,p,P)}S=S.next}while(S!==f)}}function Lp(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&s)===s){var f=p.create;p.destroy=f()}p=p.next}while(p!==c)}}function Af(s){var c=s.ref;if(c!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof c=="function"?c(s):c.current=s}}function Ux(s){var c=s.alternate;c!==null&&(s.alternate=null,Ux(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[pn],delete c[Ka],delete c[Wh],delete c[rD],delete c[nD])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function $x(s){return s.tag===5||s.tag===3||s.tag===4}function Wx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$x(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _f(s,c,p){var f=s.tag;if(f===5||f===6)s=s.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(s,c):p.insertBefore(s,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(s,p)):(c=p,c.appendChild(s)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=fp));else if(f!==4&&(s=s.child,s!==null))for(_f(s,c,p),s=s.sibling;s!==null;)_f(s,c,p),s=s.sibling}function zf(s,c,p){var f=s.tag;if(f===5||f===6)s=s.stateNode,c?p.insertBefore(s,c):p.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(zf(s,c,p),s=s.sibling;s!==null;)zf(s,c,p),s=s.sibling}var Vt=null,Vr=!1;function gi(s,c,p){for(p=p.child;p!==null;)Vx(s,c,p),p=p.sibling}function Vx(s,c,p){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Xd,p)}catch{}switch(p.tag){case 5:er||Io(p,c);case 6:var f=Vt,S=Vr;Vt=null,gi(s,c,p),Vt=f,Vr=S,Vt!==null&&(Vr?(s=Vt,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):Vt.removeChild(p.stateNode));break;case 18:Vt!==null&&(Vr?(s=Vt,p=p.stateNode,s.nodeType===8?$h(s.parentNode,p):s.nodeType===1&&$h(s,p),Da(s)):$h(Vt,p.stateNode));break;case 4:f=Vt,S=Vr,Vt=p.stateNode.containerInfo,Vr=!0,gi(s,c,p),Vt=f,Vr=S;break;case 0:case 11:case 14:case 15:if(!er&&(f=p.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){S=f=f.next;do{var P=S,E=P.destroy;P=P.tag,E!==void 0&&((P&2)!==0||(P&4)!==0)&&If(p,c,E),S=S.next}while(S!==f)}gi(s,c,p);break;case 1:if(!er&&(Io(p,c),f=p.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=p.memoizedProps,f.state=p.memoizedState,f.componentWillUnmount()}catch(_){Pt(p,c,_)}gi(s,c,p);break;case 21:gi(s,c,p);break;case 22:p.mode&1?(er=(f=er)||p.memoizedState!==null,gi(s,c,p),er=f):gi(s,c,p);break;default:gi(s,c,p)}}function Kx(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new SD),c.forEach(function(f){var S=ID.bind(null,s,f);p.has(f)||(p.add(f),f.then(S,S))})}}function Kr(s,c){var p=c.deletions;if(p!==null)for(var f=0;f<p.length;f++){var S=p[f];try{var P=s,E=c,_=E;e:for(;_!==null;){switch(_.tag){case 5:Vt=_.stateNode,Vr=!1;break e;case 3:Vt=_.stateNode.containerInfo,Vr=!0;break e;case 4:Vt=_.stateNode.containerInfo,Vr=!0;break e}_=_.return}if(Vt===null)throw Error(r(160));Vx(P,E,S),Vt=null,Vr=!1;var O=S.alternate;O!==null&&(O.return=null),S.return=null}catch(F){Pt(S,c,F)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Gx(c,s),c=c.sibling}function Gx(s,c){var p=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Kr(c,s),fn(s),f&4){try{ic(3,s,s.return),Lp(3,s)}catch(be){Pt(s,s.return,be)}try{ic(5,s,s.return)}catch(be){Pt(s,s.return,be)}}break;case 1:Kr(c,s),fn(s),f&512&&p!==null&&Io(p,p.return);break;case 5:if(Kr(c,s),fn(s),f&512&&p!==null&&Io(p,p.return),s.flags&32){var S=s.stateNode;try{zn(S,"")}catch(be){Pt(s,s.return,be)}}if(f&4&&(S=s.stateNode,S!=null)){var P=s.memoizedProps,E=p!==null?p.memoizedProps:P,_=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{_==="input"&&P.type==="radio"&&P.name!=null&&jr(S,P),te(_,E);var F=te(_,P);for(E=0;E<O.length;E+=2){var Q=O[E],Y=O[E+1];Q==="style"?ni(S,Y):Q==="dangerouslySetInnerHTML"?lr(S,Y):Q==="children"?zn(S,Y):N(S,Q,Y,F)}switch(_){case"input":cr(S,P);break;case"textarea":_n(S,P);break;case"select":var J=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!P.multiple;var ce=P.value;ce!=null?qr(S,!!P.multiple,ce,!1):J!==!!P.multiple&&(P.defaultValue!=null?qr(S,!!P.multiple,P.defaultValue,!0):qr(S,!!P.multiple,P.multiple?[]:"",!1))}S[Ka]=P}catch(be){Pt(s,s.return,be)}}break;case 6:if(Kr(c,s),fn(s),f&4){if(s.stateNode===null)throw Error(r(162));S=s.stateNode,P=s.memoizedProps;try{S.nodeValue=P}catch(be){Pt(s,s.return,be)}}break;case 3:if(Kr(c,s),fn(s),f&4&&p!==null&&p.memoizedState.isDehydrated)try{Da(c.containerInfo)}catch(be){Pt(s,s.return,be)}break;case 4:Kr(c,s),fn(s);break;case 13:Kr(c,s),fn(s),S=s.child,S.flags&8192&&(P=S.memoizedState!==null,S.stateNode.isHidden=P,!P||S.alternate!==null&&S.alternate.memoizedState!==null||(Of=bt())),f&4&&Kx(s);break;case 22:if(Q=p!==null&&p.memoizedState!==null,s.mode&1?(er=(F=er)||Q,Kr(c,s),er=F):Kr(c,s),fn(s),f&8192){if(F=s.memoizedState!==null,(s.stateNode.isHidden=F)&&!Q&&(s.mode&1)!==0)for(ye=s,Q=s.child;Q!==null;){for(Y=ye=Q;ye!==null;){switch(J=ye,ce=J.child,J.tag){case 0:case 11:case 14:case 15:ic(4,J,J.return);break;case 1:Io(J,J.return);var xe=J.stateNode;if(typeof xe.componentWillUnmount=="function"){f=J,p=J.return;try{c=f,xe.props=c.memoizedProps,xe.state=c.memoizedState,xe.componentWillUnmount()}catch(be){Pt(f,p,be)}}break;case 5:Io(J,J.return);break;case 22:if(J.memoizedState!==null){Xx(Y);continue}}ce!==null?(ce.return=J,ye=ce):Xx(Y)}Q=Q.sibling}e:for(Q=null,Y=s;;){if(Y.tag===5){if(Q===null){Q=Y;try{S=Y.stateNode,F?(P=S.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(_=Y.stateNode,O=Y.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,_.style.display=Gi("display",E))}catch(be){Pt(s,s.return,be)}}}else if(Y.tag===6){if(Q===null)try{Y.stateNode.nodeValue=F?"":Y.memoizedProps}catch(be){Pt(s,s.return,be)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===s)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===s)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===s)break e;Q===Y&&(Q=null),Y=Y.return}Q===Y&&(Q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Kr(c,s),fn(s),f&4&&Kx(s);break;case 21:break;default:Kr(c,s),fn(s)}}function fn(s){var c=s.flags;if(c&2){try{e:{for(var p=s.return;p!==null;){if($x(p)){var f=p;break e}p=p.return}throw Error(r(160))}switch(f.tag){case 5:var S=f.stateNode;f.flags&32&&(zn(S,""),f.flags&=-33);var P=Wx(s);zf(s,P,S);break;case 3:case 4:var E=f.stateNode.containerInfo,_=Wx(s);_f(s,_,E);break;default:throw Error(r(161))}}catch(O){Pt(s,s.return,O)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function xD(s,c,p){ye=s,Jx(s)}function Jx(s,c,p){for(var f=(s.mode&1)!==0;ye!==null;){var S=ye,P=S.child;if(S.tag===22&&f){var E=S.memoizedState!==null||Bp;if(!E){var _=S.alternate,O=_!==null&&_.memoizedState!==null||er;_=Bp;var F=er;if(Bp=E,(er=O)&&!F)for(ye=S;ye!==null;)E=ye,O=E.child,E.tag===22&&E.memoizedState!==null?Yx(S):O!==null?(O.return=E,ye=O):Yx(S);for(;P!==null;)ye=P,Jx(P),P=P.sibling;ye=S,Bp=_,er=F}Qx(s)}else(S.subtreeFlags&8772)!==0&&P!==null?(P.return=S,ye=P):Qx(s)}}function Qx(s){for(;ye!==null;){var c=ye;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:er||Lp(5,c);break;case 1:var f=c.stateNode;if(c.flags&4&&!er)if(p===null)f.componentDidMount();else{var S=c.elementType===c.type?p.memoizedProps:Wr(c.type,p.memoizedProps);f.componentDidUpdate(S,p.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var P=c.updateQueue;P!==null&&XC(c,P,f);break;case 3:var E=c.updateQueue;if(E!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}XC(c,E,p)}break;case 5:var _=c.stateNode;if(p===null&&c.flags&4){p=_;var O=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&p.focus();break;case"img":O.src&&(p.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var F=c.alternate;if(F!==null){var Q=F.memoizedState;if(Q!==null){var Y=Q.dehydrated;Y!==null&&Da(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}er||c.flags&512&&Af(c)}catch(J){Pt(c,c.return,J)}}if(c===s){ye=null;break}if(p=c.sibling,p!==null){p.return=c.return,ye=p;break}ye=c.return}}function Xx(s){for(;ye!==null;){var c=ye;if(c===s){ye=null;break}var p=c.sibling;if(p!==null){p.return=c.return,ye=p;break}ye=c.return}}function Yx(s){for(;ye!==null;){var c=ye;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Lp(4,c)}catch(O){Pt(c,p,O)}break;case 1:var f=c.stateNode;if(typeof f.componentDidMount=="function"){var S=c.return;try{f.componentDidMount()}catch(O){Pt(c,S,O)}}var P=c.return;try{Af(c)}catch(O){Pt(c,P,O)}break;case 5:var E=c.return;try{Af(c)}catch(O){Pt(c,E,O)}}}catch(O){Pt(c,c.return,O)}if(c===s){ye=null;break}var _=c.sibling;if(_!==null){_.return=c.return,ye=_;break}ye=c.return}}var PD=Math.ceil,jp=T.ReactCurrentDispatcher,Mf=T.ReactCurrentOwner,zr=T.ReactCurrentBatchConfig,Xe=0,Lt=null,At=null,Kt=0,Cr=0,Ao=di(0),zt=0,sc=null,as=0,qp=0,kf=0,oc=null,hr=null,Of=0,_o=1/0,qn=null,Fp=!1,Df=null,vi=null,Hp=!1,yi=null,Up=0,ac=0,Bf=null,$p=-1,Wp=0;function sr(){return(Xe&6)!==0?bt():$p!==-1?$p:$p=bt()}function Si(s){return(s.mode&1)===0?1:(Xe&2)!==0&&Kt!==0?Kt&-Kt:sD.transition!==null?(Wp===0&&(Wp=WS()),Wp):(s=st,s!==0||(s=window.event,s=s===void 0?16:eC(s.type)),s)}function Gr(s,c,p,f){if(50<ac)throw ac=0,Bf=null,Error(r(185));_a(s,p,f),((Xe&2)===0||s!==Lt)&&(s===Lt&&((Xe&2)===0&&(qp|=p),zt===4&&Ci(s,Kt)),fr(s,f),p===1&&Xe===0&&(c.mode&1)===0&&(_o=bt()+500,Sp&&mi()))}function fr(s,c){var p=s.callbackNode;sO(s,c);var f=ep(s,s===Lt?Kt:0);if(f===0)p!==null&&HS(p),s.callbackNode=null,s.callbackPriority=0;else if(c=f&-f,s.callbackPriority!==c){if(p!=null&&HS(p),c===1)s.tag===0?iD(eP.bind(null,s)):jC(eP.bind(null,s)),eD(function(){(Xe&6)===0&&mi()}),p=null;else{switch(VS(f)){case 1:p=fh;break;case 4:p=US;break;case 16:p=Qd;break;case 536870912:p=$S;break;default:p=Qd}p=cP(p,Zx.bind(null,s))}s.callbackPriority=c,s.callbackNode=p}}function Zx(s,c){if($p=-1,Wp=0,(Xe&6)!==0)throw Error(r(327));var p=s.callbackNode;if(zo()&&s.callbackNode!==p)return null;var f=ep(s,s===Lt?Kt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||c)c=Vp(s,f);else{c=f;var S=Xe;Xe|=2;var P=rP();(Lt!==s||Kt!==c)&&(qn=null,_o=bt()+500,ls(s,c));do try{bD();break}catch(_){tP(s,_)}while(!0);ef(),jp.current=P,Xe=S,At!==null?c=0:(Lt=null,Kt=0,c=zt)}if(c!==0){if(c===2&&(S=gh(s),S!==0&&(f=S,c=Lf(s,S))),c===1)throw p=sc,ls(s,0),Ci(s,f),fr(s,bt()),p;if(c===6)Ci(s,f);else{if(S=s.current.alternate,(f&30)===0&&!RD(S)&&(c=Vp(s,f),c===2&&(P=gh(s),P!==0&&(f=P,c=Lf(s,P))),c===1))throw p=sc,ls(s,0),Ci(s,f),fr(s,bt()),p;switch(s.finishedWork=S,s.finishedLanes=f,c){case 0:case 1:throw Error(r(345));case 2:us(s,hr,qn);break;case 3:if(Ci(s,f),(f&130023424)===f&&(c=Of+500-bt(),10<c)){if(ep(s,0)!==0)break;if(S=s.suspendedLanes,(S&f)!==f){sr(),s.pingedLanes|=s.suspendedLanes&S;break}s.timeoutHandle=Uh(us.bind(null,s,hr,qn),c);break}us(s,hr,qn);break;case 4:if(Ci(s,f),(f&4194240)===f)break;for(c=s.eventTimes,S=-1;0<f;){var E=31-Hr(f);P=1<<E,E=c[E],E>S&&(S=E),f&=~P}if(f=S,f=bt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*PD(f/1960))-f,10<f){s.timeoutHandle=Uh(us.bind(null,s,hr,qn),f);break}us(s,hr,qn);break;case 5:us(s,hr,qn);break;default:throw Error(r(329))}}}return fr(s,bt()),s.callbackNode===p?Zx.bind(null,s):null}function Lf(s,c){var p=oc;return s.current.memoizedState.isDehydrated&&(ls(s,c).flags|=256),s=Vp(s,c),s!==2&&(c=hr,hr=p,c!==null&&jf(c)),s}function jf(s){hr===null?hr=s:hr.push.apply(hr,s)}function RD(s){for(var c=s;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var f=0;f<p.length;f++){var S=p[f],P=S.getSnapshot;S=S.value;try{if(!Ur(P(),S))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ci(s,c){for(c&=~kf,c&=~qp,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var p=31-Hr(c),f=1<<p;s[p]=-1,c&=~f}}function eP(s){if((Xe&6)!==0)throw Error(r(327));zo();var c=ep(s,0);if((c&1)===0)return fr(s,bt()),null;var p=Vp(s,c);if(s.tag!==0&&p===2){var f=gh(s);f!==0&&(c=f,p=Lf(s,f))}if(p===1)throw p=sc,ls(s,0),Ci(s,c),fr(s,bt()),p;if(p===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,us(s,hr,qn),fr(s,bt()),null}function qf(s,c){var p=Xe;Xe|=1;try{return s(c)}finally{Xe=p,Xe===0&&(_o=bt()+500,Sp&&mi())}}function cs(s){yi!==null&&yi.tag===0&&(Xe&6)===0&&zo();var c=Xe;Xe|=1;var p=zr.transition,f=st;try{if(zr.transition=null,st=1,s)return s()}finally{st=f,zr.transition=p,Xe=c,(Xe&6)===0&&mi()}}function Ff(){Cr=Ao.current,lt(Ao)}function ls(s,c){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,ZO(p)),At!==null)for(p=At.return;p!==null;){var f=p;switch(Jh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&vp();break;case 3:Eo(),lt(dr),lt(Xt),lf();break;case 5:af(f);break;case 4:Eo();break;case 13:lt(gt);break;case 19:lt(gt);break;case 10:tf(f.type._context);break;case 22:case 23:Ff()}p=p.return}if(Lt=s,At=s=xi(s.current,null),Kt=Cr=c,zt=0,sc=null,kf=qp=as=0,hr=oc=null,is!==null){for(c=0;c<is.length;c++)if(p=is[c],f=p.interleaved,f!==null){p.interleaved=null;var S=f.next,P=p.pending;if(P!==null){var E=P.next;P.next=S,f.next=E}p.pending=f}is=null}return s}function tP(s,c){do{var p=At;try{if(ef(),Ip.current=Mp,Ap){for(var f=vt.memoizedState;f!==null;){var S=f.queue;S!==null&&(S.pending=null),f=f.next}Ap=!1}if(os=0,Bt=_t=vt=null,Za=!1,ec=0,Mf.current=null,p===null||p.return===null){zt=1,sc=c,At=null;break}e:{var P=s,E=p.return,_=p,O=c;if(c=Kt,_.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var F=O,Q=_,Y=Q.tag;if((Q.mode&1)===0&&(Y===0||Y===11||Y===15)){var J=Q.alternate;J?(Q.updateQueue=J.updateQueue,Q.memoizedState=J.memoizedState,Q.lanes=J.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ce=Nx(E);if(ce!==null){ce.flags&=-257,Ex(ce,E,_,P,c),ce.mode&1&&bx(P,F,c),c=ce,O=F;var xe=c.updateQueue;if(xe===null){var be=new Set;be.add(O),c.updateQueue=be}else xe.add(O);break e}else{if((c&1)===0){bx(P,F,c),Hf();break e}O=Error(r(426))}}else if(pt&&_.mode&1){var Nt=Nx(E);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),Ex(Nt,E,_,P,c),Yh(To(O,_));break e}}P=O=To(O,_),zt!==4&&(zt=2),oc===null?oc=[P]:oc.push(P),P=E;do{switch(P.tag){case 3:P.flags|=65536,c&=-c,P.lanes|=c;var j=Rx(P,O,c);QC(P,j);break e;case 1:_=O;var B=P.type,q=P.stateNode;if((P.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(vi===null||!vi.has(q)))){P.flags|=65536,c&=-c,P.lanes|=c;var re=wx(P,_,c);QC(P,re);break e}}P=P.return}while(P!==null)}iP(p)}catch(Ee){c=Ee,At===p&&p!==null&&(At=p=p.return);continue}break}while(!0)}function rP(){var s=jp.current;return jp.current=Mp,s===null?Mp:s}function Hf(){(zt===0||zt===3||zt===2)&&(zt=4),Lt===null||(as&268435455)===0&&(qp&268435455)===0||Ci(Lt,Kt)}function Vp(s,c){var p=Xe;Xe|=2;var f=rP();(Lt!==s||Kt!==c)&&(qn=null,ls(s,c));do try{wD();break}catch(S){tP(s,S)}while(!0);if(ef(),Xe=p,jp.current=f,At!==null)throw Error(r(261));return Lt=null,Kt=0,zt}function wD(){for(;At!==null;)nP(At)}function bD(){for(;At!==null&&!Qk();)nP(At)}function nP(s){var c=aP(s.alternate,s,Cr);s.memoizedProps=s.pendingProps,c===null?iP(s):At=c,Mf.current=null}function iP(s){var c=s;do{var p=c.alternate;if(s=c.return,(c.flags&32768)===0){if(p=vD(p,c,Cr),p!==null){At=p;return}}else{if(p=yD(p,c),p!==null){p.flags&=32767,At=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{zt=6,At=null;return}}if(c=c.sibling,c!==null){At=c;return}At=c=s}while(c!==null);zt===0&&(zt=5)}function us(s,c,p){var f=st,S=zr.transition;try{zr.transition=null,st=1,ND(s,c,p,f)}finally{zr.transition=S,st=f}return null}function ND(s,c,p,f){do zo();while(yi!==null);if((Xe&6)!==0)throw Error(r(327));p=s.finishedWork;var S=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var P=p.lanes|p.childLanes;if(oO(s,P),s===Lt&&(At=Lt=null,Kt=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Hp||(Hp=!0,cP(Qd,function(){return zo(),null})),P=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||P){P=zr.transition,zr.transition=null;var E=st;st=1;var _=Xe;Xe|=4,Mf.current=null,CD(s,p),Gx(p,s),VO(Fh),np=!!qh,Fh=qh=null,s.current=p,xD(p),Xk(),Xe=_,st=E,zr.transition=P}else s.current=p;if(Hp&&(Hp=!1,yi=s,Up=S),P=s.pendingLanes,P===0&&(vi=null),eO(p.stateNode),fr(s,bt()),c!==null)for(f=s.onRecoverableError,p=0;p<c.length;p++)S=c[p],f(S.value,{componentStack:S.stack,digest:S.digest});if(Fp)throw Fp=!1,s=Df,Df=null,s;return(Up&1)!==0&&s.tag!==0&&zo(),P=s.pendingLanes,(P&1)!==0?s===Bf?ac++:(ac=0,Bf=s):ac=0,mi(),null}function zo(){if(yi!==null){var s=VS(Up),c=zr.transition,p=st;try{if(zr.transition=null,st=16>s?16:s,yi===null)var f=!1;else{if(s=yi,yi=null,Up=0,(Xe&6)!==0)throw Error(r(331));var S=Xe;for(Xe|=4,ye=s.current;ye!==null;){var P=ye,E=P.child;if((ye.flags&16)!==0){var _=P.deletions;if(_!==null){for(var O=0;O<_.length;O++){var F=_[O];for(ye=F;ye!==null;){var Q=ye;switch(Q.tag){case 0:case 11:case 15:ic(8,Q,P)}var Y=Q.child;if(Y!==null)Y.return=Q,ye=Y;else for(;ye!==null;){Q=ye;var J=Q.sibling,ce=Q.return;if(Ux(Q),Q===F){ye=null;break}if(J!==null){J.return=ce,ye=J;break}ye=ce}}}var xe=P.alternate;if(xe!==null){var be=xe.child;if(be!==null){xe.child=null;do{var Nt=be.sibling;be.sibling=null,be=Nt}while(be!==null)}}ye=P}}if((P.subtreeFlags&2064)!==0&&E!==null)E.return=P,ye=E;else e:for(;ye!==null;){if(P=ye,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:ic(9,P,P.return)}var j=P.sibling;if(j!==null){j.return=P.return,ye=j;break e}ye=P.return}}var B=s.current;for(ye=B;ye!==null;){E=ye;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,ye=q;else e:for(E=B;ye!==null;){if(_=ye,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:Lp(9,_)}}catch(Ee){Pt(_,_.return,Ee)}if(_===E){ye=null;break e}var re=_.sibling;if(re!==null){re.return=_.return,ye=re;break e}ye=_.return}}if(Xe=S,mi(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Xd,s)}catch{}f=!0}return f}finally{st=p,zr.transition=c}}return!1}function sP(s,c,p){c=To(p,c),c=Rx(s,c,1),s=fi(s,c,1),c=sr(),s!==null&&(_a(s,1,c),fr(s,c))}function Pt(s,c,p){if(s.tag===3)sP(s,s,p);else for(;c!==null;){if(c.tag===3){sP(c,s,p);break}else if(c.tag===1){var f=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(vi===null||!vi.has(f))){s=To(p,s),s=wx(c,s,1),c=fi(c,s,1),s=sr(),c!==null&&(_a(c,1,s),fr(c,s));break}}c=c.return}}function ED(s,c,p){var f=s.pingCache;f!==null&&f.delete(c),c=sr(),s.pingedLanes|=s.suspendedLanes&p,Lt===s&&(Kt&p)===p&&(zt===4||zt===3&&(Kt&130023424)===Kt&&500>bt()-Of?ls(s,0):kf|=p),fr(s,c)}function oP(s,c){c===0&&((s.mode&1)===0?c=1:(c=Zd,Zd<<=1,(Zd&130023424)===0&&(Zd=4194304)));var p=sr();s=Bn(s,c),s!==null&&(_a(s,c,p),fr(s,p))}function TD(s){var c=s.memoizedState,p=0;c!==null&&(p=c.retryLane),oP(s,p)}function ID(s,c){var p=0;switch(s.tag){case 13:var f=s.stateNode,S=s.memoizedState;S!==null&&(p=S.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(c),oP(s,p)}var aP;aP=function(s,c,p){if(s!==null)if(s.memoizedProps!==c.pendingProps||dr.current)mr=!0;else{if((s.lanes&p)===0&&(c.flags&128)===0)return mr=!1,gD(s,c,p);mr=(s.flags&131072)!==0}else mr=!1,pt&&(c.flags&1048576)!==0&&qC(c,xp,c.index);switch(c.lanes=0,c.tag){case 2:var f=c.type;Dp(s,c),s=c.pendingProps;var S=Co(c,Xt.current);No(c,p),S=pf(null,c,f,s,S,p);var P=mf();return c.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,pr(f)?(P=!0,yp(c)):P=!1,c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,sf(c),S.updater=kp,c.stateNode=S,S._reactInternals=c,Sf(c,f,s,p),c=Rf(null,c,f,!0,P,p)):(c.tag=0,pt&&P&&Gh(c),ir(null,c,S,p),c=c.child),c;case 16:f=c.elementType;e:{switch(Dp(s,c),s=c.pendingProps,S=f._init,f=S(f._payload),c.type=f,S=c.tag=_D(f),s=Wr(f,s),S){case 0:c=Pf(null,c,f,s,p);break e;case 1:c=Mx(null,c,f,s,p);break e;case 11:c=Tx(null,c,f,s,p);break e;case 14:c=Ix(null,c,f,Wr(f.type,s),p);break e}throw Error(r(306,f,""))}return c;case 0:return f=c.type,S=c.pendingProps,S=c.elementType===f?S:Wr(f,S),Pf(s,c,f,S,p);case 1:return f=c.type,S=c.pendingProps,S=c.elementType===f?S:Wr(f,S),Mx(s,c,f,S,p);case 3:e:{if(kx(c),s===null)throw Error(r(387));f=c.pendingProps,P=c.memoizedState,S=P.element,JC(s,c),Ep(c,f,null,p);var E=c.memoizedState;if(f=E.element,P.isDehydrated)if(P={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){S=To(Error(r(423)),c),c=Ox(s,c,f,p,S);break e}else if(f!==S){S=To(Error(r(424)),c),c=Ox(s,c,f,p,S);break e}else for(Sr=ui(c.stateNode.containerInfo.firstChild),yr=c,pt=!0,$r=null,p=KC(c,null,f,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ro(),f===S){c=jn(s,c,p);break e}ir(s,c,f,p)}c=c.child}return c;case 5:return YC(c),s===null&&Xh(c),f=c.type,S=c.pendingProps,P=s!==null?s.memoizedProps:null,E=S.children,Hh(f,S)?E=null:P!==null&&Hh(f,P)&&(c.flags|=32),zx(s,c),ir(s,c,E,p),c.child;case 6:return s===null&&Xh(c),null;case 13:return Dx(s,c,p);case 4:return of(c,c.stateNode.containerInfo),f=c.pendingProps,s===null?c.child=wo(c,null,f,p):ir(s,c,f,p),c.child;case 11:return f=c.type,S=c.pendingProps,S=c.elementType===f?S:Wr(f,S),Tx(s,c,f,S,p);case 7:return ir(s,c,c.pendingProps,p),c.child;case 8:return ir(s,c,c.pendingProps.children,p),c.child;case 12:return ir(s,c,c.pendingProps.children,p),c.child;case 10:e:{if(f=c.type._context,S=c.pendingProps,P=c.memoizedProps,E=S.value,ot(wp,f._currentValue),f._currentValue=E,P!==null)if(Ur(P.value,E)){if(P.children===S.children&&!dr.current){c=jn(s,c,p);break e}}else for(P=c.child,P!==null&&(P.return=c);P!==null;){var _=P.dependencies;if(_!==null){E=P.child;for(var O=_.firstContext;O!==null;){if(O.context===f){if(P.tag===1){O=Ln(-1,p&-p),O.tag=2;var F=P.updateQueue;if(F!==null){F=F.shared;var Q=F.pending;Q===null?O.next=O:(O.next=Q.next,Q.next=O),F.pending=O}}P.lanes|=p,O=P.alternate,O!==null&&(O.lanes|=p),rf(P.return,p,c),_.lanes|=p;break}O=O.next}}else if(P.tag===10)E=P.type===c.type?null:P.child;else if(P.tag===18){if(E=P.return,E===null)throw Error(r(341));E.lanes|=p,_=E.alternate,_!==null&&(_.lanes|=p),rf(E,p,c),E=P.sibling}else E=P.child;if(E!==null)E.return=P;else for(E=P;E!==null;){if(E===c){E=null;break}if(P=E.sibling,P!==null){P.return=E.return,E=P;break}E=E.return}P=E}ir(s,c,S.children,p),c=c.child}return c;case 9:return S=c.type,f=c.pendingProps.children,No(c,p),S=Ar(S),f=f(S),c.flags|=1,ir(s,c,f,p),c.child;case 14:return f=c.type,S=Wr(f,c.pendingProps),S=Wr(f.type,S),Ix(s,c,f,S,p);case 15:return Ax(s,c,c.type,c.pendingProps,p);case 17:return f=c.type,S=c.pendingProps,S=c.elementType===f?S:Wr(f,S),Dp(s,c),c.tag=1,pr(f)?(s=!0,yp(c)):s=!1,No(c,p),xx(c,f,S),Sf(c,f,S,p),Rf(null,c,f,!0,s,p);case 19:return Lx(s,c,p);case 22:return _x(s,c,p)}throw Error(r(156,c.tag))};function cP(s,c){return FS(s,c)}function AD(s,c,p,f){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(s,c,p,f){return new AD(s,c,p,f)}function Uf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _D(s){if(typeof s=="function")return Uf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===we)return 11;if(s===oe)return 14}return 2}function xi(s,c){var p=s.alternate;return p===null?(p=Mr(s.tag,c,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=c,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,c=s.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Kp(s,c,p,f,S,P){var E=2;if(f=s,typeof s=="function")Uf(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case M:return ds(p.children,S,P,c);case z:E=8,S|=8;break;case V:return s=Mr(12,p,c,S|2),s.elementType=V,s.lanes=P,s;case H:return s=Mr(13,p,c,S),s.elementType=H,s.lanes=P,s;case ie:return s=Mr(19,p,c,S),s.elementType=ie,s.lanes=P,s;case ae:return Gp(p,S,P,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:E=10;break e;case ue:E=9;break e;case we:E=11;break e;case oe:E=14;break e;case fe:E=16,f=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=Mr(E,p,c,S),c.elementType=s,c.type=f,c.lanes=P,c}function ds(s,c,p,f){return s=Mr(7,s,f,c),s.lanes=p,s}function Gp(s,c,p,f){return s=Mr(22,s,f,c),s.elementType=ae,s.lanes=p,s.stateNode={isHidden:!1},s}function $f(s,c,p){return s=Mr(6,s,null,c),s.lanes=p,s}function Wf(s,c,p){return c=Mr(4,s.children!==null?s.children:[],s.key,c),c.lanes=p,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function zD(s,c,p,f,S){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vh(0),this.expirationTimes=vh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vh(0),this.identifierPrefix=f,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Vf(s,c,p,f,S,P,E,_,O){return s=new zD(s,c,p,_,O),c===1?(c=1,P===!0&&(c|=8)):c=0,P=Mr(3,null,null,c),s.current=P,P.stateNode=s,P.memoizedState={element:f,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},sf(P),s}function MD(s,c,p){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:f==null?null:""+f,children:s,containerInfo:c,implementation:p}}function lP(s){if(!s)return pi;s=s._reactInternals;e:{if(Zi(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(pr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var p=s.type;if(pr(p))return BC(s,p,c)}return c}function uP(s,c,p,f,S,P,E,_,O){return s=Vf(p,f,!0,s,S,P,E,_,O),s.context=lP(null),p=s.current,f=sr(),S=Si(p),P=Ln(f,S),P.callback=c??null,fi(p,P,S),s.current.lanes=S,_a(s,S,f),fr(s,f),s}function Jp(s,c,p,f){var S=c.current,P=sr(),E=Si(S);return p=lP(p),c.context===null?c.context=p:c.pendingContext=p,c=Ln(P,E),c.payload={element:s},f=f===void 0?null:f,f!==null&&(c.callback=f),s=fi(S,c,E),s!==null&&(Gr(s,S,E,P),Np(s,S,E)),E}function Qp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function dP(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<c?p:c}}function Kf(s,c){dP(s,c),(s=s.alternate)&&dP(s,c)}function kD(){return null}var pP=typeof reportError=="function"?reportError:function(s){console.error(s)};function Gf(s){this._internalRoot=s}Xp.prototype.render=Gf.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));Jp(s,c,null,null)},Xp.prototype.unmount=Gf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;cs(function(){Jp(null,s,null,null)}),c[Mn]=null}};function Xp(s){this._internalRoot=s}Xp.prototype.unstable_scheduleHydration=function(s){if(s){var c=JS();s={blockedOn:null,target:s,priority:c};for(var p=0;p<ai.length&&c!==0&&c<ai[p].priority;p++);ai.splice(p,0,s),p===0&&YS(s)}};function Jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Yp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function mP(){}function OD(s,c,p,f,S){if(S){if(typeof f=="function"){var P=f;f=function(){var F=Qp(E);P.call(F)}}var E=uP(c,f,s,0,null,!1,!1,"",mP);return s._reactRootContainer=E,s[Mn]=E.current,Wa(s.nodeType===8?s.parentNode:s),cs(),E}for(;S=s.lastChild;)s.removeChild(S);if(typeof f=="function"){var _=f;f=function(){var F=Qp(O);_.call(F)}}var O=Vf(s,0,!1,null,null,!1,!1,"",mP);return s._reactRootContainer=O,s[Mn]=O.current,Wa(s.nodeType===8?s.parentNode:s),cs(function(){Jp(c,O,p,f)}),O}function Zp(s,c,p,f,S){var P=p._reactRootContainer;if(P){var E=P;if(typeof S=="function"){var _=S;S=function(){var O=Qp(E);_.call(O)}}Jp(c,E,s,S)}else E=OD(p,c,s,S,f);return Qp(E)}KS=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var p=Aa(c.pendingLanes);p!==0&&(yh(c,p|1),fr(c,bt()),(Xe&6)===0&&(_o=bt()+500,mi()))}break;case 13:cs(function(){var f=Bn(s,1);if(f!==null){var S=sr();Gr(f,s,1,S)}}),Kf(s,1)}},Sh=function(s){if(s.tag===13){var c=Bn(s,134217728);if(c!==null){var p=sr();Gr(c,s,134217728,p)}Kf(s,134217728)}},GS=function(s){if(s.tag===13){var c=Si(s),p=Bn(s,c);if(p!==null){var f=sr();Gr(p,s,c,f)}Kf(s,c)}},JS=function(){return st},QS=function(s,c){var p=st;try{return st=s,c()}finally{st=p}},Le=function(s,c,p){switch(c){case"input":if(cr(s,p),c=p.name,p.type==="radio"&&c!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var f=p[c];if(f!==s&&f.form===s.form){var S=gp(f);if(!S)throw Error(r(90));Je(f),cr(f,S)}}}break;case"textarea":_n(s,p);break;case"select":c=p.value,c!=null&&qr(s,!!p.multiple,c,!1)}},Ji=qf,oo=cs;var DD={usingClientEntryPoint:!1,Events:[Ga,yo,gp,Tt,It,qf]},cc={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BD={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=jS(s),s===null?null:s.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||kD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!em.isDisabled&&em.supportsFiber)try{Xd=em.inject(BD),dn=em}catch{}}return gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DD,gr.createPortal=function(s,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jf(c))throw Error(r(200));return MD(s,c,null,p)},gr.createRoot=function(s,c){if(!Jf(s))throw Error(r(299));var p=!1,f="",S=pP;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(f=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),c=Vf(s,1,!1,null,null,p,!1,f,S),s[Mn]=c.current,Wa(s.nodeType===8?s.parentNode:s),new Gf(c)},gr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=jS(c),s=s===null?null:s.stateNode,s},gr.flushSync=function(s){return cs(s)},gr.hydrate=function(s,c,p){if(!Yp(c))throw Error(r(200));return Zp(null,s,c,!0,p)},gr.hydrateRoot=function(s,c,p){if(!Jf(s))throw Error(r(405));var f=p!=null&&p.hydratedSources||null,S=!1,P="",E=pP;if(p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(E=p.onRecoverableError)),c=uP(c,null,s,1,p??null,S,!1,P,E),s[Mn]=c.current,Wa(s),f)for(s=0;s<f.length;s++)p=f[s],S=p._getVersion,S=S(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,S]:c.mutableSourceEagerHydrationData.push(p,S);return new Xp(c)},gr.render=function(s,c,p){if(!Yp(c))throw Error(r(200));return Zp(null,s,c,!1,p)},gr.unmountComponentAtNode=function(s){if(!Yp(s))throw Error(r(40));return s._reactRootContainer?(cs(function(){Zp(null,null,s,!1,function(){s._reactRootContainer=null,s[Mn]=null})}),!0):!1},gr.unstable_batchedUpdates=qf,gr.unstable_renderSubtreeIntoContainer=function(s,c,p,f){if(!Yp(p))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Zp(s,c,p,!1,f)},gr.version="18.3.1-next-f1338f8080-20240426",gr}var xP;function mT(){if(xP)return Yf.exports;xP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yf.exports=WD(),Yf.exports}var PP;function VD(){if(PP)return tm;PP=1;var e=mT();return tm.createRoot=e.createRoot,tm.hydrateRoot=e.hydrateRoot,tm}var KD=VD();const GD=Fm(KD);function RP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hT(...e){return t=>{let r=!1;const n=e.map(i=>{const o=RP(i,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():RP(e[i],null)}}}}function ut(...e){return I.useCallback(hT(...e),e)}function Jo(e){const t=JD(e),r=I.forwardRef((n,i)=>{const{children:o,...l}=n,a=I.Children.toArray(o),u=a.find(XD);if(u){const d=u.props.children,m=a.map(h=>h===u?I.Children.count(d)>1?I.Children.only(null):I.isValidElement(d)?d.props.children:null:h);return y.jsx(t,{...l,ref:i,children:I.isValidElement(d)?I.cloneElement(d,void 0,m):null})}return y.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}var fT=Jo("Slot");function JD(e){const t=I.forwardRef((r,n)=>{const{children:i,...o}=r;if(I.isValidElement(i)){const l=ZD(i),a=YD(o,i.props);return i.type!==I.Fragment&&(a.ref=n?hT(n,l):l),I.cloneElement(i,a)}return I.Children.count(i)>1?I.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QD=Symbol("radix.slottable");function XD(e){return I.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QD}function YD(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...a)=>{const u=o(...a);return i(...a),u}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function ZD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function gT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=gT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vT(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=gT(e))&&(n&&(n+=" "),n+=t);return n}const wP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bP=vT,yT=(e,t)=>r=>{var n;if(t?.variants==null)return bP(e,r?.class,r?.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(d=>{const m=r?.[d],h=o?.[d];if(m===null)return null;const g=wP(m)||wP(h);return i[d][g]}),a=r&&Object.entries(r).reduce((d,m)=>{let[h,g]=m;return g===void 0||(d[h]=g),d},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,m)=>{let{class:h,className:g,...v}=m;return Object.entries(v).every(x=>{let[C,w]=x;return Array.isArray(w)?w.includes({...o,...a}[C]):{...o,...a}[C]===w})?[...d,h,g]:d},[]);return bP(e,l,u,r?.class,r?.className)},Ay="-",eB=e=>{const t=rB(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const a=l.split(Ay);return a[0]===""&&a.length!==1&&a.shift(),ST(a,t)||tB(l)},getConflictingClassGroupIds:(l,a)=>{const u=r[l]||[];return a&&n[l]?[...u,...n[l]]:u}}},ST=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?ST(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Ay);return t.validators.find(({validator:l})=>l(o))?.classGroupId},NP=/^\[(.+)\]$/,tB=e=>{if(NP.test(e)){const t=NP.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},rB=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)Wv(r[i],n,i,t);return n},Wv=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:EP(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(nB(i)){Wv(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,l])=>{Wv(l,EP(t,o),r,n)})})},EP=(e,t)=>{let r=e;return t.split(Ay).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},nB=e=>e.isThemeGetter,iB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(o,l)=>{r.set(o,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return i(o,l),l},set(o,l){r.has(o)?r.set(o,l):i(o,l)}}},Vv="!",Kv=":",sB=Kv.length,oB=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let l=0,a=0,u=0,d;for(let x=0;x<i.length;x++){let C=i[x];if(l===0&&a===0){if(C===Kv){o.push(i.slice(u,x)),u=x+sB;continue}if(C==="/"){d=x;continue}}C==="["?l++:C==="]"?l--:C==="("?a++:C===")"&&a--}const m=o.length===0?i:i.substring(u),h=aB(m),g=h!==m,v=d&&d>u?d-u:void 0;return{modifiers:o,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:v}};if(t){const i=t+Kv,o=n;n=l=>l.startsWith(i)?o(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},aB=e=>e.endsWith(Vv)?e.substring(0,e.length-1):e.startsWith(Vv)?e.substring(1):e,cB=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(l=>{l[0]==="["||t[l]?(i.push(...o.sort(),l),o=[]):o.push(l)}),i.push(...o.sort()),i}},lB=e=>({cache:iB(e.cacheSize),parseClassName:oB(e),sortModifiers:cB(e),...eB(e)}),uB=/\s+/,dB=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,l=[],a=e.trim().split(uB);let u="";for(let d=a.length-1;d>=0;d-=1){const m=a[d],{isExternal:h,modifiers:g,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:C}=r(m);if(h){u=m+(u.length>0?" "+u:u);continue}let w=!!C,R=n(w?x.substring(0,C):x);if(!R){if(!w){u=m+(u.length>0?" "+u:u);continue}if(R=n(x),!R){u=m+(u.length>0?" "+u:u);continue}w=!1}const b=o(g).join(":"),N=v?b+Vv:b,T=N+R;if(l.includes(T))continue;l.push(T);const A=i(R,w);for(let k=0;k<A.length;++k){const M=A[k];l.push(N+M)}u=m+(u.length>0?" "+u:u)}return u};function pB(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=CT(t))&&(n&&(n+=" "),n+=r);return n}const CT=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=CT(e[n]))&&(r&&(r+=" "),r+=t);return r};function mB(e,...t){let r,n,i,o=l;function l(u){const d=t.reduce((m,h)=>h(m),e());return r=lB(d),n=r.cache.get,i=r.cache.set,o=a,a(u)}function a(u){const d=n(u);if(d)return d;const m=dB(u,r);return i(u,m),m}return function(){return o(pB.apply(null,arguments))}}const Mt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},xT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,PT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hB=/^\d+\/\d+$/,fB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mo=e=>hB.test(e),Ue=e=>!!e&&!Number.isNaN(Number(e)),Ri=e=>!!e&&Number.isInteger(Number(e)),tg=e=>e.endsWith("%")&&Ue(e.slice(0,-1)),Fn=e=>fB.test(e),CB=()=>!0,xB=e=>gB.test(e)&&!vB.test(e),RT=()=>!1,PB=e=>yB.test(e),RB=e=>SB.test(e),wB=e=>!Pe(e)&&!Re(e),bB=e=>ea(e,NT,RT),Pe=e=>xT.test(e),ps=e=>ea(e,ET,xB),rg=e=>ea(e,AB,Ue),TP=e=>ea(e,wT,RT),NB=e=>ea(e,bT,RB),rm=e=>ea(e,TT,PB),Re=e=>PT.test(e),uc=e=>ta(e,ET),EB=e=>ta(e,_B),IP=e=>ta(e,wT),TB=e=>ta(e,NT),IB=e=>ta(e,bT),nm=e=>ta(e,TT,!0),ea=(e,t,r)=>{const n=xT.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},ta=(e,t,r=!1)=>{const n=PT.exec(e);return n?n[1]?t(n[1]):r:!1},wT=e=>e==="position"||e==="percentage",bT=e=>e==="image"||e==="url",NT=e=>e==="length"||e==="size"||e==="bg-size",ET=e=>e==="length",AB=e=>e==="number",_B=e=>e==="family-name",TT=e=>e==="shadow",zB=()=>{const e=Mt("color"),t=Mt("font"),r=Mt("text"),n=Mt("font-weight"),i=Mt("tracking"),o=Mt("leading"),l=Mt("breakpoint"),a=Mt("container"),u=Mt("spacing"),d=Mt("radius"),m=Mt("shadow"),h=Mt("inset-shadow"),g=Mt("text-shadow"),v=Mt("drop-shadow"),x=Mt("blur"),C=Mt("perspective"),w=Mt("aspect"),R=Mt("ease"),b=Mt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...T(),Re,Pe],k=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],z=()=>[Re,Pe,u],V=()=>[Mo,"full","auto",...z()],K=()=>[Ri,"none","subgrid",Re,Pe],ue=()=>["auto",{span:["full",Ri,Re,Pe]},Ri,Re,Pe],we=()=>[Ri,"auto",Re,Pe],H=()=>["auto","min","max","fr",Re,Pe],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],fe=()=>["auto",...z()],ae=()=>[Mo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],L=()=>[e,Re,Pe],ee=()=>[...T(),IP,TP,{position:[Re,Pe]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",TB,bB,{size:[Re,Pe]}],$=()=>[tg,uc,ps],ge=()=>["","none","full",d,Re,Pe],Ce=()=>["",Ue,uc,ps],ke=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[Ue,tg,IP,TP],Ne=()=>["","none",x,Re,Pe],Ae=()=>["none",Ue,Re,Pe],De=()=>["none",Ue,Re,Pe],He=()=>[Ue,Re,Pe],Je=()=>[Mo,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fn],breakpoint:[Fn],color:[CB],container:[Fn],"drop-shadow":[Fn],ease:["in","out","in-out"],font:[wB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fn],shadow:[Fn],spacing:["px",Ue],text:[Fn],"text-shadow":[Fn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mo,Pe,Re,w]}],container:["container"],columns:[{columns:[Ue,Pe,Re,a]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Ri,"auto",Re,Pe]}],basis:[{basis:[Mo,"full","auto",a,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Mo,"auto","initial","none",Pe]}],grow:[{grow:["",Ue,Re,Pe]}],shrink:[{shrink:["",Ue,Re,Pe]}],order:[{order:[Ri,"first","last","none",Re,Pe]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:ue()}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:ue()}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:fe()}],mx:[{mx:fe()}],my:[{my:fe()}],ms:[{ms:fe()}],me:[{me:fe()}],mt:[{mt:fe()}],mr:[{mr:fe()}],mb:[{mb:fe()}],ml:[{ml:fe()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[a,"screen",...ae()]}],"min-w":[{"min-w":[a,"screen","none",...ae()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[l]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",r,uc,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Re,rg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",tg,Pe]}],"font-family":[{font:[EB,Pe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Re,Pe]}],"line-clamp":[{"line-clamp":[Ue,"none",Re,rg]}],leading:[{leading:[o,...z()]}],"list-image":[{"list-image":["none",Re,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Re,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ke(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",Re,ps]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[Ue,"auto",Re,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ri,Re,Pe],radial:["",Re,Pe],conic:[Ri,Re,Pe]},IB,NB]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:ge()}],"rounded-s":[{"rounded-s":ge()}],"rounded-e":[{"rounded-e":ge()}],"rounded-t":[{"rounded-t":ge()}],"rounded-r":[{"rounded-r":ge()}],"rounded-b":[{"rounded-b":ge()}],"rounded-l":[{"rounded-l":ge()}],"rounded-ss":[{"rounded-ss":ge()}],"rounded-se":[{"rounded-se":ge()}],"rounded-ee":[{"rounded-ee":ge()}],"rounded-es":[{"rounded-es":ge()}],"rounded-tl":[{"rounded-tl":ge()}],"rounded-tr":[{"rounded-tr":ge()}],"rounded-br":[{"rounded-br":ge()}],"rounded-bl":[{"rounded-bl":ge()}],"border-w":[{border:Ce()}],"border-w-x":[{"border-x":Ce()}],"border-w-y":[{"border-y":Ce()}],"border-w-s":[{"border-s":Ce()}],"border-w-e":[{"border-e":Ce()}],"border-w-t":[{"border-t":Ce()}],"border-w-r":[{"border-r":Ce()}],"border-w-b":[{"border-b":Ce()}],"border-w-l":[{"border-l":Ce()}],"divide-x":[{"divide-x":Ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ke(),"hidden","none"]}],"divide-style":[{divide:[...ke(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ke(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,Re,Pe]}],"outline-w":[{outline:["",Ue,uc,ps]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",m,nm,rm]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",h,nm,rm]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:Ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[Ue,ps]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":Ce()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",g,nm,rm]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[Ue,Re,Pe]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Re,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Re,Pe]}],filter:[{filter:["","none",Re,Pe]}],blur:[{blur:Ne()}],brightness:[{brightness:[Ue,Re,Pe]}],contrast:[{contrast:[Ue,Re,Pe]}],"drop-shadow":[{"drop-shadow":["","none",v,nm,rm]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",Ue,Re,Pe]}],"hue-rotate":[{"hue-rotate":[Ue,Re,Pe]}],invert:[{invert:["",Ue,Re,Pe]}],saturate:[{saturate:[Ue,Re,Pe]}],sepia:[{sepia:["",Ue,Re,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",Re,Pe]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,Re,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,Re,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,Re,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,Re,Pe]}],"backdrop-invert":[{"backdrop-invert":["",Ue,Re,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,Re,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,Re,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,Re,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Re,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",Re,Pe]}],ease:[{ease:["linear","initial",R,Re,Pe]}],delay:[{delay:[Ue,Re,Pe]}],animate:[{animate:["none",b,Re,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Re,Pe]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[Re,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Je()}],"translate-x":[{"translate-x":Je()}],"translate-y":[{"translate-y":Je()}],"translate-z":[{"translate-z":Je()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re,Pe]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[Ue,uc,ps,rg]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},MB=mB(zB);function Rt(...e){return MB(vT(e))}const kB=yT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function qe({className:e,variant:t,size:r,asChild:n=!1,...i}){const o=n?fT:"button";return y.jsx(o,{"data-slot":"button",className:Rt(kB({variant:t,size:r,className:e})),...i})}function _i({className:e,...t}){return y.jsx("div",{"data-slot":"card",className:Rt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function IT({className:e,...t}){return y.jsx("div",{"data-slot":"card-header",className:Rt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function OB({className:e,...t}){return y.jsx("h4",{"data-slot":"card-title",className:Rt("leading-none",e),...t})}function zi({className:e,...t}){return y.jsx("div",{"data-slot":"card-content",className:Rt("px-6 [&:last-child]:pb-6",e),...t})}const DB=yT("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function yn({className:e,variant:t,asChild:r=!1,...n}){const i=r?fT:"span";return y.jsx(i,{"data-slot":"badge",className:Rt(DB({variant:t}),e),...n})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LB=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),AP=e=>{const t=LB(e);return t.charAt(0).toUpperCase()+t.slice(1)},AT=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...a},u)=>I.createElement("svg",{ref:u,...jB,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:AT("lucide",i),...a},[...l.map(([d,m])=>I.createElement(d,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(e,t)=>{const r=I.forwardRef(({className:n,...i},o)=>I.createElement(qB,{ref:o,iconNode:t,className:AT(`lucide-${BB(AP(e))}`,`lucide-${e}`,n),...i}));return r.displayName=AP(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xd=dt("arrow-left",FB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],kr=dt("bot",HB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_T=dt("calendar",UB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],WB=dt("chart-column",$B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],KB=dt("check",VB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hm=dt("chevron-down",GB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_y=dt("chevron-up",JB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_P=dt("circle-help",QB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Td=dt("clock",XB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],qs=dt("download",YB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eL=dt("eye",ZB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ng=dt("file-text",tL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],nL=dt("funnel",rL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Fo=dt("message-square",iL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],zP=dt("mic-off",sL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Or=dt("mic",oL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],cL=dt("pen-line",aL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],uL=dt("play",lL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],MP=dt("save",dL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Gv=dt("search",pL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Sm=dt("send",mL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],fL=dt("square",hL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zT=dt("trash-2",gL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yL=dt("user",vL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CL=dt("x",SL);class xL{STORAGE_KEY="ai-transcriptor-sessions";STORAGE_VERSION="v2";sessions=[];constructor(){this.loadFromStorage()}saveToStorage(){try{const t={version:this.STORAGE_VERSION,sessions:this.sessions,lastUpdated:new Date().toISOString()},r=JSON.stringify(t);r.length>1e6&&console.warn("Session data is getting large. Consider enabling cloud sync."),localStorage.setItem(this.STORAGE_KEY,r)}catch(t){console.error("Failed to save sessions to localStorage:",t),t.name==="QuotaExceededError"&&this.handleStorageQuotaExceeded()}}loadFromStorage(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t){const r=JSON.parse(t);r.version===this.STORAGE_VERSION?this.sessions=r.sessions||[]:this.migrateFromOldVersion(r)}}catch(t){console.error("Failed to load sessions from localStorage:",t),this.sessions=[]}}migrateFromOldVersion(t){Array.isArray(t)?this.sessions=t.map(r=>({...r,lastModified:r.lastModified||new Date().toISOString(),cloudSynced:!1})):this.sessions=[],this.saveToStorage(),console.log("Migrated sessions to new storage format")}handleStorageQuotaExceeded(){const t=[...this.sessions].sort((i,o)=>new Date(i.date).getTime()-new Date(o.date).getTime()),r=Math.ceil(t.length*.25),n=t.slice(0,r);this.sessions=this.sessions.filter(i=>!n.some(o=>o.id===i.id)),console.warn(`Removed ${r} old sessions due to storage quota exceeded`),this.saveToStorage()}async saveSession(t){const r=this.sessions.findIndex(i=>i.id===t.id),n={...t,lastModified:new Date().toISOString(),cloudSynced:!1};r>=0?this.sessions[r]=n:this.sessions.unshift(n),this.saveToStorage()}async getAllSessions(){return this.loadFromStorage(),[...this.sessions].sort((t,r)=>new Date(r.date).getTime()-new Date(t.date).getTime())}async getSessionById(t){return this.loadFromStorage(),this.sessions.find(r=>r.id===t)||null}async deleteSession(t){const r=this.sessions.length;return this.sessions=this.sessions.filter(n=>n.id!==t),this.sessions.length<r?(this.saveToStorage(),!0):!1}async updateSession(t,r){const n=this.sessions.findIndex(i=>i.id===t);return n===-1?null:(this.sessions[n]={...this.sessions[n],...r,lastModified:new Date().toISOString(),cloudSynced:!1},this.saveToStorage(),this.sessions[n])}async exportSessions(){const t={exportDate:new Date().toISOString(),totalSessions:this.sessions.length,sessions:this.sessions};return JSON.stringify(t,null,2)}async importSessions(t){try{const r=JSON.parse(t),n=[];let i=0;if(r.sessions&&Array.isArray(r.sessions))for(const o of r.sessions)try{o.id&&o.title&&o.date?(await this.saveSession(o),i++):n.push(`Invalid session structure: ${o.id||"unknown"}`)}catch(l){n.push(`Failed to import session ${o.id}: ${l.message}`)}else n.push("Invalid import format: sessions array not found");return{imported:i,errors:n}}catch(r){return{imported:0,errors:[`Failed to parse import data: ${r.message}`]}}}async getStorageStats(){const t=JSON.stringify({sessions:this.sessions}),r=this.sessions.reduce((o,l)=>o+l.wordsCount,0),n=this.sessions.reduce((o,l)=>{const a=l.duration;if(a.includes("h")){const u=a.split("h"),d=parseInt(u[0])||0,m=u[1]&&parseInt(u[1].replace("m",""))||0;return o+d*60+m}else return o+(parseInt(a.replace("m",""))||0)},0),i=this.sessions.map(o=>o.date).sort();return{totalSessions:this.sessions.length,totalSizeBytes:new Blob([t]).size,totalWords:r,totalHours:Math.round(n/60*100)/100,oldestSession:i[0]||null,newestSession:i[i.length-1]||null}}}const kt=new xL;let zy=class extends Error{constructor(t){super(t),this.name="AbortError"}};function PL(...e){if(e.length>0){const t=String(e[0]);t.includes(":error")?console.error(...e):t.includes(":warning")?console.warn(...e):t.includes(":info")?console.info(...e):t.includes(":verbose")?console.debug(...e):console.debug(...e)}}var kP={};const OP=typeof process<"u"&&kP&&kP.DEBUG||void 0;let MT,Jv=[],Qv=[];const Nm=[];OP&&My(OP);const qo=Object.assign(e=>kT(e),{enable:My,enabled:ky,disable:RL,log:PL});function My(e){MT=e,Jv=[],Qv=[];const t=/\*/g,r=e.split(",").map(n=>n.trim().replace(t,".*?"));for(const n of r)n.startsWith("-")?Qv.push(new RegExp(`^${n.substr(1)}$`)):Jv.push(new RegExp(`^${n}$`));for(const n of Nm)n.enabled=ky(n.namespace)}function ky(e){if(e.endsWith("*"))return!0;for(const t of Qv)if(t.test(e))return!1;for(const t of Jv)if(t.test(e))return!0;return!1}function RL(){const e=MT||"";return My(""),e}function kT(e){const t=Object.assign(r,{enabled:ky(e),destroy:wL,log:qo.log,namespace:e,extend:bL});function r(...n){t.enabled&&(n.length>0&&(n[0]=`${e} ${n[0]}`),t.log(...n))}return Nm.push(t),t}function wL(){const e=Nm.indexOf(this);return e>=0?(Nm.splice(e,1),!0):!1}function bL(e){const t=kT(`${this.namespace}:${e}`);return t.log=this.log,t}var DP={};const Xv=["verbose","info","warning","error"],BP={verbose:400,info:300,warning:200,error:100};function LP(e,t){t.log=(...r)=>{e.log(...r)}}function jP(e){return Xv.includes(e)}function OT(e){const t=new Set,r=typeof process<"u"&&DP&&DP[e.logLevelEnvVarName]||void 0;let n;const i=qo(e.namespace);i.log=(...m)=>{qo.log(...m)};function o(m){if(m&&!jP(m))throw new Error(`Unknown log level '${m}'. Acceptable values: ${Xv.join(",")}`);n=m;const h=[];for(const g of t)l(g)&&h.push(g.namespace);qo.enable(h.join(","))}r&&(jP(r)?o(r):console.error(`${e.logLevelEnvVarName} set to unknown log level '${r}'; logging is not enabled. Acceptable values: ${Xv.join(", ")}.`));function l(m){return!!(n&&BP[m.level]<=BP[n])}function a(m,h){const g=Object.assign(m.extend(h),{level:h});if(LP(m,g),l(g)){const v=qo.disable();qo.enable(v+","+g.namespace)}return t.add(g),g}function u(){return n}function d(m){const h=i.extend(m);return LP(i,h),{error:a(h,"error"),warning:a(h,"warning"),info:a(h,"info"),verbose:a(h,"verbose")}}return{setLogLevel:o,getLogLevel:u,createClientLogger:d,logger:i}}const NL=OT({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"});function DT(e){return NL.createClientLogger(e)}function im(e){return e.toLowerCase()}function*EL(e){for(const t of e.values())yield[t.name,t.value]}class TL{constructor(t){if(this._headersMap=new Map,t)for(const r of Object.keys(t))this.set(r,t[r])}set(t,r){this._headersMap.set(im(t),{name:t,value:String(r).trim()})}get(t){var r;return(r=this._headersMap.get(im(t)))===null||r===void 0?void 0:r.value}has(t){return this._headersMap.has(im(t))}delete(t){this._headersMap.delete(im(t))}toJSON(t={}){const r={};if(t.preserveCase)for(const n of this._headersMap.values())r[n.name]=n.value;else for(const[n,i]of this._headersMap)r[n]=i.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return EL(this._headersMap)}}function Id(e){return new TL(e)}function IL(){let e="";for(let t=0;t<32;t++){const r=Math.floor(Math.random()*16);t===12?e+="4":t===16?e+=r&3|8:e+=r.toString(16),(t===7||t===11||t===15||t===19)&&(e+="-")}return e}var ig;const AL=typeof((ig=globalThis?.crypto)===null||ig===void 0?void 0:ig.randomUUID)=="function"?globalThis.crypto.randomUUID.bind(globalThis.crypto):IL;function Oy(){return AL()}class _L{constructor(t){var r,n,i,o,l,a,u;this.url=t.url,this.body=t.body,this.headers=(r=t.headers)!==null&&r!==void 0?r:Id(),this.method=(n=t.method)!==null&&n!==void 0?n:"GET",this.timeout=(i=t.timeout)!==null&&i!==void 0?i:0,this.multipartBody=t.multipartBody,this.formData=t.formData,this.disableKeepAlive=(o=t.disableKeepAlive)!==null&&o!==void 0?o:!1,this.proxySettings=t.proxySettings,this.streamResponseStatusCodes=t.streamResponseStatusCodes,this.withCredentials=(l=t.withCredentials)!==null&&l!==void 0?l:!1,this.abortSignal=t.abortSignal,this.onUploadProgress=t.onUploadProgress,this.onDownloadProgress=t.onDownloadProgress,this.requestId=t.requestId||Oy(),this.allowInsecureConnection=(a=t.allowInsecureConnection)!==null&&a!==void 0?a:!1,this.enableBrowserStreams=(u=t.enableBrowserStreams)!==null&&u!==void 0?u:!1,this.requestOverrides=t.requestOverrides,this.authSchemes=t.authSchemes}}function zL(e){return new _L(e)}const qP=new Set(["Deserialize","Serialize","Retry","Sign"]);class Em{constructor(t){var r;this._policies=[],this._policies=(r=t?.slice(0))!==null&&r!==void 0?r:[],this._orderedPolicies=void 0}addPolicy(t,r={}){if(r.phase&&r.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(r.phase&&!qP.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!qP.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:t,options:r}),this._orderedPolicies=void 0}removePolicy(t){const r=[];return this._policies=this._policies.filter(n=>t.name&&n.policy.name===t.name||t.phase&&n.options.phase===t.phase?(r.push(n.policy),!1):!0),this._orderedPolicies=void 0,r}sendRequest(t,r){return this.getOrderedPolicies().reduceRight((o,l)=>a=>l.sendRequest(a,o),o=>t.sendRequest(o))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new Em(this._policies)}static create(){return new Em}orderPolicies(){const t=[],r=new Map;function n(x){return{name:x,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}const i=n("Serialize"),o=n("None"),l=n("Deserialize"),a=n("Retry"),u=n("Sign"),d=[i,o,l,a,u];function m(x){return x==="Retry"?a:x==="Serialize"?i:x==="Deserialize"?l:x==="Sign"?u:o}for(const x of this._policies){const C=x.policy,w=x.options,R=C.name;if(r.has(R))throw new Error("Duplicate policy names not allowed in pipeline");const b={policy:C,dependsOn:new Set,dependants:new Set};w.afterPhase&&(b.afterPhase=m(w.afterPhase),b.afterPhase.hasAfterPolicies=!0),r.set(R,b),m(w.phase).policies.add(b)}for(const x of this._policies){const{policy:C,options:w}=x,R=C.name,b=r.get(R);if(!b)throw new Error(`Missing node for policy ${R}`);if(w.afterPolicies)for(const N of w.afterPolicies){const T=r.get(N);T&&(b.dependsOn.add(T),T.dependants.add(b))}if(w.beforePolicies)for(const N of w.beforePolicies){const T=r.get(N);T&&(T.dependsOn.add(b),b.dependants.add(T))}}function h(x){x.hasRun=!0;for(const C of x.policies)if(!(C.afterPhase&&(!C.afterPhase.hasRun||C.afterPhase.policies.size))&&C.dependsOn.size===0){t.push(C.policy);for(const w of C.dependants)w.dependsOn.delete(C);r.delete(C.policy.name),x.policies.delete(C)}}function g(){for(const x of d){if(h(x),x.policies.size>0&&x!==o){o.hasRun||h(o);return}x.hasAfterPolicies&&h(o)}}let v=0;for(;r.size>0;){v++;const x=t.length;if(g(),t.length<=x&&v>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return t}}function ML(){return Em.create()}function BT(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}function Dy(e){if(BT(e)){const t=typeof e.name=="string",r=typeof e.message=="string";return t&&r}return!1}const kL=Symbol(),sg="REDACTED",OL=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],DL=["api-version"];class By{constructor({additionalAllowedHeaderNames:t=[],additionalAllowedQueryParameters:r=[]}={}){t=OL.concat(t),r=DL.concat(r),this.allowedHeaderNames=new Set(t.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(t){const r=new Set;return JSON.stringify(t,(n,i)=>{if(i instanceof Error)return Object.assign(Object.assign({},i),{name:i.name,message:i.message});if(n==="headers")return this.sanitizeHeaders(i);if(n==="url")return this.sanitizeUrl(i);if(n==="query")return this.sanitizeQuery(i);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(i)||BT(i)){if(r.has(i))return"[Circular]";r.add(i)}return i},2)}sanitizeUrl(t){if(typeof t!="string"||t===null||t==="")return t;const r=new URL(t);if(!r.search)return t;for(const[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,sg);return r.toString()}sanitizeHeaders(t){const r={};for(const n of Object.keys(t))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=t[n]:r[n]=sg;return r}sanitizeQuery(t){if(typeof t!="object"||t===null)return t;const r={};for(const n of Object.keys(t))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=t[n]:r[n]=sg;return r}}const BL=new By;let Qo=class LT extends Error{constructor(t,r={}){super(t),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,Object.defineProperty(this,"request",{value:r.request,enumerable:!1}),Object.defineProperty(this,"response",{value:r.response,enumerable:!1}),Object.defineProperty(this,kL,{value:()=>`RestError: ${this.message} 
 ${BL.sanitize(Object.assign(Object.assign({},this),{request:this.request,response:this.response}))}`,enumerable:!1}),Object.setPrototypeOf(this,LT.prototype)}};Qo.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";Qo.PARSE_ERROR="PARSE_ERROR";function LL(e){return e instanceof Qo?!0:Dy(e)&&e.name==="RestError"}function Bs(e,t){switch(t){case"utf-8":return jL(e);case"base64":return jT(e);case"base64url":return qL(e);case"hex":return FL(e)}}function jL(e){return new TextEncoder().encode(e)}function jT(e){return new Uint8Array([...atob(e)].map(t=>t.charCodeAt(0)))}function qL(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return jT(t)}const FP=new Set("0123456789abcdefABCDEF");function FL(e){const t=new Uint8Array(e.length/2);for(let r=0;r<e.length/2;++r){const n=e[2*r],i=e[2*r+1];if(!FP.has(n)||!FP.has(i))return t.slice(0,r);t[r]=parseInt(`${n}${i}`,16)}return t}function HL(e){return!!(e&&typeof e.pipe=="function")}function Ly(e){return!!(e&&typeof e.getReader=="function"&&typeof e.tee=="function")}function UL(e){return typeof e.stream=="function"}function $L(e){return(typeof Blob=="function"||typeof Blob=="object")&&e instanceof Blob}class WL{async sendRequest(t){if(new URL(t.url).protocol!=="https:"&&!t.allowInsecureConnection)throw new Error(`Cannot connect to ${t.url} while allowInsecureConnection is false.`);if(t.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");try{return await VL(t)}catch(i){throw JL(i,t)}}}async function VL(e){const{abortController:t,abortControllerCleanup:r}=GL(e);try{const n=QL(e.headers),{streaming:i,body:o}=YL(e),l=Object.assign(Object.assign({body:o,method:e.method,headers:n,signal:t.signal},"credentials"in Request.prototype?{credentials:e.withCredentials?"include":"same-origin"}:{}),"cache"in Request.prototype?{cache:"no-store"}:{});i&&(l.duplex="half");const a=await fetch(e.url,Object.assign(Object.assign({},l),e.requestOverrides));return $L(e.body)&&e.onUploadProgress&&e.onUploadProgress({loadedBytes:e.body.size}),KL(a,e,r)}catch(n){throw r?.(),n}}async function KL(e,t,r){var n,i;const o=XL(e),l={request:t,headers:o,status:e.status},a=Ly(e.body)?qT(e.body,{onProgress:t.onDownloadProgress,onEnd:r}):e.body;if(!((n=t.streamResponseStatusCodes)===null||n===void 0)&&n.has(Number.POSITIVE_INFINITY)||!((i=t.streamResponseStatusCodes)===null||i===void 0)&&i.has(l.status))if(t.enableBrowserStreams)l.browserStreamBody=a??void 0;else{const u=new Response(a);l.blobBody=u.blob(),r?.()}else{const u=new Response(a);l.bodyAsText=await u.text(),r?.()}return l}function GL(e){const t=new AbortController;let r,n;if(e.abortSignal){if(e.abortSignal.aborted)throw new zy("The operation was aborted. Request has already been canceled.");n=i=>{i.type==="abort"&&t.abort()},e.abortSignal.addEventListener("abort",n),r=()=>{var i;n&&((i=e.abortSignal)===null||i===void 0||i.removeEventListener("abort",n))}}return e.timeout>0&&setTimeout(()=>{t.abort()},e.timeout),{abortController:t,abortControllerCleanup:r}}function JL(e,t){var r;return e&&e?.name==="AbortError"?e:new Qo(`Error sending request: ${e.message}`,{code:(r=e?.code)!==null&&r!==void 0?r:Qo.REQUEST_SEND_ERROR,request:t})}function QL(e){const t=new Headers;for(const[r,n]of e)t.append(r,n);return t}function XL(e){const t=Id();for(const[r,n]of e.headers)t.set(r,n);return t}function YL(e){const t=typeof e.body=="function"?e.body():e.body;if(HL(t))throw new Error("Node streams are not supported in browser environment.");return Ly(t)?{streaming:!0,body:qT(t,{onProgress:e.onUploadProgress})}:{streaming:!1,body:t}}function qT(e,t={}){let r=0;const{onProgress:n,onEnd:i}=t;if(ej(e))return e.pipeThrough(new TransformStream({transform(o,l){if(o===null){l.terminate();return}l.enqueue(o),r+=o.length,n&&n({loadedBytes:r})},flush(){i?.()}}));{const o=e.getReader();return new ReadableStream({async pull(l){var a;const{done:u,value:d}=await o.read();if(u||!d){i?.(),l.close(),o.releaseLock();return}r+=(a=d?.length)!==null&&a!==void 0?a:0,l.enqueue(d),n&&n({loadedBytes:r})},cancel(l){return i?.(),o.cancel(l)}})}}function ZL(){return new WL}function ej(e){return e.pipeThrough!==void 0&&self.TransformStream!==void 0}function tj(){return ZL()}const rj=DT("ts-http-runtime"),nj="logPolicy";function ij(e={}){var t;const r=(t=e.logger)!==null&&t!==void 0?t:rj.info,n=new By({additionalAllowedHeaderNames:e.additionalAllowedHeaderNames,additionalAllowedQueryParameters:e.additionalAllowedQueryParameters});return{name:nj,async sendRequest(i,o){if(!r.enabled)return o(i);r(`Request: ${n.sanitize(i)}`);const l=await o(i);return r(`Response status code: ${l.status}`),r(`Headers: ${n.sanitize(l.headers)}`),l}}}const FT="redirectPolicy",HP=["GET","HEAD"];function sj(e={}){const{maxRetries:t=20}=e;return{name:FT,async sendRequest(r,n){const i=await n(r);return HT(n,i,t)}}}async function HT(e,t,r,n=0){const{request:i,status:o,headers:l}=t,a=l.get("location");if(a&&(o===300||o===301&&HP.includes(i.method)||o===302&&HP.includes(i.method)||o===303&&i.method==="POST"||o===307)&&n<r){const u=new URL(a,i.url);i.url=u.toString(),o===303&&(i.method="GET",i.headers.delete("Content-Length"),delete i.body),i.headers.delete("Authorization");const d=await e(i);return HT(e,d,r,n+1)}return t}const Yv=3,oj="decompressResponsePolicy";function aj(){throw new Error("decompressResponsePolicy is not supported in browser environment")}function cj(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function lj(e,t){const r=t.retryDelayInMs*Math.pow(2,e),n=Math.min(t.maxRetryDelayInMs,r);return{retryAfterInMs:n/2+cj(0,n/2)}}const uj="The operation was aborted.";function dj(e,t,r){return new Promise((n,i)=>{let o,l;const a=()=>i(new zy(r?.abortErrorMsg?r?.abortErrorMsg:uj)),u=()=>{r?.abortSignal&&l&&r.abortSignal.removeEventListener("abort",l)};if(l=()=>(o&&clearTimeout(o),u(),a()),r?.abortSignal&&r.abortSignal.aborted)return a();o=setTimeout(()=>{u(),n(t)},e),r?.abortSignal&&r.abortSignal.addEventListener("abort",l)})}function pj(e,t){const r=e.headers.get(t);if(!r)return;const n=Number(r);if(!Number.isNaN(n))return n}const Zv="Retry-After",mj=["retry-after-ms","x-ms-retry-after-ms",Zv];function UT(e){if(e&&[429,503].includes(e.status))try{for(const i of mj){const o=pj(e,i);if(o===0||o)return o*(i===Zv?1e3:1)}const t=e.headers.get(Zv);if(!t)return;const n=Date.parse(t)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}function hj(e){return Number.isFinite(UT(e))}function fj(){return{name:"throttlingRetryStrategy",retry({response:e}){const t=UT(e);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}}}const gj=1e3,vj=1e3*64;function yj(e={}){var t,r;const n=(t=e.retryDelayInMs)!==null&&t!==void 0?t:gj,i=(r=e.maxRetryDelayInMs)!==null&&r!==void 0?r:vj;return{name:"exponentialRetryStrategy",retry({retryCount:o,response:l,responseError:a}){const u=Cj(a),d=u&&e.ignoreSystemErrors,m=Sj(l),h=m&&e.ignoreHttpStatusCodes;return l&&(hj(l)||!m)||h||d?{skipStrategy:!0}:a&&!u&&!m?{errorToThrow:a}:lj(o,{retryDelayInMs:n,maxRetryDelayInMs:i})}}}function Sj(e){return!!(e&&e.status!==void 0&&(e.status>=500||e.status===408)&&e.status!==501&&e.status!==505)}function Cj(e){return e?e.code==="ETIMEDOUT"||e.code==="ESOCKETTIMEDOUT"||e.code==="ECONNREFUSED"||e.code==="ECONNRESET"||e.code==="ENOENT"||e.code==="ENOTFOUND":!1}const xj=DT("ts-http-runtime retryPolicy"),Pj="retryPolicy";function Rj(e,t={maxRetries:Yv}){const r=t.logger||xj;return{name:Pj,async sendRequest(n,i){var o,l;let a,u,d=-1;e:for(;;){d+=1,a=void 0,u=void 0;try{r.info(`Retry ${d}: Attempting to send request`,n.requestId),a=await i(n),r.info(`Retry ${d}: Received a response from request`,n.requestId)}catch(m){if(r.error(`Retry ${d}: Received an error from request`,n.requestId),u=m,!m||u.name!=="RestError")throw m;a=u.response}if(!((o=n.abortSignal)===null||o===void 0)&&o.aborted)throw r.error(`Retry ${d}: Request aborted.`),new zy;if(d>=((l=t.maxRetries)!==null&&l!==void 0?l:Yv)){if(r.info(`Retry ${d}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),u)throw u;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}r.info(`Retry ${d}: Processing ${e.length} retry strategies.`);t:for(const m of e){const h=m.logger||r;h.info(`Retry ${d}: Processing retry strategy ${m.name}.`);const g=m.retry({retryCount:d,response:a,responseError:u});if(g.skipStrategy){h.info(`Retry ${d}: Skipped.`);continue t}const{errorToThrow:v,retryAfterInMs:x,redirectTo:C}=g;if(v)throw h.error(`Retry ${d}: Retry strategy ${m.name} throws error:`,v),v;if(x||x===0){h.info(`Retry ${d}: Retry strategy ${m.name} retries after ${x}`),await dj(x,void 0,{abortSignal:n.abortSignal});continue e}if(C){h.info(`Retry ${d}: Retry strategy ${m.name} redirects to ${C}`),n.url=C;continue e}}if(u)throw r.info("None of the retry strategies could work with the received error. Throwing it."),u;if(a)return r.info("None of the retry strategies could work with the received response. Returning it."),a}}}}const wj="defaultRetryPolicy";function bj(e={}){var t;return{name:wj,sendRequest:Rj([fj(),yj(e)],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:Yv}).sendRequest}}var og,ag,cg,lg;typeof self=="object"&&typeof self?.importScripts=="function"&&(((og=self.constructor)===null||og===void 0?void 0:og.name)==="DedicatedWorkerGlobalScope"||((ag=self.constructor)===null||ag===void 0?void 0:ag.name)==="ServiceWorkerGlobalScope"||((cg=self.constructor)===null||cg===void 0||cg.name));typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u";typeof Bun<"u"&&typeof Bun.version<"u";const $T=typeof globalThis.process<"u"&&!!globalThis.process.version&&!!(!((lg=globalThis.process.versions)===null||lg===void 0)&&lg.node),Nj="formDataPolicy";function Ej(e){var t;const r={};for(const[n,i]of e.entries())(t=r[n])!==null&&t!==void 0||(r[n]=[]),r[n].push(i);return r}function Tj(){return{name:Nj,async sendRequest(e,t){if($T&&typeof FormData<"u"&&e.body instanceof FormData&&(e.formData=Ej(e.body),e.body=void 0),e.formData){const r=e.headers.get("Content-Type");r&&r.indexOf("application/x-www-form-urlencoded")!==-1?e.body=Ij(e.formData):await Aj(e.formData,e),e.formData=void 0}return t(e)}}}function Ij(e){const t=new URLSearchParams;for(const[r,n]of Object.entries(e))if(Array.isArray(n))for(const i of n)t.append(r,i.toString());else t.append(r,n.toString());return t.toString()}async function Aj(e,t){const r=t.headers.get("Content-Type");if(r&&!r.startsWith("multipart/form-data"))return;t.headers.set("Content-Type",r??"multipart/form-data");const n=[];for(const[i,o]of Object.entries(e))for(const l of Array.isArray(o)?o:[o])if(typeof l=="string")n.push({headers:Id({"Content-Disposition":`form-data; name="${i}"`}),body:Bs(l,"utf-8")});else{if(l==null||typeof l!="object")throw new Error(`Unexpected value for key ${i}: ${l}. Value should be serialized to string first.`);{const a=l.name||"blob",u=Id();u.set("Content-Disposition",`form-data; name="${i}"; filename="${a}"`),u.set("Content-Type",l.type||"application/octet-stream"),n.push({headers:u,body:l})}}t.multipartBody={parts:n}}const WT="proxyPolicy is not supported in browser environment";function _j(){throw new Error(WT)}function zj(){throw new Error(WT)}const Mj="agentPolicy";function kj(e){return{name:Mj,sendRequest:async(t,r)=>(t.agent||(t.agent=e),r(t))}}const Oj="tlsPolicy";function Dj(e){return{name:Oj,sendRequest:async(t,r)=>(t.tlsSettings||(t.tlsSettings=e),r(t))}}function Bj(e){return new Response(e).blob()}async function Lj(e){if(e instanceof Blob||e instanceof Uint8Array)return e;if(Ly(e))return Bj(e);throw new Error("Unsupported source type. Only Blob, Uint8Array, and ReadableStream are supported in browser.")}async function jj(e){const t=[];for(const r of e)t.push(await Lj(typeof r=="function"?r():r));return new Blob(t)}function qj(){return`----AzSDKFormBoundary${Oy()}`}function Fj(e){let t="";for(const[r,n]of e)t+=`${r}: ${n}\r
`;return t}function Hj(e){return e instanceof Uint8Array?e.byteLength:UL(e)?e.size===-1?void 0:e.size:void 0}function Uj(e){let t=0;for(const r of e){const n=Hj(r);if(n===void 0)return;t+=n}return t}async function $j(e,t,r){const n=[Bs(`--${r}`,"utf-8"),...t.flatMap(o=>[Bs(`\r
`,"utf-8"),Bs(Fj(o.headers),"utf-8"),Bs(`\r
`,"utf-8"),o.body,Bs(`\r
--${r}`,"utf-8")]),Bs(`--\r
\r
`,"utf-8")],i=Uj(n);i&&e.headers.set("Content-Length",i),e.body=await jj(n)}const VT="multipartPolicy",Wj=70,Vj=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?");function Kj(e){if(e.length>Wj)throw new Error(`Multipart boundary "${e}" exceeds maximum length of 70 characters`);if(Array.from(e).some(t=>!Vj.has(t)))throw new Error(`Multipart boundary "${e}" contains invalid characters`)}function Gj(){return{name:VT,async sendRequest(e,t){var r;if(!e.multipartBody)return t(e);if(e.body)throw new Error("multipartBody and regular body cannot be set at the same time");let n=e.multipartBody.boundary;const i=(r=e.headers.get("Content-Type"))!==null&&r!==void 0?r:"multipart/mixed",o=i.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!o)throw new Error(`Got multipart request body, but content-type header was not multipart: ${i}`);const[,l,a]=o;if(a&&n&&a!==n)throw new Error(`Multipart boundary was specified as ${a} in the header, but got ${n} in the request body`);return n??(n=a),n?Kj(n):n=qj(),e.headers.set("Content-Type",`${l}; boundary=${n}`),await $j(e,e.multipartBody.parts,n),e.multipartBody=void 0,t(e)}}}function KT(){return ML()}const Jj=OT({logLevelEnvVarName:"AZURE_LOG_LEVEL",namespace:"azure"});function jy(e){return Jj.createClientLogger(e)}const ra=jy("core-rest-pipeline");function Qj(e={}){return ij(Object.assign({logger:ra.info},e))}const Xj=FT;function Yj(e={}){return sj(e)}function Zj(){return"x-ms-useragent"}function eq(e){const t=[{name:"Firefox",regex:/Firefox\/([\d.]+)/},{name:"Safari",regex:/Version\/([\d.]+).*Safari/}];for(const r of t){const n=e.match(r.regex);if(n)return{brand:r.name,version:n[1]}}}function tq(e){const t=["Google Chrome","Microsoft Edge","Opera","Brave","Chromium"];for(const r of t){const n=e.find(i=>i.brand===r);if(n)return n}}async function rq(e){const t=globalThis.navigator;let r="unknown";if(t?.userAgentData){const n=await t.userAgentData.getHighEntropyValues(["architecture","platformVersion"]);r=`${n.architecture}-${n.platform}-${n.platformVersion}`;const i=tq(t.userAgentData.brands);i&&e.set(i.brand,i.version)}else if(t?.platform){r=t.platform;const n=eq(t.userAgent);n&&e.set(n.brand,n.version)}else typeof globalThis.EdgeRuntime=="string"&&e.set("EdgeRuntime",globalThis.EdgeRuntime);e.set("OS",r)}const GT="1.22.0";function nq(e){const t=[];for(const[r,n]of e){const i=n?`${r}/${n}`:r;t.push(i)}return t.join(" ")}function iq(){return Zj()}async function JT(e){const t=new Map;t.set("core-rest-pipeline",GT),await rq(t);const r=nq(t);return e?`${e} ${r}`:r}const UP=iq(),sq="userAgentPolicy";function oq(e={}){const t=JT(e.userAgentPrefix);return{name:sq,async sendRequest(r,n){return r.headers.has(UP)||r.headers.set(UP,await t),n(r)}}}class qy extends Error{constructor(t){super(t),this.name="AbortError"}}function aq(e,t){const{cleanupBeforeAbort:r,abortSignal:n,abortErrorMsg:i}=t??{};return new Promise((o,l)=>{function a(){l(new qy(i??"The operation was aborted."))}function u(){n?.removeEventListener("abort",d)}function d(){r?.(),u(),a()}if(n?.aborted)return a();try{e(m=>{u(),o(m)},m=>{u(),l(m)})}catch(m){l(m)}n?.addEventListener("abort",d)})}const cq="The delay was aborted.";function QT(e,t){let r;const{abortSignal:n,abortErrorMsg:i}={};return aq(o=>{r=setTimeout(o,e)},{cleanupBeforeAbort:()=>clearTimeout(r),abortSignal:n,abortErrorMsg:i??cq})}function jd(e){if(Dy(e))return e.message;{let t;try{typeof e=="object"&&e?t=JSON.stringify(e):t=String(e)}catch{t="[unable to stringify input]"}return`Unknown error ${t}`}}function lq(e){return Dy(e)}function Tm(){return Oy()}const xt=$T,XT=Symbol("rawContent");function YT(e){return typeof e[XT]=="function"}function uq(e){return YT(e)?e[XT]():e}const ZT=VT;function dq(){const e=Gj();return{name:ZT,sendRequest:async(t,r)=>{if(t.multipartBody)for(const n of t.multipartBody.parts)YT(n.body)&&(n.body=uq(n.body));return e.sendRequest(t,r)}}}const pq=oj;function mq(){return aj()}function hq(e={}){return bj(e)}function fq(){return Tj()}function na(e){return _j()}function gq(e,t){return zj()}const vq="setClientRequestIdPolicy";function yq(e="x-ms-client-request-id"){return{name:vq,async sendRequest(t,r){return t.headers.has(e)||t.headers.set(e,t.requestId),r(t)}}}function Sq(e){return kj(e)}function Cq(e){return Dj(e)}const Pd={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function xq(e={}){let t=new Rd(e.parentContext);return e.span&&(t=t.setValue(Pd.span,e.span)),e.namespace&&(t=t.setValue(Pd.namespace,e.namespace)),t}class Rd{constructor(t){this._contextMap=t instanceof Rd?new Map(t._contextMap):new Map}setValue(t,r){const n=new Rd(this);return n._contextMap.set(t,r),n}getValue(t){return this._contextMap.get(t)}deleteValue(t){const r=new Rd(this);return r._contextMap.delete(t),r}}const ug={instrumenterImplementation:void 0};function Pq(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{},addEvent:()=>{}}}function Rq(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(e,t)=>({span:Pq(),tracingContext:xq({parentContext:t.tracingContext})}),withContext(e,t,...r){return t(...r)}}}function sm(){return ug.instrumenterImplementation||(ug.instrumenterImplementation=Rq()),ug.instrumenterImplementation}function eI(e){const{namespace:t,packageName:r,packageVersion:n}=e;function i(d,m,h){var g;const v=sm().startSpan(d,Object.assign(Object.assign({},h),{packageName:r,packageVersion:n,tracingContext:(g=m?.tracingOptions)===null||g===void 0?void 0:g.tracingContext}));let x=v.tracingContext;const C=v.span;x.getValue(Pd.namespace)||(x=x.setValue(Pd.namespace,t)),C.setAttribute("az.namespace",x.getValue(Pd.namespace));const w=Object.assign({},m,{tracingOptions:Object.assign(Object.assign({},m?.tracingOptions),{tracingContext:x})});return{span:C,updatedOptions:w}}async function o(d,m,h,g){const{span:v,updatedOptions:x}=i(d,m,g);try{const C=await l(x.tracingOptions.tracingContext,()=>Promise.resolve(h(x,v)));return v.setStatus({status:"success"}),C}catch(C){throw v.setStatus({status:"error",error:C}),C}finally{v.end()}}function l(d,m,...h){return sm().withContext(d,m,...h)}function a(d){return sm().parseTraceparentHeader(d)}function u(d){return sm().createRequestHeaders(d)}return{startSpan:i,withSpan:o,withContext:l,parseTraceparentHeader:a,createRequestHeaders:u}}const Ad=Qo;function Fy(e){return LL(e)}const wq="tracingPolicy";function bq(e={}){const t=JT(e.userAgentPrefix),r=new By({additionalAllowedQueryParameters:e.additionalAllowedQueryParameters}),n=Nq();return{name:wq,async sendRequest(i,o){var l;if(!n)return o(i);const a=await t,u={"http.url":r.sanitizeUrl(i.url),"http.method":i.method,"http.user_agent":a,requestId:i.requestId};a&&(u["http.user_agent"]=a);const{span:d,tracingContext:m}=(l=Eq(n,i,u))!==null&&l!==void 0?l:{};if(!d||!m)return o(i);try{const h=await n.withContext(m,o,i);return Iq(d,h),h}catch(h){throw Tq(d,h),h}}}}function Nq(){try{return eI({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:GT})}catch(e){ra.warning(`Error when creating the TracingClient: ${jd(e)}`);return}}function Eq(e,t,r){try{const{span:n,updatedOptions:i}=e.startSpan(`HTTP ${t.method}`,{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:r});if(!n.isRecording()){n.end();return}const o=e.createRequestHeaders(i.tracingOptions.tracingContext);for(const[l,a]of Object.entries(o))t.headers.set(l,a);return{span:n,tracingContext:i.tracingOptions.tracingContext}}catch(n){ra.warning(`Skipping creating a tracing span due to an error: ${jd(n)}`);return}}function Tq(e,t){try{e.setStatus({status:"error",error:lq(t)?t:void 0}),Fy(t)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(r){ra.warning(`Skipping tracing span processing due to an error: ${jd(r)}`)}}function Iq(e,t){try{e.setAttribute("http.status_code",t.status);const r=t.headers.get("x-ms-request-id");r&&e.setAttribute("serviceRequestId",r),t.status>=400&&e.setStatus({status:"error"}),e.end()}catch(r){ra.warning(`Skipping tracing span processing due to an error: ${jd(r)}`)}}function tI(e){if(e instanceof AbortSignal)return{abortSignal:e};if(e.aborted)return{abortSignal:AbortSignal.abort(e.reason)};const t=new AbortController;let r=!0;function n(){r&&(e.removeEventListener("abort",i),r=!1)}function i(){t.abort(e.reason),n()}return e.addEventListener("abort",i),{abortSignal:t.signal,cleanup:n}}const Aq="wrapAbortSignalLikePolicy";function _q(){return{name:Aq,sendRequest:async(e,t)=>{if(!e.abortSignal)return t(e);const{abortSignal:r,cleanup:n}=tI(e.abortSignal);e.abortSignal=r;try{return await t(e)}finally{n?.()}}}}function zq(e){var t;const r=KT();return xt&&(e.agent&&r.addPolicy(Sq(e.agent)),e.tlsOptions&&r.addPolicy(Cq(e.tlsOptions)),r.addPolicy(gq(e.proxyOptions)),r.addPolicy(mq())),r.addPolicy(_q()),r.addPolicy(fq(),{beforePolicies:[ZT]}),r.addPolicy(oq(e.userAgentOptions)),r.addPolicy(yq((t=e.telemetryOptions)===null||t===void 0?void 0:t.clientRequestIdHeaderName)),r.addPolicy(dq(),{afterPhase:"Deserialize"}),r.addPolicy(hq(e.retryOptions),{phase:"Retry"}),r.addPolicy(bq(Object.assign(Object.assign({},e.userAgentOptions),e.loggingOptions)),{afterPhase:"Retry"}),xt&&r.addPolicy(Yj(e.redirectOptions),{afterPhase:"Retry"}),r.addPolicy(Qj(e.loggingOptions),{afterPhase:"Sign"}),r}function rI(){const e=tj();return{async sendRequest(t){const{abortSignal:r,cleanup:n}=t.abortSignal?tI(t.abortSignal):{};try{return t.abortSignal=r,await e.sendRequest(t)}finally{n?.()}}}}function Um(e){return Id(e)}function nI(e){return zL(e)}const Mq={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function kq(e,t,r){async function n(){if(Date.now()<r)try{return await e()}catch{return null}else{const o=await e();if(o===null)throw new Error("Failed to refresh access token.");return o}}let i=await n();for(;i===null;)await QT(t),i=await n();return i}function Oq(e,t){let r=null,n=null,i;const o=Object.assign(Object.assign({},Mq),t),l={get isRefreshing(){return r!==null},get shouldRefresh(){var u;return l.isRefreshing?!1:n?.refreshAfterTimestamp&&n.refreshAfterTimestamp<Date.now()?!0:((u=n?.expiresOnTimestamp)!==null&&u!==void 0?u:0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return n===null||n.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function a(u,d){var m;return l.isRefreshing||(r=kq(()=>e.getToken(u,d),o.retryIntervalInMs,(m=n?.expiresOnTimestamp)!==null&&m!==void 0?m:Date.now()).then(g=>(r=null,n=g,i=d.tenantId,n)).catch(g=>{throw r=null,n=null,i=void 0,g})),r}return async(u,d)=>{const m=!!d.claims,h=i!==d.tenantId;return m&&(n=null),h||m||l.mustRefresh?a(u,d):(l.shouldRefresh&&a(u,d),n)}}const Dq="bearerTokenAuthenticationPolicy";async function om(e,t){try{return[await t(e),void 0]}catch(r){if(Fy(r)&&r.response)return[r.response,r];throw r}}async function Bq(e){const{scopes:t,getAccessToken:r,request:n}=e,i={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions,enableCae:!0},o=await r(t,i);o&&e.request.headers.set("Authorization",`Bearer ${o.token}`)}function $P(e){return e.status===401&&e.headers.has("WWW-Authenticate")}async function WP(e,t){var r;const{scopes:n}=e,i=await e.getAccessToken(n,{enableCae:!0,claims:t});return i?(e.request.headers.set("Authorization",`${(r=i.tokenType)!==null&&r!==void 0?r:"Bearer"} ${i.token}`),!0):!1}function Hy(e){var t,r,n;const{credential:i,scopes:o,challengeCallbacks:l}=e,a=e.logger||ra,u={authorizeRequest:(r=(t=l?.authorizeRequest)===null||t===void 0?void 0:t.bind(l))!==null&&r!==void 0?r:Bq,authorizeRequestOnChallenge:(n=l?.authorizeRequestOnChallenge)===null||n===void 0?void 0:n.bind(l)},d=i?Oq(i):()=>Promise.resolve(null);return{name:Dq,async sendRequest(m,h){if(!m.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await u.authorizeRequest({scopes:Array.isArray(o)?o:[o],request:m,getAccessToken:d,logger:a});let g,v,x;if([g,v]=await om(m,h),$P(g)){let C=VP(g.headers.get("WWW-Authenticate"));if(C){let w;try{w=atob(C)}catch{return a.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${C}`),g}x=await WP({scopes:Array.isArray(o)?o:[o],response:g,request:m,getAccessToken:d,logger:a},w),x&&([g,v]=await om(m,h))}else if(u.authorizeRequestOnChallenge&&(x=await u.authorizeRequestOnChallenge({scopes:Array.isArray(o)?o:[o],request:m,response:g,getAccessToken:d,logger:a}),x&&([g,v]=await om(m,h)),$P(g)&&(C=VP(g.headers.get("WWW-Authenticate")),C))){let w;try{w=atob(C)}catch{return a.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${C}`),g}x=await WP({scopes:Array.isArray(o)?o:[o],response:g,request:m,getAccessToken:d,logger:a},w),x&&([g,v]=await om(m,h))}}if(v)throw v;return g}}}function Lq(e){const t=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,r=/(\w+)="([^"]*)"/g,n=[];let i;for(;(i=t.exec(e))!==null;){const o=i[1],l=i[2],a={};let u;for(;(u=r.exec(l))!==null;)a[u[1]]=u[2];n.push({scheme:o,params:a})}return n}function VP(e){var t;return e?(t=Lq(e).find(n=>n.scheme==="Bearer"&&n.params.claims&&n.params.error==="insufficient_claims"))===null||t===void 0?void 0:t.params.claims:void 0}function Dr(e){const t=e;return t&&typeof t.getToken=="function"&&(t.signRequest===void 0||t.getToken.length>0)}const iI="DisableKeepAlivePolicy";function jq(){return{name:iI,async sendRequest(e,t){return e.disableKeepAlive=!0,t(e)}}}function qq(e){return e.getOrderedPolicies().some(t=>t.name===iI)}function sI(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function oI(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}const Jt="$",_d="_";function Fq(e,t){return t!=="Composite"&&t!=="Dictionary"&&(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||t?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||e===void 0||e===null)}const Hq=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Uq(e){return Hq.test(e)}const $q=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;function Wq(e){return $q.test(e)}function Vq(e){const t=Object.assign(Object.assign({},e.headers),e.body);return e.hasNullableType&&Object.getOwnPropertyNames(t).length===0?e.shouldWrapBody?{body:null}:null:e.shouldWrapBody?Object.assign(Object.assign({},e.headers),{body:e.body}):t}function KP(e,t){var r,n;const i=e.parsedHeaders;if(e.request.method==="HEAD")return Object.assign(Object.assign({},i),{body:e.parsedBody});const o=t&&t.bodyMapper,l=!!o?.nullable,a=o?.type.name;if(a==="Stream")return Object.assign(Object.assign({},i),{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody});const u=a==="Composite"&&o.type.modelProperties||{},d=Object.keys(u).some(m=>u[m].serializedName==="");if(a==="Sequence"||d){const m=(r=e.parsedBody)!==null&&r!==void 0?r:[];for(const h of Object.keys(u))u[h].serializedName&&(m[h]=(n=e.parsedBody)===null||n===void 0?void 0:n[h]);if(i)for(const h of Object.keys(i))m[h]=i[h];return l&&!e.parsedBody&&!i&&Object.getOwnPropertyNames(u).length===0?null:m}return Vq({body:e.parsedBody,headers:i,hasNullableType:l,shouldWrapBody:Fq(e.parsedBody,a)})}class Kq{constructor(t={},r=!1){this.modelMappers=t,this.isXML=r}validateConstraints(t,r,n){const i=(o,l)=>{throw new Error(`"${n}" with value "${r}" should satisfy the constraint "${o}": ${l}.`)};if(t.constraints&&r!==void 0&&r!==null){const{ExclusiveMaximum:o,ExclusiveMinimum:l,InclusiveMaximum:a,InclusiveMinimum:u,MaxItems:d,MaxLength:m,MinItems:h,MinLength:g,MultipleOf:v,Pattern:x,UniqueItems:C}=t.constraints;if(o!==void 0&&r>=o&&i("ExclusiveMaximum",o),l!==void 0&&r<=l&&i("ExclusiveMinimum",l),a!==void 0&&r>a&&i("InclusiveMaximum",a),u!==void 0&&r<u&&i("InclusiveMinimum",u),d!==void 0&&r.length>d&&i("MaxItems",d),m!==void 0&&r.length>m&&i("MaxLength",m),h!==void 0&&r.length<h&&i("MinItems",h),g!==void 0&&r.length<g&&i("MinLength",g),v!==void 0&&r%v!==0&&i("MultipleOf",v),x){const w=typeof x=="string"?new RegExp(x):x;(typeof r!="string"||r.match(w)===null)&&i("Pattern",x)}C&&r.some((w,R,b)=>b.indexOf(w)!==R)&&i("UniqueItems",C)}}serialize(t,r,n,i={xml:{}}){var o,l,a;const u={xml:{rootName:(o=i.xml.rootName)!==null&&o!==void 0?o:"",includeRoot:(l=i.xml.includeRoot)!==null&&l!==void 0?l:!1,xmlCharKey:(a=i.xml.xmlCharKey)!==null&&a!==void 0?a:_d}};let d={};const m=t.type.name;n||(n=t.serializedName),m.match(/^Sequence$/i)!==null&&(d=[]),t.isConstant&&(r=t.defaultValue);const{required:h,nullable:g}=t;if(h&&g&&r===void 0)throw new Error(`${n} cannot be undefined.`);if(h&&!g&&r==null)throw new Error(`${n} cannot be null or undefined.`);if(!h&&g===!1&&r===null)throw new Error(`${n} cannot be null.`);return r==null||m.match(/^any$/i)!==null?d=r:m.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i)!==null?d=Zq(m,n,r):m.match(/^Enum$/i)!==null?d=e2(n,t.type.allowedValues,r):m.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)!==null?d=n2(m,r,n):m.match(/^ByteArray$/i)!==null?d=t2(n,r):m.match(/^Base64Url$/i)!==null?d=r2(n,r):m.match(/^Sequence$/i)!==null?d=i2(this,t,r,n,!!this.isXML,u):m.match(/^Dictionary$/i)!==null?d=s2(this,t,r,n,!!this.isXML,u):m.match(/^Composite$/i)!==null&&(d=a2(this,t,r,n,!!this.isXML,u)),d}deserialize(t,r,n,i={xml:{}}){var o,l,a,u;const d={xml:{rootName:(o=i.xml.rootName)!==null&&o!==void 0?o:"",includeRoot:(l=i.xml.includeRoot)!==null&&l!==void 0?l:!1,xmlCharKey:(a=i.xml.xmlCharKey)!==null&&a!==void 0?a:_d},ignoreUnknownProperties:(u=i.ignoreUnknownProperties)!==null&&u!==void 0?u:!1};if(r==null)return this.isXML&&t.type.name==="Sequence"&&!t.xmlIsWrapped&&(r=[]),t.defaultValue!==void 0&&(r=t.defaultValue),r;let m;const h=t.type.name;if(n||(n=t.serializedName),h.match(/^Composite$/i)!==null)m=l2(this,t,r,n,d);else{if(this.isXML){const g=d.xml.xmlCharKey;r[Jt]!==void 0&&r[g]!==void 0&&(r=r[g])}h.match(/^Number$/i)!==null?(m=parseFloat(r),isNaN(m)&&(m=r)):h.match(/^Boolean$/i)!==null?r==="true"?m=!0:r==="false"?m=!1:m=r:h.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)!==null?m=r:h.match(/^(Date|DateTime|DateTimeRfc1123)$/i)!==null?m=new Date(r):h.match(/^UnixTime$/i)!==null?m=Yq(r):h.match(/^ByteArray$/i)!==null?m=oI(r):h.match(/^Base64Url$/i)!==null?m=Qq(r):h.match(/^Sequence$/i)!==null?m=d2(this,t,r,n,d):h.match(/^Dictionary$/i)!==null&&(m=u2(this,t,r,n,d))}return t.isConstant&&(m=t.defaultValue),m}}function ia(e={},t=!1){return new Kq(e,t)}function Gq(e,t){let r=e.length;for(;r-1>=0&&e[r-1]===t;)--r;return e.substr(0,r)}function Jq(e){if(!e)return;if(!(e instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");const t=sI(e);return Gq(t,"=").replace(/\+/g,"-").replace(/\//g,"_")}function Qq(e){if(e){if(e&&typeof e.valueOf()!="string")throw new Error("Please provide an input of type string for converting to Uint8Array");return e=e.replace(/-/g,"+").replace(/_/g,"/"),oI(e)}}function ey(e){const t=[];let r="";if(e){const n=e.split(".");for(const i of n)i.charAt(i.length-1)==="\\"?r+=i.substr(0,i.length-1)+".":(r+=i,t.push(r),r="")}return t}function Xq(e){if(e)return typeof e.valueOf()=="string"&&(e=new Date(e)),Math.floor(e.getTime()/1e3)}function Yq(e){if(e)return new Date(e*1e3)}function Zq(e,t,r){if(r!=null){if(e.match(/^Number$/i)!==null){if(typeof r!="number")throw new Error(`${t} with value ${r} must be of type number.`)}else if(e.match(/^String$/i)!==null){if(typeof r.valueOf()!="string")throw new Error(`${t} with value "${r}" must be of type string.`)}else if(e.match(/^Uuid$/i)!==null){if(!(typeof r.valueOf()=="string"&&Wq(r)))throw new Error(`${t} with value "${r}" must be of type string and a valid uuid.`)}else if(e.match(/^Boolean$/i)!==null){if(typeof r!="boolean")throw new Error(`${t} with value ${r} must be of type boolean.`)}else if(e.match(/^Stream$/i)!==null){const n=typeof r;if(n!=="string"&&typeof r.pipe!="function"&&typeof r.tee!="function"&&!(r instanceof ArrayBuffer)&&!ArrayBuffer.isView(r)&&!((typeof Blob=="function"||typeof Blob=="object")&&r instanceof Blob)&&n!=="function")throw new Error(`${t} must be a string, Blob, ArrayBuffer, ArrayBufferView, ReadableStream, or () => ReadableStream.`)}}return r}function e2(e,t,r){if(!t)throw new Error(`Please provide a set of allowedValues to validate ${e} as an Enum Type.`);if(!t.some(i=>typeof i.valueOf()=="string"?i.toLowerCase()===r.toLowerCase():i===r))throw new Error(`${r} is not a valid value for ${e}. The valid values are: ${JSON.stringify(t)}.`);return r}function t2(e,t){if(t!=null){if(!(t instanceof Uint8Array))throw new Error(`${e} must be of type Uint8Array.`);t=sI(t)}return t}function r2(e,t){if(t!=null){if(!(t instanceof Uint8Array))throw new Error(`${e} must be of type Uint8Array.`);t=Jq(t)}return t}function n2(e,t,r){if(t!=null){if(e.match(/^Date$/i)!==null){if(!(t instanceof Date||typeof t.valueOf()=="string"&&!isNaN(Date.parse(t))))throw new Error(`${r} must be an instanceof Date or a string in ISO8601 format.`);t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(e.match(/^DateTime$/i)!==null){if(!(t instanceof Date||typeof t.valueOf()=="string"&&!isNaN(Date.parse(t))))throw new Error(`${r} must be an instanceof Date or a string in ISO8601 format.`);t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(e.match(/^DateTimeRfc1123$/i)!==null){if(!(t instanceof Date||typeof t.valueOf()=="string"&&!isNaN(Date.parse(t))))throw new Error(`${r} must be an instanceof Date or a string in RFC-1123 format.`);t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(e.match(/^UnixTime$/i)!==null){if(!(t instanceof Date||typeof t.valueOf()=="string"&&!isNaN(Date.parse(t))))throw new Error(`${r} must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.`);t=Xq(t)}else if(e.match(/^TimeSpan$/i)!==null&&!Uq(t))throw new Error(`${r} must be a string in ISO 8601 format. Instead was "${t}".`)}return t}function i2(e,t,r,n,i,o){var l;if(!Array.isArray(r))throw new Error(`${n} must be of type Array.`);let a=t.type.element;if(!a||typeof a!="object")throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${n}.`);a.type.name==="Composite"&&a.type.className&&(a=(l=e.modelMappers[a.type.className])!==null&&l!==void 0?l:a);const u=[];for(let d=0;d<r.length;d++){const m=e.serialize(a,r[d],n,o);if(i&&a.xmlNamespace){const h=a.xmlNamespacePrefix?`xmlns:${a.xmlNamespacePrefix}`:"xmlns";a.type.name==="Composite"?(u[d]=Object.assign({},m),u[d][Jt]={[h]:a.xmlNamespace}):(u[d]={},u[d][o.xml.xmlCharKey]=m,u[d][Jt]={[h]:a.xmlNamespace})}else u[d]=m}return u}function s2(e,t,r,n,i,o){if(typeof r!="object")throw new Error(`${n} must be of type object.`);const l=t.type.value;if(!l||typeof l!="object")throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${n}.`);const a={};for(const u of Object.keys(r)){const d=e.serialize(l,r[u],n,o);a[u]=lI(l,d,i,o)}if(i&&t.xmlNamespace){const u=t.xmlNamespacePrefix?`xmlns:${t.xmlNamespacePrefix}`:"xmlns",d=a;return d[Jt]={[u]:t.xmlNamespace},d}return a}function o2(e,t,r){const n=t.type.additionalProperties;if(!n&&t.type.className){const i=aI(e,t,r);return i?.type.additionalProperties}return n}function aI(e,t,r){const n=t.type.className;if(!n)throw new Error(`Class name for model "${r}" is not provided in the mapper "${JSON.stringify(t,void 0,2)}".`);return e.modelMappers[n]}function cI(e,t,r){let n=t.type.modelProperties;if(!n){const i=aI(e,t,r);if(!i)throw new Error(`mapper() cannot be null or undefined for model "${t.type.className}".`);if(n=i?.type.modelProperties,!n)throw new Error(`modelProperties cannot be null or undefined in the mapper "${JSON.stringify(i)}" of type "${t.type.className}" for object "${r}".`)}return n}function a2(e,t,r,n,i,o){if(Im(e,t)&&(t=uI(e,t,r,"clientName")),r!=null){const l={},a=cI(e,t,n);for(const d of Object.keys(a)){const m=a[d];if(m.readOnly)continue;let h,g=l;if(e.isXML)m.xmlIsWrapped?h=m.xmlName:h=m.xmlElementName||m.xmlName;else{const v=ey(m.serializedName);h=v.pop();for(const x of v){const C=g[x];C==null&&(r[d]!==void 0&&r[d]!==null||m.defaultValue!==void 0)&&(g[x]={}),g=g[x]}}if(g!=null){if(i&&t.xmlNamespace){const R=t.xmlNamespacePrefix?`xmlns:${t.xmlNamespacePrefix}`:"xmlns";g[Jt]=Object.assign(Object.assign({},g[Jt]),{[R]:t.xmlNamespace})}const v=m.serializedName!==""?n+"."+m.serializedName:n;let x=r[d];const C=Im(e,t);C&&C.clientName===d&&x==null&&(x=t.serializedName);const w=e.serialize(m,x,v,o);if(w!==void 0&&h!==void 0&&h!==null){const R=lI(m,w,i,o);i&&m.xmlIsAttribute?(g[Jt]=g[Jt]||{},g[Jt][h]=w):i&&m.xmlIsWrapped?g[h]={[m.xmlElementName]:R}:g[h]=R}}}const u=o2(e,t,n);if(u){const d=Object.keys(a);for(const m in r)d.every(g=>g!==m)&&(l[m]=e.serialize(u,r[m],n+'["'+m+'"]',o))}return l}return r}function lI(e,t,r,n){if(!r||!e.xmlNamespace)return t;const o={[e.xmlNamespacePrefix?`xmlns:${e.xmlNamespacePrefix}`:"xmlns"]:e.xmlNamespace};if(["Composite"].includes(e.type.name)){if(t[Jt])return t;{const a=Object.assign({},t);return a[Jt]=o,a}}const l={};return l[n.xml.xmlCharKey]=t,l[Jt]=o,l}function c2(e,t){return[Jt,t.xml.xmlCharKey].includes(e)}function l2(e,t,r,n,i){var o,l;const a=(o=i.xml.xmlCharKey)!==null&&o!==void 0?o:_d;Im(e,t)&&(t=uI(e,t,r,"serializedName"));const u=cI(e,t,n);let d={};const m=[];for(const g of Object.keys(u)){const v=u[g],x=ey(u[g].serializedName);m.push(x[0]);const{serializedName:C,xmlName:w,xmlElementName:R}=v;let b=n;C!==""&&C!==void 0&&(b=n+"."+C);const N=v.headerCollectionPrefix;if(N){const T={};for(const A of Object.keys(r))A.startsWith(N)&&(T[A.substring(N.length)]=e.deserialize(v.type.value,r[A],b,i)),m.push(A);d[g]=T}else if(e.isXML)if(v.xmlIsAttribute&&r[Jt])d[g]=e.deserialize(v,r[Jt][w],b,i);else if(v.xmlIsMsText)r[a]!==void 0?d[g]=r[a]:typeof r=="string"&&(d[g]=r);else{const T=R||w||C;if(v.xmlIsWrapped){const A=r[w],k=(l=A?.[R])!==null&&l!==void 0?l:[];d[g]=e.deserialize(v,k,b,i),m.push(w)}else{const A=r[T];d[g]=e.deserialize(v,A,b,i),m.push(T)}}else{let T,A=r,k=0;for(const V of x){if(!A)break;k++,A=A[V]}A===null&&k<x.length&&(A=void 0),T=A;const M=t.type.polymorphicDiscriminator;M&&g===M.clientName&&T==null&&(T=t.serializedName);let z;if(Array.isArray(r[g])&&u[g].serializedName===""){T=r[g];const V=e.deserialize(v,T,b,i);for(const[K,ue]of Object.entries(d))Object.prototype.hasOwnProperty.call(V,K)||(V[K]=ue);d=V}else(T!==void 0||v.defaultValue!==void 0)&&(z=e.deserialize(v,T,b,i),d[g]=z)}}const h=t.type.additionalProperties;if(h){const g=v=>{for(const x in u)if(ey(u[x].serializedName)[0]===v)return!1;return!0};for(const v in r)g(v)&&(d[v]=e.deserialize(h,r[v],n+'["'+v+'"]',i))}else if(r&&!i.ignoreUnknownProperties)for(const g of Object.keys(r))d[g]===void 0&&!m.includes(g)&&!c2(g,i)&&(d[g]=r[g]);return d}function u2(e,t,r,n,i){const o=t.type.value;if(!o||typeof o!="object")throw new Error(`"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in ${n}`);if(r){const l={};for(const a of Object.keys(r))l[a]=e.deserialize(o,r[a],n,i);return l}return r}function d2(e,t,r,n,i){var o;let l=t.type.element;if(!l||typeof l!="object")throw new Error(`element" metadata for an Array must be defined in the mapper and it must of type "object" in ${n}`);if(r){Array.isArray(r)||(r=[r]),l.type.name==="Composite"&&l.type.className&&(l=(o=e.modelMappers[l.type.className])!==null&&o!==void 0?o:l);const a=[];for(let u=0;u<r.length;u++)a[u]=e.deserialize(l,r[u],`${n}[${u}]`,i);return a}return r}function p2(e,t,r){const n=[r];for(;n.length;){const i=n.shift(),o=t===i?t:i+"."+t;if(Object.prototype.hasOwnProperty.call(e,o))return e[o];for(const[l,a]of Object.entries(e))l.startsWith(i+".")&&a.type.uberParent===i&&a.type.className&&n.push(a.type.className)}}function uI(e,t,r,n){var i;const o=Im(e,t);if(o){let l=o[n];if(l){n==="serializedName"&&(l=l.replace(/\\/gi,""));const a=r[l],u=(i=t.type.uberParent)!==null&&i!==void 0?i:t.type.className;if(typeof a=="string"&&u){const d=p2(e.modelMappers.discriminators,a,u);d&&(t=d)}}}return t}function Im(e,t){return t.type.polymorphicDiscriminator||GP(e,t.type.uberParent)||GP(e,t.type.className)}function GP(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}const $o={Base64Url:"Base64Url",Boolean:"Boolean",ByteArray:"ByteArray",Composite:"Composite",Date:"Date",DateTime:"DateTime",DateTimeRfc1123:"DateTimeRfc1123",Dictionary:"Dictionary",Enum:"Enum",Number:"Number",Object:"Object",Sequence:"Sequence",String:"String",Stream:"Stream",TimeSpan:"TimeSpan",UnixTime:"UnixTime"},JP={operationRequestMap:new WeakMap};function Xo(e,t,r){let n=t.parameterPath;const i=t.mapper;let o;if(typeof n=="string"&&(n=[n]),Array.isArray(n)){if(n.length>0)if(i.isConstant)o=i.defaultValue;else{let l=QP(e,n);!l.propertyFound&&r&&(l=QP(r,n));let a=!1;l.propertyFound||(a=i.required||n[0]==="options"&&n.length===2),o=a?i.defaultValue:l.propertyValue}}else{i.required&&(o={});for(const l in n){const a=i.type.modelProperties[l],u=n[l],d=Xo(e,{parameterPath:u,mapper:a},r);d!==void 0&&(o||(o={}),o[l]=d)}}return o}function QP(e,t){const r={propertyFound:!1};let n=0;for(;n<t.length;++n){const i=t[n];if(e&&i in e)e=e[i];else break}return n===t.length&&(r.propertyValue=e,r.propertyFound=!0),r}const dI=Symbol.for("@azure/core-client original request");function m2(e){return dI in e}function sa(e){if(m2(e))return sa(e[dI]);let t=JP.operationRequestMap.get(e);return t||(t={},JP.operationRequestMap.set(e,t)),t}const h2=["application/json","text/json"],f2=["application/xml","application/atom+xml"],g2="deserializationPolicy";function v2(e={}){var t,r,n,i,o,l,a;const u=(r=(t=e.expectedContentTypes)===null||t===void 0?void 0:t.json)!==null&&r!==void 0?r:h2,d=(i=(n=e.expectedContentTypes)===null||n===void 0?void 0:n.xml)!==null&&i!==void 0?i:f2,m=e.parseXML,h=e.serializerOptions,g={xml:{rootName:(o=h?.xml.rootName)!==null&&o!==void 0?o:"",includeRoot:(l=h?.xml.includeRoot)!==null&&l!==void 0?l:!1,xmlCharKey:(a=h?.xml.xmlCharKey)!==null&&a!==void 0?a:_d}};return{name:g2,async sendRequest(v,x){const C=await x(v);return C2(u,d,C,g,m)}}}function y2(e){let t;const r=e.request,n=sa(r),i=n?.operationSpec;return i&&(n?.operationResponseGetter?t=n?.operationResponseGetter(i,e):t=i.responses[e.status]),t}function S2(e){const t=e.request,r=sa(t),n=r?.shouldDeserialize;let i;return n===void 0?i=!0:typeof n=="boolean"?i=n:i=n(e),i}async function C2(e,t,r,n,i){const o=await R2(e,t,r,n,i);if(!S2(o))return o;const l=sa(o.request),a=l?.operationSpec;if(!a||!a.responses)return o;const u=y2(o),{error:d,shouldReturnResponse:m}=P2(o,a,u,n);if(d)throw d;if(m)return o;if(u){if(u.bodyMapper){let h=o.parsedBody;a.isXML&&u.bodyMapper.type.name===$o.Sequence&&(h=typeof h=="object"?h[u.bodyMapper.xmlElementName]:[]);try{o.parsedBody=a.serializer.deserialize(u.bodyMapper,h,"operationRes.parsedBody",n)}catch(g){throw new Ad(`Error ${g} occurred in deserializing the responseBody - ${o.bodyAsText}`,{statusCode:o.status,request:o.request,response:o})}}else a.httpMethod==="HEAD"&&(o.parsedBody=r.status>=200&&r.status<300);u.headersMapper&&(o.parsedHeaders=a.serializer.deserialize(u.headersMapper,o.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return o}function x2(e){const t=Object.keys(e.responses);return t.length===0||t.length===1&&t[0]==="default"}function P2(e,t,r,n){var i,o,l,a,u;const d=200<=e.status&&e.status<300;if(x2(t)?d:!!r)if(r){if(!r.isError)return{error:null,shouldReturnResponse:!1}}else return{error:null,shouldReturnResponse:!1};const h=r??t.responses.default,g=!((i=e.request.streamResponseStatusCodes)===null||i===void 0)&&i.has(e.status)?`Unexpected status code: ${e.status}`:e.bodyAsText,v=new Ad(g,{statusCode:e.status,request:e.request,response:e});if(!h&&!(!((l=(o=e.parsedBody)===null||o===void 0?void 0:o.error)===null||l===void 0)&&l.code&&(!((u=(a=e.parsedBody)===null||a===void 0?void 0:a.error)===null||u===void 0)&&u.message)))throw v;const x=h?.bodyMapper,C=h?.headersMapper;try{if(e.parsedBody){const w=e.parsedBody;let R;if(x){let N=w;if(t.isXML&&x.type.name===$o.Sequence){N=[];const T=x.xmlElementName;typeof w=="object"&&T&&(N=w[T])}R=t.serializer.deserialize(x,N,"error.response.parsedBody",n)}const b=w.error||R||w;v.code=b.code,b.message&&(v.message=b.message),x&&(v.response.parsedBody=R)}e.headers&&C&&(v.response.parsedHeaders=t.serializer.deserialize(C,e.headers.toJSON(),"operationRes.parsedHeaders"))}catch(w){v.message=`Error "${w.message}" occurred in deserializing the responseBody - "${e.bodyAsText}" for the default response.`}return{error:v,shouldReturnResponse:!1}}async function R2(e,t,r,n,i){var o;if(!(!((o=r.request.streamResponseStatusCodes)===null||o===void 0)&&o.has(r.status))&&r.bodyAsText){const l=r.bodyAsText,a=r.headers.get("Content-Type")||"",u=a?a.split(";").map(d=>d.toLowerCase()):[];try{if(u.length===0||u.some(d=>e.indexOf(d)!==-1))return r.parsedBody=JSON.parse(l),r;if(u.some(d=>t.indexOf(d)!==-1)){if(!i)throw new Error("Parsing XML not supported.");const d=await i(l,n.xml);return r.parsedBody=d,r}}catch(d){const m=`Error "${d}" occurred while parsing the response body - ${r.bodyAsText}.`,h=d.code||Ad.PARSE_ERROR;throw new Ad(m,{code:h,statusCode:r.status,request:r.request,response:r})}}return r}function w2(e){const t=new Set;for(const r in e.responses){const n=e.responses[r];n.bodyMapper&&n.bodyMapper.type.name===$o.Stream&&t.add(Number(r))}return t}function Mi(e){const{parameterPath:t,mapper:r}=e;let n;return typeof t=="string"?n=t:Array.isArray(t)?n=t.join("."):n=r.serializedName,n}const b2="serializationPolicy";function pI(e={}){const t=e.stringifyXML;return{name:b2,async sendRequest(r,n){const i=sa(r),o=i?.operationSpec,l=i?.operationArguments;return o&&l&&(N2(r,l,o),E2(r,l,o,t)),n(r)}}}function N2(e,t,r){var n,i;if(r.headerParameters)for(const l of r.headerParameters){let a=Xo(t,l);if(a!=null||l.mapper.required){a=r.serializer.serialize(l.mapper,a,Mi(l));const u=l.mapper.headerCollectionPrefix;if(u)for(const d of Object.keys(a))e.headers.set(u+d,a[d]);else e.headers.set(l.mapper.serializedName||Mi(l),a)}}const o=(i=(n=t.options)===null||n===void 0?void 0:n.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(o)for(const l of Object.keys(o))e.headers.set(l,o[l])}function E2(e,t,r,n=function(){throw new Error("XML serialization unsupported!")}){var i,o,l,a,u;const d=(i=t.options)===null||i===void 0?void 0:i.serializerOptions,m={xml:{rootName:(o=d?.xml.rootName)!==null&&o!==void 0?o:"",includeRoot:(l=d?.xml.includeRoot)!==null&&l!==void 0?l:!1,xmlCharKey:(a=d?.xml.xmlCharKey)!==null&&a!==void 0?a:_d}},h=m.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){e.body=Xo(t,r.requestBody);const g=r.requestBody.mapper,{required:v,serializedName:x,xmlName:C,xmlElementName:w,xmlNamespace:R,xmlNamespacePrefix:b,nullable:N}=g,T=g.type.name;try{if(e.body!==void 0&&e.body!==null||N&&e.body===null||v){const A=Mi(r.requestBody);e.body=r.serializer.serialize(g,e.body,A,m);const k=T===$o.Stream;if(r.isXML){const M=b?`xmlns:${b}`:"xmlns",z=T2(R,M,T,e.body,m);T===$o.Sequence?e.body=n(I2(z,w||C||x,M,R),{rootName:C||x,xmlCharKey:h}):k||(e.body=n(z,{rootName:C||x,xmlCharKey:h}))}else{if(T===$o.String&&(!((u=r.contentType)===null||u===void 0)&&u.match("text/plain")||r.mediaType==="text"))return;k||(e.body=JSON.stringify(e.body))}}}catch(A){throw new Error(`Error "${A.message}" occurred in serializing the payload - ${JSON.stringify(x,void 0,"  ")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0){e.formData={};for(const g of r.formDataParameters){const v=Xo(t,g);if(v!=null){const x=g.mapper.serializedName||Mi(g);e.formData[x]=r.serializer.serialize(g.mapper,v,Mi(g),m)}}}}function T2(e,t,r,n,i){if(e&&!["Composite","Sequence","Dictionary"].includes(r)){const o={};return o[i.xml.xmlCharKey]=n,o[Jt]={[t]:e},o}return n}function I2(e,t,r,n){if(Array.isArray(e)||(e=[e]),!r||!n)return{[t]:e};const i={[t]:e};return i[Jt]={[r]:n},i}function mI(e={}){const t=zq(e??{});return e.credentialOptions&&t.addPolicy(Hy({credential:e.credentialOptions.credential,scopes:e.credentialOptions.credentialScopes})),t.addPolicy(pI(e.serializationOptions),{phase:"Serialize"}),t.addPolicy(v2(e.deserializationOptions),{phase:"Deserialize"}),t}let dg;function A2(){return dg||(dg=rI()),dg}const _2={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function z2(e,t,r,n){const i=M2(t,r,n);let o=!1,l=XP(e,i);if(t.path){let d=XP(t.path,i);t.path==="/{nextLink}"&&d.startsWith("/")&&(d=d.substring(1)),k2(d)?(l=d,o=!0):l=O2(l,d)}const{queryParams:a,sequenceParams:u}=D2(t,r,n);return l=L2(l,a,u,o),l}function XP(e,t){let r=e;for(const[n,i]of t)r=r.split(n).join(i);return r}function M2(e,t,r){var n;const i=new Map;if(!((n=e.urlParameters)===null||n===void 0)&&n.length)for(const o of e.urlParameters){let l=Xo(t,o,r);const a=Mi(o);l=e.serializer.serialize(o.mapper,l,a),o.skipEncoding||(l=encodeURIComponent(l)),i.set(`{${o.mapper.serializedName||a}}`,l)}return i}function k2(e){return e.includes("://")}function O2(e,t){if(!t)return e;const r=new URL(e);let n=r.pathname;n.endsWith("/")||(n=`${n}/`),t.startsWith("/")&&(t=t.substring(1));const i=t.indexOf("?");if(i!==-1){const o=t.substring(0,i),l=t.substring(i+1);n=n+o,l&&(r.search=r.search?`${r.search}&${l}`:l)}else n=n+t;return r.pathname=n,r.toString()}function D2(e,t,r){var n;const i=new Map,o=new Set;if(!((n=e.queryParameters)===null||n===void 0)&&n.length)for(const l of e.queryParameters){l.mapper.type.name==="Sequence"&&l.mapper.serializedName&&o.add(l.mapper.serializedName);let a=Xo(t,l,r);if(a!=null||l.mapper.required){a=e.serializer.serialize(l.mapper,a,Mi(l));const u=l.collectionFormat?_2[l.collectionFormat]:"";if(Array.isArray(a)&&(a=a.map(d=>d??"")),l.collectionFormat==="Multi"&&a.length===0)continue;Array.isArray(a)&&(l.collectionFormat==="SSV"||l.collectionFormat==="TSV")&&(a=a.join(u)),l.skipEncoding||(Array.isArray(a)?a=a.map(d=>encodeURIComponent(d)):a=encodeURIComponent(a)),Array.isArray(a)&&(l.collectionFormat==="CSV"||l.collectionFormat==="Pipes")&&(a=a.join(u)),i.set(l.mapper.serializedName||Mi(l),a)}}return{queryParams:i,sequenceParams:o}}function B2(e){const t=new Map;if(!e||e[0]!=="?")return t;e=e.slice(1);const r=e.split("&");for(const n of r){const[i,o]=n.split("=",2),l=t.get(i);l?Array.isArray(l)?l.push(o):t.set(i,[l,o]):t.set(i,o)}return t}function L2(e,t,r,n=!1){if(t.size===0)return e;const i=new URL(e),o=B2(i.search);for(const[a,u]of t){const d=o.get(a);if(Array.isArray(d))if(Array.isArray(u)){d.push(...u);const m=new Set(d);o.set(a,Array.from(m))}else d.push(u);else d?(Array.isArray(u)?u.unshift(d):r.has(a)&&o.set(a,[d,u]),n||o.set(a,u)):o.set(a,u)}const l=[];for(const[a,u]of o)if(typeof u=="string")l.push(`${a}=${u}`);else if(Array.isArray(u))for(const d of u)l.push(`${a}=${d}`);else l.push(`${a}=${u}`);return i.search=l.length?`?${l.join("&")}`:"",i.toString()}const j2=jy("core-client");class q2{constructor(t={}){var r,n;if(this._requestContentType=t.requestContentType,this._endpoint=(r=t.endpoint)!==null&&r!==void 0?r:t.baseUri,t.baseUri&&j2.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=t.allowInsecureConnection,this._httpClient=t.httpClient||A2(),this.pipeline=t.pipeline||F2(t),!((n=t.additionalPolicies)===null||n===void 0)&&n.length)for(const{policy:i,position:o}of t.additionalPolicies){const l=o==="perRetry"?"Sign":void 0;this.pipeline.addPolicy(i,{afterPhase:l})}}async sendRequest(t){return this.pipeline.sendRequest(this._httpClient,t)}async sendOperationRequest(t,r){const n=r.baseUrl||this._endpoint;if(!n)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");const i=z2(n,r,t,this),o=nI({url:i});o.method=r.httpMethod;const l=sa(o);l.operationSpec=r,l.operationArguments=t;const a=r.contentType||this._requestContentType;a&&r.requestBody&&o.headers.set("Content-Type",a);const u=t.options;if(u){const d=u.requestOptions;d&&(d.timeout&&(o.timeout=d.timeout),d.onUploadProgress&&(o.onUploadProgress=d.onUploadProgress),d.onDownloadProgress&&(o.onDownloadProgress=d.onDownloadProgress),d.shouldDeserialize!==void 0&&(l.shouldDeserialize=d.shouldDeserialize),d.allowInsecureConnection&&(o.allowInsecureConnection=!0)),u.abortSignal&&(o.abortSignal=u.abortSignal),u.tracingOptions&&(o.tracingOptions=u.tracingOptions)}this._allowInsecureConnection&&(o.allowInsecureConnection=!0),o.streamResponseStatusCodes===void 0&&(o.streamResponseStatusCodes=w2(r));try{const d=await this.sendRequest(o),m=KP(d,r.responses[d.status]);return u?.onResponse&&u.onResponse(d,m),m}catch(d){if(typeof d=="object"&&d?.response){const m=d.response,h=KP(m,r.responses[d.statusCode]||r.responses.default);d.details=h,u?.onResponse&&u.onResponse(m,h,d)}throw d}}}function F2(e){const t=H2(e),r=e.credential&&t?{credentialScopes:t,credential:e.credential}:void 0;return mI(Object.assign(Object.assign({},e),{credentialOptions:r}))}function H2(e){if(e.credentialScopes)return e.credentialScopes;if(e.endpoint)return`${e.endpoint}/.default`;if(e.baseUri)return`${e.baseUri}/.default`;if(e.credential&&!e.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}const hI={DefaultScope:"/.default",HeaderConstants:{AUTHORIZATION:"authorization"}};function U2(e){return/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(e)}const fI=async e=>{var t;const r=G2(e.request),n=V2(e.response);if(n){const i=K2(n),o=W2(e,i),l=$2(i);if(!l)return!1;const a=await e.getAccessToken(o,Object.assign(Object.assign({},r),{tenantId:l}));return a?(e.request.headers.set(hI.HeaderConstants.AUTHORIZATION,`${(t=a.tokenType)!==null&&t!==void 0?t:"Bearer"} ${a.token}`),!0):!1}return!1};function $2(e){const n=new URL(e.authorization_uri).pathname.split("/")[1];if(n&&U2(n))return n}function W2(e,t){if(!t.resource_id)return e.scopes;const r=new URL(t.resource_id);r.pathname=hI.DefaultScope;let n=r.toString();return n==="https://disk.azure.com/.default"&&(n="https://disk.azure.com//.default"),[n]}function V2(e){const t=e.headers.get("WWW-Authenticate");if(e.status===401&&t)return t}function K2(e){return`${e.slice(7).trim()} `.split(" ").filter(i=>i).map(i=>(([o,l])=>({[o]:l}))(i.trim().split("="))).reduce((i,o)=>Object.assign(Object.assign({},i),o),{})}function G2(e){return{abortSignal:e.abortSignal,requestOptions:{timeout:e.timeout},tracingOptions:e.tracingOptions}}const gI=Symbol("Original PipelineRequest"),J2=Symbol.for("@azure/core-client original request");function Uy(e,t={}){const n=e[gI],i=Um(e.headers.toJson({preserveCase:!0}));if(n)return n.headers=i,n;{const o=nI({url:e.url,method:e.method,headers:i,withCredentials:e.withCredentials,timeout:e.timeout,requestId:e.requestId,abortSignal:e.abortSignal,body:e.body,formData:e.formData,disableKeepAlive:!!e.keepAlive,onDownloadProgress:e.onDownloadProgress,onUploadProgress:e.onUploadProgress,proxySettings:e.proxySettings,streamResponseStatusCodes:e.streamResponseStatusCodes,agent:e.agent,requestOverrides:e.requestOverrides});return t.originalRequest&&(o[J2]=t.originalRequest),o}}function $m(e,t){var r;const n=(r=t?.originalRequest)!==null&&r!==void 0?r:e,i={url:e.url,method:e.method,headers:$y(e.headers),withCredentials:e.withCredentials,timeout:e.timeout,requestId:e.headers.get("x-ms-client-request-id")||e.requestId,abortSignal:e.abortSignal,body:e.body,formData:e.formData,keepAlive:!!e.disableKeepAlive,onDownloadProgress:e.onDownloadProgress,onUploadProgress:e.onUploadProgress,proxySettings:e.proxySettings,streamResponseStatusCodes:e.streamResponseStatusCodes,agent:e.agent,requestOverrides:e.requestOverrides,clone(){throw new Error("Cannot clone a non-proxied WebResourceLike")},prepare(){throw new Error("WebResourceLike.prepare() is not supported by @azure/core-http-compat")},validateRequestProperties(){}};return t?.createProxy?new Proxy(i,{get(o,l,a){return l===gI?e:l==="clone"?()=>$m(Uy(i,{originalRequest:n}),{createProxy:!0,originalRequest:n}):Reflect.get(o,l,a)},set(o,l,a,u){return l==="keepAlive"&&(e.disableKeepAlive=!a),typeof l=="string"&&["url","method","withCredentials","timeout","requestId","abortSignal","body","formData","onDownloadProgress","onUploadProgress","proxySettings","streamResponseStatusCodes","agent","requestOverrides"].includes(l)&&(e[l]=a),Reflect.set(o,l,a,u)}}):i}function $y(e){return new Wy(e.toJSON({preserveCase:!0}))}function dc(e){return e.toLowerCase()}class Wy{constructor(t){if(this._headersMap={},t)for(const r in t)this.set(r,t[r])}set(t,r){this._headersMap[dc(t)]={name:t,value:r.toString()}}get(t){const r=this._headersMap[dc(t)];return r?r.value:void 0}contains(t){return!!this._headersMap[dc(t)]}remove(t){const r=this.contains(t);return delete this._headersMap[dc(t)],r}rawHeaders(){return this.toJson({preserveCase:!0})}headersArray(){const t=[];for(const r in this._headersMap)t.push(this._headersMap[r]);return t}headerNames(){const t=[],r=this.headersArray();for(let n=0;n<r.length;++n)t.push(r[n].name);return t}headerValues(){const t=[],r=this.headersArray();for(let n=0;n<r.length;++n)t.push(r[n].value);return t}toJson(t={}){const r={};if(t.preserveCase)for(const n in this._headersMap){const i=this._headersMap[n];r[i.name]=i.value}else for(const n in this._headersMap){const i=this._headersMap[n];r[dc(i.name)]=i.value}return r}toString(){return JSON.stringify(this.toJson({preserveCase:!0}))}clone(){const t={};for(const r in this._headersMap){const n=this._headersMap[r];t[n.name]=n.value}return new Wy(t)}}const vI=Symbol("Original FullOperationResponse");function yI(e,t){let r=$m(e.request),n=$y(e.headers);return t?.createProxy?new Proxy(e,{get(i,o,l){return o==="headers"?n:o==="request"?r:o===vI?e:Reflect.get(i,o,l)},set(i,o,l,a){return o==="headers"?n=l:o==="request"&&(r=l),Reflect.set(i,o,l,a)}}):Object.assign(Object.assign({},e),{request:r,headers:n})}function SI(e){const r=e[vI],n=Um(e.headers.toJson({preserveCase:!0}));return r?(r.headers=n,r):Object.assign(Object.assign({},e),{headers:n,request:Uy(e.request)})}class Q2 extends q2{constructor(t){var r,n;super(t),((r=t.keepAliveOptions)===null||r===void 0?void 0:r.enable)===!1&&!qq(this.pipeline)&&this.pipeline.addPolicy(jq()),((n=t.redirectOptions)===null||n===void 0?void 0:n.handleRedirects)===!1&&this.pipeline.removePolicy({name:Xj})}async sendOperationRequest(t,r){var n;const i=(n=t?.options)===null||n===void 0?void 0:n.onResponse;let o;function l(u,d,m){o=u,i&&i(u,d,m)}t.options=Object.assign(Object.assign({},t.options),{onResponse:l});const a=await super.sendOperationRequest(t,r);return o&&Object.defineProperty(a,"_response",{value:yI(o)}),a}}var YP;(function(e){e[e.ERROR=1]="ERROR",e[e.INFO=3]="INFO",e[e.OFF=0]="OFF",e[e.WARNING=2]="WARNING"})(YP||(YP={}));const X2={log(e,t){},shouldLog(e){return!1}},Y2="RequestPolicyFactoryPolicy";function Z2(e){const t=e.slice().reverse();return{name:Y2,async sendRequest(r,n){let i={async sendRequest(a){const u=await n(Uy(a));return yI(u,{createProxy:!0})}};for(const a of t)i=a.create(i,X2);const o=$m(r,{createProxy:!0}),l=await i.sendRequest(o);return SI(l)}}}function eF(e){return{sendRequest:async t=>{const r=await e.sendRequest($m(t,{createProxy:!0}));return SI(r)}}}const wd="$",CI="_";if(!document||!DOMParser||!Node||!XMLSerializer)throw new Error('This library depends on the following DOM objects: ["document", "DOMParser", "Node", "XMLSerializer"] to parse XML, but some of these are undefined. You may provide a polyfill to make these globally available in order to support your environment. For more information, please refer to https://aka.ms/azsdk/js/web-workers. ');let Fs;try{typeof self.trustedTypes<"u"&&(Fs=self.trustedTypes.createPolicy("@azure/core-xml#xml.browser",{createHTML:e=>e}))}catch{console.warn('Could not create trusted types policy "@azure/core-xml#xml.browser"')}const vd=document.implementation.createDocument(null,null,null),xI=new DOMParser;function tF(e,t={}){var r,n,i,o,l,a;try{const u={rootName:(r=t.rootName)!==null&&r!==void 0?r:"",includeRoot:(n=t.includeRoot)!==null&&n!==void 0?n:!1,xmlCharKey:(i=t.xmlCharKey)!==null&&i!==void 0?i:CI,cdataPropName:(o=t.cdataPropName)!==null&&o!==void 0?o:"__cdata",stopNodes:(l=t.stopNodes)!==null&&l!==void 0?l:[]},d=xI.parseFromString((a=Fs?.createHTML(e))!==null&&a!==void 0?a:e,"application/xml");nF(d);let m;return u.includeRoot?m=ty(d,u):m=ty(d.childNodes[0],u),Promise.resolve(m)}catch(u){return Promise.reject(u)}}let yd;function rF(){var e,t;if(yd===void 0)try{const r=(e=Fs?.createHTML("INVALID"))!==null&&e!==void 0?e:"INVALID";yd=(t=xI.parseFromString(r,"text/xml").getElementsByTagName("parsererror")[0].namespaceURI)!==null&&t!==void 0?t:""}catch{yd=""}return yd}function nF(e){const t=e.getElementsByTagName("parsererror");if(t.length>0&&rF()){for(let r=0;r<t.length;r++)if(t[r].namespaceURI===yd)throw new Error(t[r].innerHTML)}}function iF(e){return!!e.attributes}function sF(e){return iF(e)&&e.hasAttributes()?e:void 0}function ty(e,t){var r;let n={};const i=e.childNodes.length,o=e.childNodes[0],l=o&&i===1&&o.nodeType===Node.TEXT_NODE&&o.nodeValue||void 0,a=sF(e);if(a){n[wd]={};for(let u=0;u<a.attributes.length;u++){const d=a.attributes[u];n[wd][d.nodeName]=d.nodeValue}l&&(n[t.xmlCharKey]=l)}else i===0?n="":l&&(n=l);if(!l)for(let u=0;u<i;u++){const d=e.childNodes[u];if(d?.nodeType===Node.CDATA_SECTION_NODE)n=d.textContent;else if(((r=d?.firstChild)===null||r===void 0?void 0:r.nodeType)===Node.CDATA_SECTION_NODE)n[d.nodeName]=d.textContent;else if(d.nodeType!==Node.TEXT_NODE){const m=ty(d,t);n[d.nodeName]?Array.isArray(n[d.nodeName])?n[d.nodeName].push(m):n[d.nodeName]=[n[d.nodeName],m]:n[d.nodeName]=m}}return n}const oF=new XMLSerializer;function PI(e,t={}){var r,n,i,o,l;const a={rootName:(r=t.rootName)!==null&&r!==void 0?r:"root",includeRoot:(n=t.includeRoot)!==null&&n!==void 0?n:!1,xmlCharKey:(i=t.xmlCharKey)!==null&&i!==void 0?i:CI,cdataPropName:(o=t.cdataPropName)!==null&&o!==void 0?o:"__cdata",stopNodes:(l=t.stopNodes)!==null&&l!==void 0?l:[]},u=ry(e,a.rootName,a)[0];return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+oF.serializeToString(u).replace(/ xmlns=""/g,"")}function aF(e){const t=[];for(const r of Object.keys(e)){const n=vd.createAttribute(r);n.value=e[r].toString(),t.push(n)}return t}function ry(e,t,r){var n;if(e==null||typeof e=="string"||typeof e=="number"||typeof e=="boolean"){const i=vd.createElement(t);return i.textContent=e==null?"":e.toString(),[i]}else if(Array.isArray(e)){const i=[];for(const o of e)for(const l of ry(o,t,r))i.push(l);return i}else if(typeof e=="object"){let i;!((n=e[wd])===null||n===void 0)&&n.xmlns?i=vd.createElementNS(e[wd].xmlns,t):i=vd.createElement(t);for(const o of Object.keys(e))if(o===wd)for(const l of aF(e[o]))i.attributes.setNamedItem(l);else if(o===r.xmlCharKey)i.textContent=e[o].toString();else if(o===r.cdataPropName){const l=vd.createCDATASection(e[o].toString());i.appendChild(l)}else for(const l of ry(e[o],o,r))i.appendChild(l);return[i]}else throw new Error(`Illegal value passed to buildObject: ${e}`)}const Ot=jy("storage-blob");class Vy{_nextPolicy;_options;constructor(t,r){this._nextPolicy=t,this._options=r}shouldLog(t){return this._options.shouldLog(t)}log(t,r){this._options.log(t,r)}}const RI="12.28.0",Ky="2025-07-05",pg=256*1024*1024,mg=4e3*1024*1024,am=5e4,cF=8*1024*1024,ny=4*1024*1024,lF=5,wI="https://storage.azure.com/.default",Zr={Parameters:{FORCE_BROWSER_NO_CACHE:"_",SNAPSHOT:"snapshot",VERSIONID:"versionid",TIMEOUT:"timeout"}},uF={HTTP_ACCEPTED:202},Cn={CONTENT_ID:"Content-ID",CONTENT_LENGTH:"Content-Length",CONTENT_TRANSFER_ENCODING:"Content-Transfer-Encoding",CONTENT_TYPE:"Content-Type",COOKIE:"Cookie",X_MS_ERROR_CODE:"x-ms-error-code",X_MS_VERSION:"x-ms-version"},gn="",bI="*",ZP=256,Gn=`\r
`,NI="HTTP/1.1",dF="AES256",pF="DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://127.0.0.1:10000/devstoreaccount1;",mF=["Access-Control-Allow-Origin","Cache-Control","Content-Length","Content-Type","Date","Request-Id","traceparent","Transfer-Encoding","User-Agent","x-ms-client-request-id","x-ms-date","x-ms-error-code","x-ms-request-id","x-ms-return-client-request-id","x-ms-version","Accept-Ranges","Content-Disposition","Content-Encoding","Content-Language","Content-MD5","Content-Range","ETag","Last-Modified","Server","Vary","x-ms-content-crc64","x-ms-copy-action","x-ms-copy-completion-time","x-ms-copy-id","x-ms-copy-progress","x-ms-copy-status","x-ms-has-immutability-policy","x-ms-has-legal-hold","x-ms-lease-state","x-ms-lease-status","x-ms-range","x-ms-request-server-encrypted","x-ms-server-encrypted","x-ms-snapshot","x-ms-source-range","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","x-ms-access-tier","x-ms-access-tier-change-time","x-ms-access-tier-inferred","x-ms-account-kind","x-ms-archive-status","x-ms-blob-append-offset","x-ms-blob-cache-control","x-ms-blob-committed-block-count","x-ms-blob-condition-appendpos","x-ms-blob-condition-maxsize","x-ms-blob-content-disposition","x-ms-blob-content-encoding","x-ms-blob-content-language","x-ms-blob-content-length","x-ms-blob-content-md5","x-ms-blob-content-type","x-ms-blob-public-access","x-ms-blob-sequence-number","x-ms-blob-type","x-ms-copy-destination-snapshot","x-ms-creation-time","x-ms-default-encryption-scope","x-ms-delete-snapshots","x-ms-delete-type-permanent","x-ms-deny-encryption-scope-override","x-ms-encryption-algorithm","x-ms-if-sequence-number-eq","x-ms-if-sequence-number-le","x-ms-if-sequence-number-lt","x-ms-incremental-copy","x-ms-lease-action","x-ms-lease-break-period","x-ms-lease-duration","x-ms-lease-id","x-ms-lease-time","x-ms-page-write","x-ms-proposed-lease-id","x-ms-range-get-content-md5","x-ms-rehydrate-priority","x-ms-sequence-number-action","x-ms-sku-name","x-ms-source-content-md5","x-ms-source-if-match","x-ms-source-if-modified-since","x-ms-source-if-none-match","x-ms-source-if-unmodified-since","x-ms-tag-count","x-ms-encryption-key-sha256","x-ms-copy-source-error-code","x-ms-copy-source-status-code","x-ms-if-tags","x-ms-source-if-tags"],hF=["comp","maxresults","rscc","rscd","rsce","rscl","rsct","se","si","sip","sp","spr","sr","srt","ss","st","sv","include","marker","prefix","copyid","restype","blockid","blocklisttype","delimiter","prevsnapshot","ske","skoid","sks","skt","sktid","skv","snapshot"],fF="BlobUsesCustomerSpecifiedEncryption",gF="BlobDoesNotUseCustomerSpecifiedEncryption",vF=["10000","10001","10002","10003","10004","10100","10101","10102","10103","10104","11000","11001","11002","11003","11004","11100","11101","11102","11103","11104"];function yF(e){const t=new URL(e);let r=t.pathname;return r=r||"/",r=CF(r),t.pathname=r,t.toString()}function SF(e){let t="";if(e.search("DevelopmentStorageProxyUri=")!==-1){const r=e.split(";");for(const n of r)n.trim().startsWith("DevelopmentStorageProxyUri=")&&(t=n.trim().match("DevelopmentStorageProxyUri=(.*)")[1])}return t}function ms(e,t){const r=e.split(";");for(const n of r)if(n.trim().startsWith(t))return n.trim().match(t+"=(.*)")[1];return""}function oa(e){let t="";e.startsWith("UseDevelopmentStorage=true")&&(t=SF(e),e=pF);let r=ms(e,"BlobEndpoint");if(r=r.endsWith("/")?r.slice(0,-1):r,e.search("DefaultEndpointsProtocol=")!==-1&&e.search("AccountKey=")!==-1){let n="",i="",o=Buffer.from("accountKey","base64"),l="";if(i=ms(e,"AccountName"),o=Buffer.from(ms(e,"AccountKey"),"base64"),!r){n=ms(e,"DefaultEndpointsProtocol");const a=n.toLowerCase();if(a!=="https"&&a!=="http")throw new Error("Invalid DefaultEndpointsProtocol in the provided Connection String. Expecting 'https' or 'http'");if(l=ms(e,"EndpointSuffix"),!l)throw new Error("Invalid EndpointSuffix in the provided Connection String");r=`${n}://${i}.blob.${l}`}if(i){if(o.length===0)throw new Error("Invalid AccountKey in the provided Connection String")}else throw new Error("Invalid AccountName in the provided Connection String");return{kind:"AccountConnString",url:r,accountName:i,accountKey:o,proxyUri:t}}else{let n=ms(e,"SharedAccessSignature"),i=ms(e,"AccountName");if(i||(i=_I(r)),r){if(!n)throw new Error("Invalid SharedAccessSignature in the provided SAS Connection String")}else throw new Error("Invalid BlobEndpoint in the provided SAS Connection String");return n.startsWith("?")&&(n=n.substring(1)),{kind:"SASConnString",url:r,accountName:i,accountSas:n}}}function CF(e){return encodeURIComponent(e).replace(/%2F/g,"/").replace(/'/g,"%27").replace(/\+/g,"%20").replace(/%25/g,"%")}function Ct(e,t){const r=new URL(e);let n=r.pathname;return n=n?n.endsWith("/")?`${n}${t}`:`${n}/${t}`:t,r.pathname=n,r.toString()}function Qn(e,t,r){const n=new URL(e),i=encodeURIComponent(t),o=r?encodeURIComponent(r):void 0,l=n.search===""?"?":n.search,a=[];for(const u of l.slice(1).split("&"))if(u){const[d]=u.split("=",2);d!==i&&a.push(u)}return o&&a.push(`${i}=${o}`),n.search=a.length?`?${a.join("&")}`:"",n.toString()}function eR(e,t){return new URL(e).searchParams.get(t)??void 0}function EI(e,t){const r=new URL(e);return r.hostname=t,r.toString()}function TI(e){try{return new URL(e).pathname}catch{return}}function xF(e){try{const t=new URL(e);return t.protocol.endsWith(":")?t.protocol.slice(0,-1):t.protocol}catch{return}}function PF(e){const t=new URL(e),r=t.pathname;if(!r)throw new RangeError("Invalid url without valid path.");let n=t.search||"";return n=n.trim(),n!==""&&(n=n.startsWith("?")?n:`?${n}`),`${r}${n}`}function zd(e,t){const r=new URL(e);let n=r.search;return n?n+="&"+t:n=t,r.search=n,r.toString()}function Qe(e,t=!0){const r=e.toISOString();return t?r.substring(0,r.length-1)+"0000Z":r.substring(0,r.length-5)+"Z"}function RF(e){return xt?Buffer.from(e).toString("base64"):btoa(e)}function tR(e,t){e.length>42&&(e=e.slice(0,42));const o=e+wF(t.toString(),48-e.length,"0");return RF(o)}async function II(e,t,r){return new Promise((n,i)=>{let o;const l=()=>{o!==void 0&&clearTimeout(o),i(r)};o=setTimeout(()=>{t!==void 0&&t.removeEventListener("abort",l),n()},e),t!==void 0&&t.addEventListener("abort",l)})}function wF(e,t,r=" "){return String.prototype.padStart?e.padStart(t,r):(r=r||" ",e.length>t?e:(t=t-e.length,t>r.length&&(r+=r.repeat(t/r.length)),r.slice(0,t)+e))}function AI(e,t){return e.toLocaleLowerCase()===t.toLocaleLowerCase()}function _I(e){const t=new URL(e);let r;try{return t.hostname.split(".")[1]==="blob"?r=t.hostname.split(".")[0]:Gy(t)?r=t.pathname.split("/")[1]:r="",r}catch{throw new Error("Unable to extract accountName with provided information.")}}function Gy(e){const t=e.host;return/^.*:.*:.*$|^(localhost|host.docker.internal)(:[0-9]+)?$|^(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])(\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])){3}(:[0-9]+)?$/.test(t)||!!e.port&&vF.includes(e.port)}function Hs(e){if(e===void 0)return;const t=[];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];t.push(`${encodeURIComponent(r)}=${encodeURIComponent(n)}`)}return t.join("&")}function bF(e){if(e===void 0)return;const t={blobTagSet:[]};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];t.blobTagSet.push({key:r,value:n})}return t}function bd(e){if(e===void 0)return;const t={};for(const r of e.blobTagSet)t[r.key]=r.value;return t}function rR(e){if(e!==void 0)switch(e.kind){case"csv":return{format:{type:"delimited",delimitedTextConfiguration:{columnSeparator:e.columnSeparator||",",fieldQuote:e.fieldQuote||"",recordSeparator:e.recordSeparator,escapeChar:e.escapeCharacter||"",headersPresent:e.hasHeaders||!1}}};case"json":return{format:{type:"json",jsonTextConfiguration:{recordSeparator:e.recordSeparator}}};case"arrow":return{format:{type:"arrow",arrowConfiguration:{schema:e.schema}}};case"parquet":return{format:{type:"parquet"}};default:throw Error("Invalid BlobQueryTextConfiguration.")}}function Am(e){if(!e||"policy-id"in e)return;const t=[];for(const r in e){const n=r.split("_"),i="or-";n[0].startsWith(i)&&(n[0]=n[0].substring(i.length));const o={ruleId:n[1],replicationStatus:e[r]},l=t.findIndex(a=>a.policyId===n[0]);l>-1?t[l].rules.push(o):t.push({policyId:n[0],rules:[o]})}return t}function Md(e){return e?e.scheme+" "+e.value:void 0}function Wo(e){return e.encoded?decodeURIComponent(e.content):e.content}function NF(e){return{...e,segment:{blobItems:e.segment.blobItems.map(t=>({...t,name:Wo(t.name)}))}}}function EF(e){return{...e,segment:{blobPrefixes:e.segment.blobPrefixes?.map(t=>({...t,name:Wo(t.name)})),blobItems:e.segment.blobItems.map(t=>({...t,name:Wo(t.name)}))}}}function*nR(e){let t=[],r=[];e.pageRange&&(t=e.pageRange),e.clearRange&&(r=e.clearRange);let n=0,i=0;for(;n<t.length&&i<r.length;)t[n].start<r[i].start?(yield{start:t[n].start,end:t[n].end,isClear:!1},++n):(yield{start:r[i].start,end:r[i].end,isClear:!0},++i);for(;n<t.length;++n)yield{start:t[n].start,end:t[n].end,isClear:!1};for(;i<r.length;++i)yield{start:r[i].start,end:r[i].end,isClear:!0}}function cm(e){const t=e.split("/");for(let r=0;r<t.length;r++)t[r]=encodeURIComponent(t[r]);return t.join("/")}function ve(e){if("_response"in e)return e;throw new TypeError(`Unexpected response object ${e}`)}var Oi;(function(e){e[e.EXPONENTIAL=0]="EXPONENTIAL",e[e.FIXED=1]="FIXED"})(Oi||(Oi={}));const wi={maxRetryDelayInMs:120*1e3,maxTries:4,retryDelayInMs:4*1e3,retryPolicyType:Oi.EXPONENTIAL,secondaryHost:"",tryTimeoutInMs:void 0},TF=new qy("The operation was aborted.");class IF extends Vy{retryOptions;constructor(t,r,n=wi){super(t,r),this.retryOptions={retryPolicyType:n.retryPolicyType?n.retryPolicyType:wi.retryPolicyType,maxTries:n.maxTries&&n.maxTries>=1?Math.floor(n.maxTries):wi.maxTries,tryTimeoutInMs:n.tryTimeoutInMs&&n.tryTimeoutInMs>=0?n.tryTimeoutInMs:wi.tryTimeoutInMs,retryDelayInMs:n.retryDelayInMs&&n.retryDelayInMs>=0?Math.min(n.retryDelayInMs,n.maxRetryDelayInMs?n.maxRetryDelayInMs:wi.maxRetryDelayInMs):wi.retryDelayInMs,maxRetryDelayInMs:n.maxRetryDelayInMs&&n.maxRetryDelayInMs>=0?n.maxRetryDelayInMs:wi.maxRetryDelayInMs,secondaryHost:n.secondaryHost?n.secondaryHost:wi.secondaryHost}}async sendRequest(t){return this.attemptSendRequest(t,!1,1)}async attemptSendRequest(t,r,n){const i=t.clone(),o=r||!this.retryOptions.secondaryHost||!(t.method==="GET"||t.method==="HEAD"||t.method==="OPTIONS")||n%2===1;o||(i.url=EI(i.url,this.retryOptions.secondaryHost)),this.retryOptions.tryTimeoutInMs&&(i.url=Qn(i.url,Zr.Parameters.TIMEOUT,Math.floor(this.retryOptions.tryTimeoutInMs/1e3).toString()));let l;try{if(Ot.info(`RetryPolicy: =====> Try=${n} ${o?"Primary":"Secondary"}`),l=await this._nextPolicy.sendRequest(i),!this.shouldRetry(o,n,l))return l;r=r||!o&&l.status===404}catch(a){if(Ot.error(`RetryPolicy: Caught error, message: ${a.message}, code: ${a.code}`),!this.shouldRetry(o,n,l,a))throw a}return await this.delay(o,n,t.abortSignal),this.attemptSendRequest(t,r,++n)}shouldRetry(t,r,n,i){if(r>=this.retryOptions.maxTries)return Ot.info(`RetryPolicy: Attempt(s) ${r} >= maxTries ${this.retryOptions.maxTries}, no further try.`),!1;const o=["ETIMEDOUT","ESOCKETTIMEDOUT","ECONNREFUSED","ECONNRESET","ENOENT","ENOTFOUND","TIMEOUT","EPIPE","REQUEST_SEND_ERROR"];if(i){for(const l of o)if(i.name.toUpperCase().includes(l)||i.message.toUpperCase().includes(l)||i.code&&i.code.toString().toUpperCase()===l)return Ot.info(`RetryPolicy: Network error ${l} found, will retry.`),!0}if(n||i){const l=n?n.status:i?i.statusCode:0;if(!t&&l===404)return Ot.info("RetryPolicy: Secondary access with 404, will retry."),!0;if(l===503||l===500)return Ot.info(`RetryPolicy: Will retry for status code ${l}.`),!0}return i?.code==="PARSE_ERROR"&&i?.message.startsWith('Error "Error: Unclosed root tag')?(Ot.info("RetryPolicy: Incomplete XML response likely due to service timeout, will retry."),!0):!1}async delay(t,r,n){let i=0;if(t)switch(this.retryOptions.retryPolicyType){case Oi.EXPONENTIAL:i=Math.min((Math.pow(2,r-1)-1)*this.retryOptions.retryDelayInMs,this.retryOptions.maxRetryDelayInMs);break;case Oi.FIXED:i=this.retryOptions.retryDelayInMs;break}else i=Math.random()*1e3;return Ot.info(`RetryPolicy: Delay for ${i}ms`),II(i,n,TF)}}class AF{retryOptions;constructor(t){this.retryOptions=t}create(t,r){return new IF(t,r,this.retryOptions)}}class mt{}class _F extends Vy{sendRequest(t){return this._nextPolicy.sendRequest(this.signRequest(t))}signRequest(t){return t}}class zF extends _F{constructor(t,r){super(t,r)}}class MF{create(t,r){throw new Error("Method should be implemented in children classes.")}}class ht extends MF{create(t,r){return new zF(t,r)}}class kF{}let hg;function OF(){return hg||(hg=rI()),hg}const DF="storageBrowserPolicy";function BF(){return{name:DF,async sendRequest(e,t){return xt||((e.method==="GET"||e.method==="HEAD")&&(e.url=Qn(e.url,Zr.Parameters.FORCE_BROWSER_NO_CACHE,new Date().getTime().toString())),e.headers.delete(Cn.COOKIE),e.headers.delete(Cn.CONTENT_LENGTH)),t(e)}}}const LF="storageRetryPolicy",ko={maxRetryDelayInMs:120*1e3,maxTries:4,retryDelayInMs:4*1e3,retryPolicyType:Oi.EXPONENTIAL,secondaryHost:"",tryTimeoutInMs:void 0},jF=["ETIMEDOUT","ESOCKETTIMEDOUT","ECONNREFUSED","ECONNRESET","ENOENT","ENOTFOUND","TIMEOUT","EPIPE","REQUEST_SEND_ERROR"],qF=new qy("The operation was aborted.");function FF(e={}){const t=e.retryPolicyType??ko.retryPolicyType,r=e.maxTries??ko.maxTries,n=e.retryDelayInMs??ko.retryDelayInMs,i=e.maxRetryDelayInMs??ko.maxRetryDelayInMs,o=e.secondaryHost??ko.secondaryHost,l=e.tryTimeoutInMs??ko.tryTimeoutInMs;function a({isPrimaryRetry:d,attempt:m,response:h,error:g}){if(m>=r)return Ot.info(`RetryPolicy: Attempt(s) ${m} >= maxTries ${r}, no further try.`),!1;if(g){for(const v of jF)if(g.name.toUpperCase().includes(v)||g.message.toUpperCase().includes(v)||g.code&&g.code.toString().toUpperCase()===v)return Ot.info(`RetryPolicy: Network error ${v} found, will retry.`),!0;if(g?.code==="PARSE_ERROR"&&g?.message.startsWith('Error "Error: Unclosed root tag'))return Ot.info("RetryPolicy: Incomplete XML response likely due to service timeout, will retry."),!0}if(h||g){const v=h?.status??g?.statusCode??0;if(!d&&v===404)return Ot.info("RetryPolicy: Secondary access with 404, will retry."),!0;if(v===503||v===500)return Ot.info(`RetryPolicy: Will retry for status code ${v}.`),!0}return!1}function u(d,m){let h=0;if(d)switch(t){case Oi.EXPONENTIAL:h=Math.min((Math.pow(2,m-1)-1)*n,i);break;case Oi.FIXED:h=n;break}else h=Math.random()*1e3;return Ot.info(`RetryPolicy: Delay for ${h}ms`),h}return{name:LF,async sendRequest(d,m){l&&(d.url=Qn(d.url,Zr.Parameters.TIMEOUT,String(Math.floor(l/1e3))));const h=d.url,g=o?EI(d.url,o):void 0;let v=!1,x=1,C=!0,w,R;for(;C;){const b=v||!g||!["GET","HEAD","OPTIONS"].includes(d.method)||x%2===1;d.url=b?h:g,w=void 0,R=void 0;try{Ot.info(`RetryPolicy: =====> Try=${x} ${b?"Primary":"Secondary"}`),w=await m(d),v=v||!b&&w.status===404}catch(N){if(Fy(N))Ot.error(`RetryPolicy: Caught error, message: ${N.message}, code: ${N.code}`),R=N;else throw Ot.error(`RetryPolicy: Caught error, message: ${jd(N)}`),N}C=a({isPrimaryRetry:b,attempt:x,response:w,error:R}),C&&await II(u(b,x),d.abortSignal,qF),x++}if(w)return w;throw R??new Ad("RetryPolicy failed without known error.")}}}const HF="storageSharedKeyCredentialPolicy";function zI(e){return{name:HF,async sendRequest(t,r){return r(t)}}}class UF extends Vy{constructor(t,r){super(t,r)}async sendRequest(t){return xt?this._nextPolicy.sendRequest(t):((t.method.toUpperCase()==="GET"||t.method.toUpperCase()==="HEAD")&&(t.url=Qn(t.url,Zr.Parameters.FORCE_BROWSER_NO_CACHE,new Date().getTime().toString())),t.headers.remove(Cn.COOKIE),t.headers.remove(Cn.CONTENT_LENGTH),this._nextPolicy.sendRequest(t))}}class $F{create(t,r){return new UF(t,r)}}const WF="StorageCorrectContentLengthPolicy";function VF(){return{name:WF,async sendRequest(e,t){return t(e)}}}function Gs(e){if(!e||typeof e!="object")return!1;const t=e;return Array.isArray(t.factories)&&typeof t.options=="object"&&typeof t.toServiceClientOptions=="function"}class MI{factories;options;constructor(t,r={}){this.factories=t,this.options=r}toServiceClientOptions(){return{httpClient:this.options.httpClient,requestPolicyFactories:this.factories}}}function at(e,t={}){e||(e=new ht);const r=new MI([],t);return r._credential=e,r}function KF(e){const t=[GF,DI,JF,QF,XF,YF,e3];if(e.factories.length){const r=e.factories.filter(n=>!t.some(i=>i(n)));if(r.length){const n=r.some(i=>ZF(i));return{wrappedPolicies:Z2(r),afterRetry:n}}}}function kI(e){const{httpClient:t,...r}=e.options;let n=e._coreHttpClient;n||(n=t?eF(t):OF(),e._coreHttpClient=n);let i=e._corePipeline;if(!i){const o=`azsdk-js-azure-storage-blob/${RI}`,l=r.userAgentOptions&&r.userAgentOptions.userAgentPrefix?`${r.userAgentOptions.userAgentPrefix} ${o}`:`${o}`;i=mI({...r,loggingOptions:{additionalAllowedHeaderNames:mF,additionalAllowedQueryParameters:hF,logger:Ot.info},userAgentOptions:{userAgentPrefix:l},serializationOptions:{stringifyXML:PI,serializerOptions:{xml:{xmlCharKey:"#"}}},deserializationOptions:{parseXML:tF,serializerOptions:{xml:{xmlCharKey:"#"}}}}),i.removePolicy({phase:"Retry"}),i.removePolicy({name:pq}),i.addPolicy(VF()),i.addPolicy(FF(r.retryOptions),{phase:"Retry"}),i.addPolicy(BF());const a=KF(e);a&&i.addPolicy(a.wrappedPolicies,a.afterRetry?{afterPhase:"Retry"}:void 0);const u=OI(e);Dr(u)?i.addPolicy(Hy({credential:u,scopes:r.audience??wI,challengeCallbacks:{authorizeRequestOnChallenge:fI}}),{phase:"Sign"}):u instanceof mt&&i.addPolicy(zI({accountName:u.accountName,accountKey:u.accountKey}),{phase:"Sign"}),e._corePipeline=i}return{...r,allowInsecureConnection:!0,httpClient:n,pipeline:i}}function OI(e){if(e._credential)return e._credential;let t=new ht;for(const r of e.factories)if(Dr(r.credential))t=r.credential;else if(DI(r))return r;return t}function DI(e){return e instanceof mt?!0:e.constructor.name==="StorageSharedKeyCredential"}function GF(e){return e instanceof ht?!0:e.constructor.name==="AnonymousCredential"}function JF(e){return Dr(e.credential)}function QF(e){return e instanceof $F?!0:e.constructor.name==="StorageBrowserPolicyFactory"}function XF(e){return e instanceof AF?!0:e.constructor.name==="StorageRetryPolicyFactory"}function YF(e){return e.constructor.name==="TelemetryPolicyFactory"}function ZF(e){return e.constructor.name==="InjectorPolicyFactory"}function e3(e){const t=["GenerateClientRequestIdPolicy","TracingPolicy","LogPolicy","ProxyPolicy","DisableResponseDecompressionPolicy","KeepAlivePolicy","DeserializationPolicy"],r={sendRequest:async l=>({request:l,headers:l.headers.clone(),status:500})},n={log(l,a){},shouldLog(l){return!1}},o=e.create(r,n).constructor.name;return t.some(l=>o.startsWith(l))}var iR;(function(e){e.AES256="AES256"})(iR||(iR={}));var sR;(function(e){e.Backup="backup"})(sR||(sR={}));var oR;(function(e){e.NeverExpire="NeverExpire",e.RelativeToCreation="RelativeToCreation",e.RelativeToNow="RelativeToNow",e.Absolute="Absolute"})(oR||(oR={}));var aR;(function(e){e.AccountAlreadyExists="AccountAlreadyExists",e.AccountBeingCreated="AccountBeingCreated",e.AccountIsDisabled="AccountIsDisabled",e.AuthenticationFailed="AuthenticationFailed",e.AuthorizationFailure="AuthorizationFailure",e.ConditionHeadersNotSupported="ConditionHeadersNotSupported",e.ConditionNotMet="ConditionNotMet",e.EmptyMetadataKey="EmptyMetadataKey",e.InsufficientAccountPermissions="InsufficientAccountPermissions",e.InternalError="InternalError",e.InvalidAuthenticationInfo="InvalidAuthenticationInfo",e.InvalidHeaderValue="InvalidHeaderValue",e.InvalidHttpVerb="InvalidHttpVerb",e.InvalidInput="InvalidInput",e.InvalidMd5="InvalidMd5",e.InvalidMetadata="InvalidMetadata",e.InvalidQueryParameterValue="InvalidQueryParameterValue",e.InvalidRange="InvalidRange",e.InvalidResourceName="InvalidResourceName",e.InvalidUri="InvalidUri",e.InvalidXmlDocument="InvalidXmlDocument",e.InvalidXmlNodeValue="InvalidXmlNodeValue",e.Md5Mismatch="Md5Mismatch",e.MetadataTooLarge="MetadataTooLarge",e.MissingContentLengthHeader="MissingContentLengthHeader",e.MissingRequiredQueryParameter="MissingRequiredQueryParameter",e.MissingRequiredHeader="MissingRequiredHeader",e.MissingRequiredXmlNode="MissingRequiredXmlNode",e.MultipleConditionHeadersNotSupported="MultipleConditionHeadersNotSupported",e.OperationTimedOut="OperationTimedOut",e.OutOfRangeInput="OutOfRangeInput",e.OutOfRangeQueryParameterValue="OutOfRangeQueryParameterValue",e.RequestBodyTooLarge="RequestBodyTooLarge",e.ResourceTypeMismatch="ResourceTypeMismatch",e.RequestUrlFailedToParse="RequestUrlFailedToParse",e.ResourceAlreadyExists="ResourceAlreadyExists",e.ResourceNotFound="ResourceNotFound",e.ServerBusy="ServerBusy",e.UnsupportedHeader="UnsupportedHeader",e.UnsupportedXmlNode="UnsupportedXmlNode",e.UnsupportedQueryParameter="UnsupportedQueryParameter",e.UnsupportedHttpVerb="UnsupportedHttpVerb",e.AppendPositionConditionNotMet="AppendPositionConditionNotMet",e.BlobAlreadyExists="BlobAlreadyExists",e.BlobImmutableDueToPolicy="BlobImmutableDueToPolicy",e.BlobNotFound="BlobNotFound",e.BlobOverwritten="BlobOverwritten",e.BlobTierInadequateForContentLength="BlobTierInadequateForContentLength",e.BlobUsesCustomerSpecifiedEncryption="BlobUsesCustomerSpecifiedEncryption",e.BlockCountExceedsLimit="BlockCountExceedsLimit",e.BlockListTooLong="BlockListTooLong",e.CannotChangeToLowerTier="CannotChangeToLowerTier",e.CannotVerifyCopySource="CannotVerifyCopySource",e.ContainerAlreadyExists="ContainerAlreadyExists",e.ContainerBeingDeleted="ContainerBeingDeleted",e.ContainerDisabled="ContainerDisabled",e.ContainerNotFound="ContainerNotFound",e.ContentLengthLargerThanTierLimit="ContentLengthLargerThanTierLimit",e.CopyAcrossAccountsNotSupported="CopyAcrossAccountsNotSupported",e.CopyIdMismatch="CopyIdMismatch",e.FeatureVersionMismatch="FeatureVersionMismatch",e.IncrementalCopyBlobMismatch="IncrementalCopyBlobMismatch",e.IncrementalCopyOfEarlierVersionSnapshotNotAllowed="IncrementalCopyOfEarlierVersionSnapshotNotAllowed",e.IncrementalCopySourceMustBeSnapshot="IncrementalCopySourceMustBeSnapshot",e.InfiniteLeaseDurationRequired="InfiniteLeaseDurationRequired",e.InvalidBlobOrBlock="InvalidBlobOrBlock",e.InvalidBlobTier="InvalidBlobTier",e.InvalidBlobType="InvalidBlobType",e.InvalidBlockId="InvalidBlockId",e.InvalidBlockList="InvalidBlockList",e.InvalidOperation="InvalidOperation",e.InvalidPageRange="InvalidPageRange",e.InvalidSourceBlobType="InvalidSourceBlobType",e.InvalidSourceBlobUrl="InvalidSourceBlobUrl",e.InvalidVersionForPageBlobOperation="InvalidVersionForPageBlobOperation",e.LeaseAlreadyPresent="LeaseAlreadyPresent",e.LeaseAlreadyBroken="LeaseAlreadyBroken",e.LeaseIdMismatchWithBlobOperation="LeaseIdMismatchWithBlobOperation",e.LeaseIdMismatchWithContainerOperation="LeaseIdMismatchWithContainerOperation",e.LeaseIdMismatchWithLeaseOperation="LeaseIdMismatchWithLeaseOperation",e.LeaseIdMissing="LeaseIdMissing",e.LeaseIsBreakingAndCannotBeAcquired="LeaseIsBreakingAndCannotBeAcquired",e.LeaseIsBreakingAndCannotBeChanged="LeaseIsBreakingAndCannotBeChanged",e.LeaseIsBrokenAndCannotBeRenewed="LeaseIsBrokenAndCannotBeRenewed",e.LeaseLost="LeaseLost",e.LeaseNotPresentWithBlobOperation="LeaseNotPresentWithBlobOperation",e.LeaseNotPresentWithContainerOperation="LeaseNotPresentWithContainerOperation",e.LeaseNotPresentWithLeaseOperation="LeaseNotPresentWithLeaseOperation",e.MaxBlobSizeConditionNotMet="MaxBlobSizeConditionNotMet",e.NoAuthenticationInformation="NoAuthenticationInformation",e.NoPendingCopyOperation="NoPendingCopyOperation",e.OperationNotAllowedOnIncrementalCopyBlob="OperationNotAllowedOnIncrementalCopyBlob",e.PendingCopyOperation="PendingCopyOperation",e.PreviousSnapshotCannotBeNewer="PreviousSnapshotCannotBeNewer",e.PreviousSnapshotNotFound="PreviousSnapshotNotFound",e.PreviousSnapshotOperationNotSupported="PreviousSnapshotOperationNotSupported",e.SequenceNumberConditionNotMet="SequenceNumberConditionNotMet",e.SequenceNumberIncrementTooLarge="SequenceNumberIncrementTooLarge",e.SnapshotCountExceeded="SnapshotCountExceeded",e.SnapshotOperationRateExceeded="SnapshotOperationRateExceeded",e.SnapshotsPresent="SnapshotsPresent",e.SourceConditionNotMet="SourceConditionNotMet",e.SystemInUse="SystemInUse",e.TargetConditionNotMet="TargetConditionNotMet",e.UnauthorizedBlobOverwrite="UnauthorizedBlobOverwrite",e.BlobBeingRehydrated="BlobBeingRehydrated",e.BlobArchived="BlobArchived",e.BlobNotArchived="BlobNotArchived",e.AuthorizationSourceIPMismatch="AuthorizationSourceIPMismatch",e.AuthorizationProtocolMismatch="AuthorizationProtocolMismatch",e.AuthorizationPermissionMismatch="AuthorizationPermissionMismatch",e.AuthorizationServiceMismatch="AuthorizationServiceMismatch",e.AuthorizationResourceTypeMismatch="AuthorizationResourceTypeMismatch",e.BlobAccessTierNotSupportedForAccountType="BlobAccessTierNotSupportedForAccountType"})(aR||(aR={}));const Jy={serializedName:"BlobServiceProperties",xmlName:"StorageServiceProperties",type:{name:"Composite",className:"BlobServiceProperties",modelProperties:{blobAnalyticsLogging:{serializedName:"Logging",xmlName:"Logging",type:{name:"Composite",className:"Logging"}},hourMetrics:{serializedName:"HourMetrics",xmlName:"HourMetrics",type:{name:"Composite",className:"Metrics"}},minuteMetrics:{serializedName:"MinuteMetrics",xmlName:"MinuteMetrics",type:{name:"Composite",className:"Metrics"}},cors:{serializedName:"Cors",xmlName:"Cors",xmlIsWrapped:!0,xmlElementName:"CorsRule",type:{name:"Sequence",element:{type:{name:"Composite",className:"CorsRule"}}}},defaultServiceVersion:{serializedName:"DefaultServiceVersion",xmlName:"DefaultServiceVersion",type:{name:"String"}},deleteRetentionPolicy:{serializedName:"DeleteRetentionPolicy",xmlName:"DeleteRetentionPolicy",type:{name:"Composite",className:"RetentionPolicy"}},staticWebsite:{serializedName:"StaticWebsite",xmlName:"StaticWebsite",type:{name:"Composite",className:"StaticWebsite"}}}}},t3={serializedName:"Logging",type:{name:"Composite",className:"Logging",modelProperties:{version:{serializedName:"Version",required:!0,xmlName:"Version",type:{name:"String"}},deleteProperty:{serializedName:"Delete",required:!0,xmlName:"Delete",type:{name:"Boolean"}},read:{serializedName:"Read",required:!0,xmlName:"Read",type:{name:"Boolean"}},write:{serializedName:"Write",required:!0,xmlName:"Write",type:{name:"Boolean"}},retentionPolicy:{serializedName:"RetentionPolicy",xmlName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy"}}}}},r3={serializedName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy",modelProperties:{enabled:{serializedName:"Enabled",required:!0,xmlName:"Enabled",type:{name:"Boolean"}},days:{constraints:{InclusiveMinimum:1},serializedName:"Days",xmlName:"Days",type:{name:"Number"}}}}},n3={serializedName:"Metrics",type:{name:"Composite",className:"Metrics",modelProperties:{version:{serializedName:"Version",xmlName:"Version",type:{name:"String"}},enabled:{serializedName:"Enabled",required:!0,xmlName:"Enabled",type:{name:"Boolean"}},includeAPIs:{serializedName:"IncludeAPIs",xmlName:"IncludeAPIs",type:{name:"Boolean"}},retentionPolicy:{serializedName:"RetentionPolicy",xmlName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy"}}}}},i3={serializedName:"CorsRule",type:{name:"Composite",className:"CorsRule",modelProperties:{allowedOrigins:{serializedName:"AllowedOrigins",required:!0,xmlName:"AllowedOrigins",type:{name:"String"}},allowedMethods:{serializedName:"AllowedMethods",required:!0,xmlName:"AllowedMethods",type:{name:"String"}},allowedHeaders:{serializedName:"AllowedHeaders",required:!0,xmlName:"AllowedHeaders",type:{name:"String"}},exposedHeaders:{serializedName:"ExposedHeaders",required:!0,xmlName:"ExposedHeaders",type:{name:"String"}},maxAgeInSeconds:{constraints:{InclusiveMinimum:0},serializedName:"MaxAgeInSeconds",required:!0,xmlName:"MaxAgeInSeconds",type:{name:"Number"}}}}},s3={serializedName:"StaticWebsite",type:{name:"Composite",className:"StaticWebsite",modelProperties:{enabled:{serializedName:"Enabled",required:!0,xmlName:"Enabled",type:{name:"Boolean"}},indexDocument:{serializedName:"IndexDocument",xmlName:"IndexDocument",type:{name:"String"}},errorDocument404Path:{serializedName:"ErrorDocument404Path",xmlName:"ErrorDocument404Path",type:{name:"String"}},defaultIndexDocumentPath:{serializedName:"DefaultIndexDocumentPath",xmlName:"DefaultIndexDocumentPath",type:{name:"String"}}}}},le={serializedName:"StorageError",type:{name:"Composite",className:"StorageError",modelProperties:{message:{serializedName:"Message",xmlName:"Message",type:{name:"String"}},code:{serializedName:"Code",xmlName:"Code",type:{name:"String"}},authenticationErrorDetail:{serializedName:"AuthenticationErrorDetail",xmlName:"AuthenticationErrorDetail",type:{name:"String"}}}}},BI={serializedName:"BlobServiceStatistics",xmlName:"StorageServiceStats",type:{name:"Composite",className:"BlobServiceStatistics",modelProperties:{geoReplication:{serializedName:"GeoReplication",xmlName:"GeoReplication",type:{name:"Composite",className:"GeoReplication"}}}}},o3={serializedName:"GeoReplication",type:{name:"Composite",className:"GeoReplication",modelProperties:{status:{serializedName:"Status",required:!0,xmlName:"Status",type:{name:"Enum",allowedValues:["live","bootstrap","unavailable"]}},lastSyncOn:{serializedName:"LastSyncTime",required:!0,xmlName:"LastSyncTime",type:{name:"DateTimeRfc1123"}}}}},LI={serializedName:"ListContainersSegmentResponse",xmlName:"EnumerationResults",type:{name:"Composite",className:"ListContainersSegmentResponse",modelProperties:{serviceEndpoint:{serializedName:"ServiceEndpoint",required:!0,xmlName:"ServiceEndpoint",xmlIsAttribute:!0,type:{name:"String"}},prefix:{serializedName:"Prefix",xmlName:"Prefix",type:{name:"String"}},marker:{serializedName:"Marker",xmlName:"Marker",type:{name:"String"}},maxPageSize:{serializedName:"MaxResults",xmlName:"MaxResults",type:{name:"Number"}},containerItems:{serializedName:"ContainerItems",required:!0,xmlName:"Containers",xmlIsWrapped:!0,xmlElementName:"Container",type:{name:"Sequence",element:{type:{name:"Composite",className:"ContainerItem"}}}},continuationToken:{serializedName:"NextMarker",xmlName:"NextMarker",type:{name:"String"}}}}},a3={serializedName:"ContainerItem",xmlName:"Container",type:{name:"Composite",className:"ContainerItem",modelProperties:{name:{serializedName:"Name",required:!0,xmlName:"Name",type:{name:"String"}},deleted:{serializedName:"Deleted",xmlName:"Deleted",type:{name:"Boolean"}},version:{serializedName:"Version",xmlName:"Version",type:{name:"String"}},properties:{serializedName:"Properties",xmlName:"Properties",type:{name:"Composite",className:"ContainerProperties"}},metadata:{serializedName:"Metadata",xmlName:"Metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},c3={serializedName:"ContainerProperties",type:{name:"Composite",className:"ContainerProperties",modelProperties:{lastModified:{serializedName:"Last-Modified",required:!0,xmlName:"Last-Modified",type:{name:"DateTimeRfc1123"}},etag:{serializedName:"Etag",required:!0,xmlName:"Etag",type:{name:"String"}},leaseStatus:{serializedName:"LeaseStatus",xmlName:"LeaseStatus",type:{name:"Enum",allowedValues:["locked","unlocked"]}},leaseState:{serializedName:"LeaseState",xmlName:"LeaseState",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseDuration:{serializedName:"LeaseDuration",xmlName:"LeaseDuration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},publicAccess:{serializedName:"PublicAccess",xmlName:"PublicAccess",type:{name:"Enum",allowedValues:["container","blob"]}},hasImmutabilityPolicy:{serializedName:"HasImmutabilityPolicy",xmlName:"HasImmutabilityPolicy",type:{name:"Boolean"}},hasLegalHold:{serializedName:"HasLegalHold",xmlName:"HasLegalHold",type:{name:"Boolean"}},defaultEncryptionScope:{serializedName:"DefaultEncryptionScope",xmlName:"DefaultEncryptionScope",type:{name:"String"}},preventEncryptionScopeOverride:{serializedName:"DenyEncryptionScopeOverride",xmlName:"DenyEncryptionScopeOverride",type:{name:"Boolean"}},deletedOn:{serializedName:"DeletedTime",xmlName:"DeletedTime",type:{name:"DateTimeRfc1123"}},remainingRetentionDays:{serializedName:"RemainingRetentionDays",xmlName:"RemainingRetentionDays",type:{name:"Number"}},isImmutableStorageWithVersioningEnabled:{serializedName:"ImmutableStorageWithVersioningEnabled",xmlName:"ImmutableStorageWithVersioningEnabled",type:{name:"Boolean"}}}}},jI={serializedName:"KeyInfo",type:{name:"Composite",className:"KeyInfo",modelProperties:{startsOn:{serializedName:"Start",required:!0,xmlName:"Start",type:{name:"String"}},expiresOn:{serializedName:"Expiry",required:!0,xmlName:"Expiry",type:{name:"String"}}}}},qI={serializedName:"UserDelegationKey",type:{name:"Composite",className:"UserDelegationKey",modelProperties:{signedObjectId:{serializedName:"SignedOid",required:!0,xmlName:"SignedOid",type:{name:"String"}},signedTenantId:{serializedName:"SignedTid",required:!0,xmlName:"SignedTid",type:{name:"String"}},signedStartsOn:{serializedName:"SignedStart",required:!0,xmlName:"SignedStart",type:{name:"String"}},signedExpiresOn:{serializedName:"SignedExpiry",required:!0,xmlName:"SignedExpiry",type:{name:"String"}},signedService:{serializedName:"SignedService",required:!0,xmlName:"SignedService",type:{name:"String"}},signedVersion:{serializedName:"SignedVersion",required:!0,xmlName:"SignedVersion",type:{name:"String"}},value:{serializedName:"Value",required:!0,xmlName:"Value",type:{name:"String"}}}}},Qy={serializedName:"FilterBlobSegment",xmlName:"EnumerationResults",type:{name:"Composite",className:"FilterBlobSegment",modelProperties:{serviceEndpoint:{serializedName:"ServiceEndpoint",required:!0,xmlName:"ServiceEndpoint",xmlIsAttribute:!0,type:{name:"String"}},where:{serializedName:"Where",required:!0,xmlName:"Where",type:{name:"String"}},blobs:{serializedName:"Blobs",required:!0,xmlName:"Blobs",xmlIsWrapped:!0,xmlElementName:"Blob",type:{name:"Sequence",element:{type:{name:"Composite",className:"FilterBlobItem"}}}},continuationToken:{serializedName:"NextMarker",xmlName:"NextMarker",type:{name:"String"}}}}},l3={serializedName:"FilterBlobItem",xmlName:"Blob",type:{name:"Composite",className:"FilterBlobItem",modelProperties:{name:{serializedName:"Name",required:!0,xmlName:"Name",type:{name:"String"}},containerName:{serializedName:"ContainerName",required:!0,xmlName:"ContainerName",type:{name:"String"}},tags:{serializedName:"Tags",xmlName:"Tags",type:{name:"Composite",className:"BlobTags"}}}}},Xy={serializedName:"BlobTags",xmlName:"Tags",type:{name:"Composite",className:"BlobTags",modelProperties:{blobTagSet:{serializedName:"BlobTagSet",required:!0,xmlName:"TagSet",xmlIsWrapped:!0,xmlElementName:"Tag",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobTag"}}}}}}},u3={serializedName:"BlobTag",xmlName:"Tag",type:{name:"Composite",className:"BlobTag",modelProperties:{key:{serializedName:"Key",required:!0,xmlName:"Key",type:{name:"String"}},value:{serializedName:"Value",required:!0,xmlName:"Value",type:{name:"String"}}}}},d3={serializedName:"SignedIdentifier",xmlName:"SignedIdentifier",type:{name:"Composite",className:"SignedIdentifier",modelProperties:{id:{serializedName:"Id",required:!0,xmlName:"Id",type:{name:"String"}},accessPolicy:{serializedName:"AccessPolicy",xmlName:"AccessPolicy",type:{name:"Composite",className:"AccessPolicy"}}}}},p3={serializedName:"AccessPolicy",type:{name:"Composite",className:"AccessPolicy",modelProperties:{startsOn:{serializedName:"Start",xmlName:"Start",type:{name:"String"}},expiresOn:{serializedName:"Expiry",xmlName:"Expiry",type:{name:"String"}},permissions:{serializedName:"Permission",xmlName:"Permission",type:{name:"String"}}}}},FI={serializedName:"ListBlobsFlatSegmentResponse",xmlName:"EnumerationResults",type:{name:"Composite",className:"ListBlobsFlatSegmentResponse",modelProperties:{serviceEndpoint:{serializedName:"ServiceEndpoint",required:!0,xmlName:"ServiceEndpoint",xmlIsAttribute:!0,type:{name:"String"}},containerName:{serializedName:"ContainerName",required:!0,xmlName:"ContainerName",xmlIsAttribute:!0,type:{name:"String"}},prefix:{serializedName:"Prefix",xmlName:"Prefix",type:{name:"String"}},marker:{serializedName:"Marker",xmlName:"Marker",type:{name:"String"}},maxPageSize:{serializedName:"MaxResults",xmlName:"MaxResults",type:{name:"Number"}},segment:{serializedName:"Segment",xmlName:"Blobs",type:{name:"Composite",className:"BlobFlatListSegment"}},continuationToken:{serializedName:"NextMarker",xmlName:"NextMarker",type:{name:"String"}}}}},m3={serializedName:"BlobFlatListSegment",xmlName:"Blobs",type:{name:"Composite",className:"BlobFlatListSegment",modelProperties:{blobItems:{serializedName:"BlobItems",required:!0,xmlName:"BlobItems",xmlElementName:"Blob",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobItemInternal"}}}}}}},h3={serializedName:"BlobItemInternal",xmlName:"Blob",type:{name:"Composite",className:"BlobItemInternal",modelProperties:{name:{serializedName:"Name",xmlName:"Name",type:{name:"Composite",className:"BlobName"}},deleted:{serializedName:"Deleted",required:!0,xmlName:"Deleted",type:{name:"Boolean"}},snapshot:{serializedName:"Snapshot",required:!0,xmlName:"Snapshot",type:{name:"String"}},versionId:{serializedName:"VersionId",xmlName:"VersionId",type:{name:"String"}},isCurrentVersion:{serializedName:"IsCurrentVersion",xmlName:"IsCurrentVersion",type:{name:"Boolean"}},properties:{serializedName:"Properties",xmlName:"Properties",type:{name:"Composite",className:"BlobPropertiesInternal"}},metadata:{serializedName:"Metadata",xmlName:"Metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}},blobTags:{serializedName:"BlobTags",xmlName:"Tags",type:{name:"Composite",className:"BlobTags"}},objectReplicationMetadata:{serializedName:"ObjectReplicationMetadata",xmlName:"OrMetadata",type:{name:"Dictionary",value:{type:{name:"String"}}}},hasVersionsOnly:{serializedName:"HasVersionsOnly",xmlName:"HasVersionsOnly",type:{name:"Boolean"}}}}},f3={serializedName:"BlobName",type:{name:"Composite",className:"BlobName",modelProperties:{encoded:{serializedName:"Encoded",xmlName:"Encoded",xmlIsAttribute:!0,type:{name:"Boolean"}},content:{serializedName:"content",xmlName:"content",xmlIsMsText:!0,type:{name:"String"}}}}},g3={serializedName:"BlobPropertiesInternal",xmlName:"Properties",type:{name:"Composite",className:"BlobPropertiesInternal",modelProperties:{createdOn:{serializedName:"Creation-Time",xmlName:"Creation-Time",type:{name:"DateTimeRfc1123"}},lastModified:{serializedName:"Last-Modified",required:!0,xmlName:"Last-Modified",type:{name:"DateTimeRfc1123"}},etag:{serializedName:"Etag",required:!0,xmlName:"Etag",type:{name:"String"}},contentLength:{serializedName:"Content-Length",xmlName:"Content-Length",type:{name:"Number"}},contentType:{serializedName:"Content-Type",xmlName:"Content-Type",type:{name:"String"}},contentEncoding:{serializedName:"Content-Encoding",xmlName:"Content-Encoding",type:{name:"String"}},contentLanguage:{serializedName:"Content-Language",xmlName:"Content-Language",type:{name:"String"}},contentMD5:{serializedName:"Content-MD5",xmlName:"Content-MD5",type:{name:"ByteArray"}},contentDisposition:{serializedName:"Content-Disposition",xmlName:"Content-Disposition",type:{name:"String"}},cacheControl:{serializedName:"Cache-Control",xmlName:"Cache-Control",type:{name:"String"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},blobType:{serializedName:"BlobType",xmlName:"BlobType",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},leaseStatus:{serializedName:"LeaseStatus",xmlName:"LeaseStatus",type:{name:"Enum",allowedValues:["locked","unlocked"]}},leaseState:{serializedName:"LeaseState",xmlName:"LeaseState",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseDuration:{serializedName:"LeaseDuration",xmlName:"LeaseDuration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},copyId:{serializedName:"CopyId",xmlName:"CopyId",type:{name:"String"}},copyStatus:{serializedName:"CopyStatus",xmlName:"CopyStatus",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},copySource:{serializedName:"CopySource",xmlName:"CopySource",type:{name:"String"}},copyProgress:{serializedName:"CopyProgress",xmlName:"CopyProgress",type:{name:"String"}},copyCompletedOn:{serializedName:"CopyCompletionTime",xmlName:"CopyCompletionTime",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"CopyStatusDescription",xmlName:"CopyStatusDescription",type:{name:"String"}},serverEncrypted:{serializedName:"ServerEncrypted",xmlName:"ServerEncrypted",type:{name:"Boolean"}},incrementalCopy:{serializedName:"IncrementalCopy",xmlName:"IncrementalCopy",type:{name:"Boolean"}},destinationSnapshot:{serializedName:"DestinationSnapshot",xmlName:"DestinationSnapshot",type:{name:"String"}},deletedOn:{serializedName:"DeletedTime",xmlName:"DeletedTime",type:{name:"DateTimeRfc1123"}},remainingRetentionDays:{serializedName:"RemainingRetentionDays",xmlName:"RemainingRetentionDays",type:{name:"Number"}},accessTier:{serializedName:"AccessTier",xmlName:"AccessTier",type:{name:"Enum",allowedValues:["P4","P6","P10","P15","P20","P30","P40","P50","P60","P70","P80","Hot","Cool","Archive","Cold"]}},accessTierInferred:{serializedName:"AccessTierInferred",xmlName:"AccessTierInferred",type:{name:"Boolean"}},archiveStatus:{serializedName:"ArchiveStatus",xmlName:"ArchiveStatus",type:{name:"Enum",allowedValues:["rehydrate-pending-to-hot","rehydrate-pending-to-cool","rehydrate-pending-to-cold"]}},customerProvidedKeySha256:{serializedName:"CustomerProvidedKeySha256",xmlName:"CustomerProvidedKeySha256",type:{name:"String"}},encryptionScope:{serializedName:"EncryptionScope",xmlName:"EncryptionScope",type:{name:"String"}},accessTierChangedOn:{serializedName:"AccessTierChangeTime",xmlName:"AccessTierChangeTime",type:{name:"DateTimeRfc1123"}},tagCount:{serializedName:"TagCount",xmlName:"TagCount",type:{name:"Number"}},expiresOn:{serializedName:"Expiry-Time",xmlName:"Expiry-Time",type:{name:"DateTimeRfc1123"}},isSealed:{serializedName:"Sealed",xmlName:"Sealed",type:{name:"Boolean"}},rehydratePriority:{serializedName:"RehydratePriority",xmlName:"RehydratePriority",type:{name:"Enum",allowedValues:["High","Standard"]}},lastAccessedOn:{serializedName:"LastAccessTime",xmlName:"LastAccessTime",type:{name:"DateTimeRfc1123"}},immutabilityPolicyExpiresOn:{serializedName:"ImmutabilityPolicyUntilDate",xmlName:"ImmutabilityPolicyUntilDate",type:{name:"DateTimeRfc1123"}},immutabilityPolicyMode:{serializedName:"ImmutabilityPolicyMode",xmlName:"ImmutabilityPolicyMode",type:{name:"Enum",allowedValues:["Mutable","Unlocked","Locked"]}},legalHold:{serializedName:"LegalHold",xmlName:"LegalHold",type:{name:"Boolean"}}}}},HI={serializedName:"ListBlobsHierarchySegmentResponse",xmlName:"EnumerationResults",type:{name:"Composite",className:"ListBlobsHierarchySegmentResponse",modelProperties:{serviceEndpoint:{serializedName:"ServiceEndpoint",required:!0,xmlName:"ServiceEndpoint",xmlIsAttribute:!0,type:{name:"String"}},containerName:{serializedName:"ContainerName",required:!0,xmlName:"ContainerName",xmlIsAttribute:!0,type:{name:"String"}},prefix:{serializedName:"Prefix",xmlName:"Prefix",type:{name:"String"}},marker:{serializedName:"Marker",xmlName:"Marker",type:{name:"String"}},maxPageSize:{serializedName:"MaxResults",xmlName:"MaxResults",type:{name:"Number"}},delimiter:{serializedName:"Delimiter",xmlName:"Delimiter",type:{name:"String"}},segment:{serializedName:"Segment",xmlName:"Blobs",type:{name:"Composite",className:"BlobHierarchyListSegment"}},continuationToken:{serializedName:"NextMarker",xmlName:"NextMarker",type:{name:"String"}}}}},v3={serializedName:"BlobHierarchyListSegment",xmlName:"Blobs",type:{name:"Composite",className:"BlobHierarchyListSegment",modelProperties:{blobPrefixes:{serializedName:"BlobPrefixes",xmlName:"BlobPrefixes",xmlElementName:"BlobPrefix",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobPrefix"}}}},blobItems:{serializedName:"BlobItems",required:!0,xmlName:"BlobItems",xmlElementName:"Blob",type:{name:"Sequence",element:{type:{name:"Composite",className:"BlobItemInternal"}}}}}}},y3={serializedName:"BlobPrefix",type:{name:"Composite",className:"BlobPrefix",modelProperties:{name:{serializedName:"Name",xmlName:"Name",type:{name:"Composite",className:"BlobName"}}}}},UI={serializedName:"BlockLookupList",xmlName:"BlockList",type:{name:"Composite",className:"BlockLookupList",modelProperties:{committed:{serializedName:"Committed",xmlName:"Committed",xmlElementName:"Committed",type:{name:"Sequence",element:{type:{name:"String"}}}},uncommitted:{serializedName:"Uncommitted",xmlName:"Uncommitted",xmlElementName:"Uncommitted",type:{name:"Sequence",element:{type:{name:"String"}}}},latest:{serializedName:"Latest",xmlName:"Latest",xmlElementName:"Latest",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},$I={serializedName:"BlockList",type:{name:"Composite",className:"BlockList",modelProperties:{committedBlocks:{serializedName:"CommittedBlocks",xmlName:"CommittedBlocks",xmlIsWrapped:!0,xmlElementName:"Block",type:{name:"Sequence",element:{type:{name:"Composite",className:"Block"}}}},uncommittedBlocks:{serializedName:"UncommittedBlocks",xmlName:"UncommittedBlocks",xmlIsWrapped:!0,xmlElementName:"Block",type:{name:"Sequence",element:{type:{name:"Composite",className:"Block"}}}}}}},S3={serializedName:"Block",type:{name:"Composite",className:"Block",modelProperties:{name:{serializedName:"Name",required:!0,xmlName:"Name",type:{name:"String"}},size:{serializedName:"Size",required:!0,xmlName:"Size",type:{name:"Number"}}}}},Yy={serializedName:"PageList",type:{name:"Composite",className:"PageList",modelProperties:{pageRange:{serializedName:"PageRange",xmlName:"PageRange",xmlElementName:"PageRange",type:{name:"Sequence",element:{type:{name:"Composite",className:"PageRange"}}}},clearRange:{serializedName:"ClearRange",xmlName:"ClearRange",xmlElementName:"ClearRange",type:{name:"Sequence",element:{type:{name:"Composite",className:"ClearRange"}}}},continuationToken:{serializedName:"NextMarker",xmlName:"NextMarker",type:{name:"String"}}}}},C3={serializedName:"PageRange",xmlName:"PageRange",type:{name:"Composite",className:"PageRange",modelProperties:{start:{serializedName:"Start",required:!0,xmlName:"Start",type:{name:"Number"}},end:{serializedName:"End",required:!0,xmlName:"End",type:{name:"Number"}}}}},x3={serializedName:"ClearRange",xmlName:"ClearRange",type:{name:"Composite",className:"ClearRange",modelProperties:{start:{serializedName:"Start",required:!0,xmlName:"Start",type:{name:"Number"}},end:{serializedName:"End",required:!0,xmlName:"End",type:{name:"Number"}}}}},WI={serializedName:"QueryRequest",xmlName:"QueryRequest",type:{name:"Composite",className:"QueryRequest",modelProperties:{queryType:{serializedName:"QueryType",required:!0,xmlName:"QueryType",type:{name:"String"}},expression:{serializedName:"Expression",required:!0,xmlName:"Expression",type:{name:"String"}},inputSerialization:{serializedName:"InputSerialization",xmlName:"InputSerialization",type:{name:"Composite",className:"QuerySerialization"}},outputSerialization:{serializedName:"OutputSerialization",xmlName:"OutputSerialization",type:{name:"Composite",className:"QuerySerialization"}}}}},P3={serializedName:"QuerySerialization",type:{name:"Composite",className:"QuerySerialization",modelProperties:{format:{serializedName:"Format",xmlName:"Format",type:{name:"Composite",className:"QueryFormat"}}}}},R3={serializedName:"QueryFormat",type:{name:"Composite",className:"QueryFormat",modelProperties:{type:{serializedName:"Type",required:!0,xmlName:"Type",type:{name:"Enum",allowedValues:["delimited","json","arrow","parquet"]}},delimitedTextConfiguration:{serializedName:"DelimitedTextConfiguration",xmlName:"DelimitedTextConfiguration",type:{name:"Composite",className:"DelimitedTextConfiguration"}},jsonTextConfiguration:{serializedName:"JsonTextConfiguration",xmlName:"JsonTextConfiguration",type:{name:"Composite",className:"JsonTextConfiguration"}},arrowConfiguration:{serializedName:"ArrowConfiguration",xmlName:"ArrowConfiguration",type:{name:"Composite",className:"ArrowConfiguration"}},parquetTextConfiguration:{serializedName:"ParquetTextConfiguration",xmlName:"ParquetTextConfiguration",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},w3={serializedName:"DelimitedTextConfiguration",xmlName:"DelimitedTextConfiguration",type:{name:"Composite",className:"DelimitedTextConfiguration",modelProperties:{columnSeparator:{serializedName:"ColumnSeparator",xmlName:"ColumnSeparator",type:{name:"String"}},fieldQuote:{serializedName:"FieldQuote",xmlName:"FieldQuote",type:{name:"String"}},recordSeparator:{serializedName:"RecordSeparator",xmlName:"RecordSeparator",type:{name:"String"}},escapeChar:{serializedName:"EscapeChar",xmlName:"EscapeChar",type:{name:"String"}},headersPresent:{serializedName:"HeadersPresent",xmlName:"HasHeaders",type:{name:"Boolean"}}}}},b3={serializedName:"JsonTextConfiguration",xmlName:"JsonTextConfiguration",type:{name:"Composite",className:"JsonTextConfiguration",modelProperties:{recordSeparator:{serializedName:"RecordSeparator",xmlName:"RecordSeparator",type:{name:"String"}}}}},N3={serializedName:"ArrowConfiguration",xmlName:"ArrowConfiguration",type:{name:"Composite",className:"ArrowConfiguration",modelProperties:{schema:{serializedName:"Schema",required:!0,xmlName:"Schema",xmlIsWrapped:!0,xmlElementName:"Field",type:{name:"Sequence",element:{type:{name:"Composite",className:"ArrowField"}}}}}}},E3={serializedName:"ArrowField",xmlName:"Field",type:{name:"Composite",className:"ArrowField",modelProperties:{type:{serializedName:"Type",required:!0,xmlName:"Type",type:{name:"String"}},name:{serializedName:"Name",xmlName:"Name",type:{name:"String"}},precision:{serializedName:"Precision",xmlName:"Precision",type:{name:"Number"}},scale:{serializedName:"Scale",xmlName:"Scale",type:{name:"Number"}}}}},VI={serializedName:"Service_setPropertiesHeaders",type:{name:"Composite",className:"ServiceSetPropertiesHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},KI={serializedName:"Service_setPropertiesExceptionHeaders",type:{name:"Composite",className:"ServiceSetPropertiesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},GI={serializedName:"Service_getPropertiesHeaders",type:{name:"Composite",className:"ServiceGetPropertiesHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},JI={serializedName:"Service_getPropertiesExceptionHeaders",type:{name:"Composite",className:"ServiceGetPropertiesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},QI={serializedName:"Service_getStatisticsHeaders",type:{name:"Composite",className:"ServiceGetStatisticsHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},XI={serializedName:"Service_getStatisticsExceptionHeaders",type:{name:"Composite",className:"ServiceGetStatisticsExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},YI={serializedName:"Service_listContainersSegmentHeaders",type:{name:"Composite",className:"ServiceListContainersSegmentHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},ZI={serializedName:"Service_listContainersSegmentExceptionHeaders",type:{name:"Composite",className:"ServiceListContainersSegmentExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},e1={serializedName:"Service_getUserDelegationKeyHeaders",type:{name:"Composite",className:"ServiceGetUserDelegationKeyHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},t1={serializedName:"Service_getUserDelegationKeyExceptionHeaders",type:{name:"Composite",className:"ServiceGetUserDelegationKeyExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},r1={serializedName:"Service_getAccountInfoHeaders",type:{name:"Composite",className:"ServiceGetAccountInfoHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},skuName:{serializedName:"x-ms-sku-name",xmlName:"x-ms-sku-name",type:{name:"Enum",allowedValues:["Standard_LRS","Standard_GRS","Standard_RAGRS","Standard_ZRS","Premium_LRS"]}},accountKind:{serializedName:"x-ms-account-kind",xmlName:"x-ms-account-kind",type:{name:"Enum",allowedValues:["Storage","BlobStorage","StorageV2","FileStorage","BlockBlobStorage"]}},isHierarchicalNamespaceEnabled:{serializedName:"x-ms-is-hns-enabled",xmlName:"x-ms-is-hns-enabled",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},n1={serializedName:"Service_getAccountInfoExceptionHeaders",type:{name:"Composite",className:"ServiceGetAccountInfoExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},i1={serializedName:"Service_submitBatchHeaders",type:{name:"Composite",className:"ServiceSubmitBatchHeaders",modelProperties:{contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},s1={serializedName:"Service_submitBatchExceptionHeaders",type:{name:"Composite",className:"ServiceSubmitBatchExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},o1={serializedName:"Service_filterBlobsHeaders",type:{name:"Composite",className:"ServiceFilterBlobsHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},a1={serializedName:"Service_filterBlobsExceptionHeaders",type:{name:"Composite",className:"ServiceFilterBlobsExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},c1={serializedName:"Container_createHeaders",type:{name:"Composite",className:"ContainerCreateHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},l1={serializedName:"Container_createExceptionHeaders",type:{name:"Composite",className:"ContainerCreateExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},u1={serializedName:"Container_getPropertiesHeaders",type:{name:"Composite",className:"ContainerGetPropertiesHeaders",modelProperties:{metadata:{serializedName:"x-ms-meta",headerCollectionPrefix:"x-ms-meta-",xmlName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseDuration:{serializedName:"x-ms-lease-duration",xmlName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",xmlName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",xmlName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},blobPublicAccess:{serializedName:"x-ms-blob-public-access",xmlName:"x-ms-blob-public-access",type:{name:"Enum",allowedValues:["container","blob"]}},hasImmutabilityPolicy:{serializedName:"x-ms-has-immutability-policy",xmlName:"x-ms-has-immutability-policy",type:{name:"Boolean"}},hasLegalHold:{serializedName:"x-ms-has-legal-hold",xmlName:"x-ms-has-legal-hold",type:{name:"Boolean"}},defaultEncryptionScope:{serializedName:"x-ms-default-encryption-scope",xmlName:"x-ms-default-encryption-scope",type:{name:"String"}},denyEncryptionScopeOverride:{serializedName:"x-ms-deny-encryption-scope-override",xmlName:"x-ms-deny-encryption-scope-override",type:{name:"Boolean"}},isImmutableStorageWithVersioningEnabled:{serializedName:"x-ms-immutable-storage-with-versioning-enabled",xmlName:"x-ms-immutable-storage-with-versioning-enabled",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},d1={serializedName:"Container_getPropertiesExceptionHeaders",type:{name:"Composite",className:"ContainerGetPropertiesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},p1={serializedName:"Container_deleteHeaders",type:{name:"Composite",className:"ContainerDeleteHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},m1={serializedName:"Container_deleteExceptionHeaders",type:{name:"Composite",className:"ContainerDeleteExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},h1={serializedName:"Container_setMetadataHeaders",type:{name:"Composite",className:"ContainerSetMetadataHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},f1={serializedName:"Container_setMetadataExceptionHeaders",type:{name:"Composite",className:"ContainerSetMetadataExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},g1={serializedName:"Container_getAccessPolicyHeaders",type:{name:"Composite",className:"ContainerGetAccessPolicyHeaders",modelProperties:{blobPublicAccess:{serializedName:"x-ms-blob-public-access",xmlName:"x-ms-blob-public-access",type:{name:"Enum",allowedValues:["container","blob"]}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},v1={serializedName:"Container_getAccessPolicyExceptionHeaders",type:{name:"Composite",className:"ContainerGetAccessPolicyExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},y1={serializedName:"Container_setAccessPolicyHeaders",type:{name:"Composite",className:"ContainerSetAccessPolicyHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},S1={serializedName:"Container_setAccessPolicyExceptionHeaders",type:{name:"Composite",className:"ContainerSetAccessPolicyExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},C1={serializedName:"Container_restoreHeaders",type:{name:"Composite",className:"ContainerRestoreHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},x1={serializedName:"Container_restoreExceptionHeaders",type:{name:"Composite",className:"ContainerRestoreExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},P1={serializedName:"Container_renameHeaders",type:{name:"Composite",className:"ContainerRenameHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},R1={serializedName:"Container_renameExceptionHeaders",type:{name:"Composite",className:"ContainerRenameExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},w1={serializedName:"Container_submitBatchHeaders",type:{name:"Composite",className:"ContainerSubmitBatchHeaders",modelProperties:{contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}}}}},b1={serializedName:"Container_submitBatchExceptionHeaders",type:{name:"Composite",className:"ContainerSubmitBatchExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},N1={serializedName:"Container_filterBlobsHeaders",type:{name:"Composite",className:"ContainerFilterBlobsHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},E1={serializedName:"Container_filterBlobsExceptionHeaders",type:{name:"Composite",className:"ContainerFilterBlobsExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},T1={serializedName:"Container_acquireLeaseHeaders",type:{name:"Composite",className:"ContainerAcquireLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},I1={serializedName:"Container_acquireLeaseExceptionHeaders",type:{name:"Composite",className:"ContainerAcquireLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},A1={serializedName:"Container_releaseLeaseHeaders",type:{name:"Composite",className:"ContainerReleaseLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},_1={serializedName:"Container_releaseLeaseExceptionHeaders",type:{name:"Composite",className:"ContainerReleaseLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},z1={serializedName:"Container_renewLeaseHeaders",type:{name:"Composite",className:"ContainerRenewLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},M1={serializedName:"Container_renewLeaseExceptionHeaders",type:{name:"Composite",className:"ContainerRenewLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},k1={serializedName:"Container_breakLeaseHeaders",type:{name:"Composite",className:"ContainerBreakLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseTime:{serializedName:"x-ms-lease-time",xmlName:"x-ms-lease-time",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},O1={serializedName:"Container_breakLeaseExceptionHeaders",type:{name:"Composite",className:"ContainerBreakLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},D1={serializedName:"Container_changeLeaseHeaders",type:{name:"Composite",className:"ContainerChangeLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},B1={serializedName:"Container_changeLeaseExceptionHeaders",type:{name:"Composite",className:"ContainerChangeLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},L1={serializedName:"Container_listBlobFlatSegmentHeaders",type:{name:"Composite",className:"ContainerListBlobFlatSegmentHeaders",modelProperties:{contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},j1={serializedName:"Container_listBlobFlatSegmentExceptionHeaders",type:{name:"Composite",className:"ContainerListBlobFlatSegmentExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},q1={serializedName:"Container_listBlobHierarchySegmentHeaders",type:{name:"Composite",className:"ContainerListBlobHierarchySegmentHeaders",modelProperties:{contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},F1={serializedName:"Container_listBlobHierarchySegmentExceptionHeaders",type:{name:"Composite",className:"ContainerListBlobHierarchySegmentExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},H1={serializedName:"Container_getAccountInfoHeaders",type:{name:"Composite",className:"ContainerGetAccountInfoHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},skuName:{serializedName:"x-ms-sku-name",xmlName:"x-ms-sku-name",type:{name:"Enum",allowedValues:["Standard_LRS","Standard_GRS","Standard_RAGRS","Standard_ZRS","Premium_LRS"]}},accountKind:{serializedName:"x-ms-account-kind",xmlName:"x-ms-account-kind",type:{name:"Enum",allowedValues:["Storage","BlobStorage","StorageV2","FileStorage","BlockBlobStorage"]}},isHierarchicalNamespaceEnabled:{serializedName:"x-ms-is-hns-enabled",xmlName:"x-ms-is-hns-enabled",type:{name:"Boolean"}}}}},U1={serializedName:"Container_getAccountInfoExceptionHeaders",type:{name:"Composite",className:"ContainerGetAccountInfoExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},iy={serializedName:"Blob_downloadHeaders",type:{name:"Composite",className:"BlobDownloadHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},createdOn:{serializedName:"x-ms-creation-time",xmlName:"x-ms-creation-time",type:{name:"DateTimeRfc1123"}},metadata:{serializedName:"x-ms-meta",headerCollectionPrefix:"x-ms-meta-",xmlName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}}},objectReplicationPolicyId:{serializedName:"x-ms-or-policy-id",xmlName:"x-ms-or-policy-id",type:{name:"String"}},objectReplicationRules:{serializedName:"x-ms-or",headerCollectionPrefix:"x-ms-or-",xmlName:"x-ms-or",type:{name:"Dictionary",value:{type:{name:"String"}}}},contentLength:{serializedName:"content-length",xmlName:"content-length",type:{name:"Number"}},contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},contentRange:{serializedName:"content-range",xmlName:"content-range",type:{name:"String"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},contentEncoding:{serializedName:"content-encoding",xmlName:"content-encoding",type:{name:"String"}},cacheControl:{serializedName:"cache-control",xmlName:"cache-control",type:{name:"String"}},contentDisposition:{serializedName:"content-disposition",xmlName:"content-disposition",type:{name:"String"}},contentLanguage:{serializedName:"content-language",xmlName:"content-language",type:{name:"String"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},blobType:{serializedName:"x-ms-blob-type",xmlName:"x-ms-blob-type",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},copyCompletedOn:{serializedName:"x-ms-copy-completion-time",xmlName:"x-ms-copy-completion-time",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"x-ms-copy-status-description",xmlName:"x-ms-copy-status-description",type:{name:"String"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyProgress:{serializedName:"x-ms-copy-progress",xmlName:"x-ms-copy-progress",type:{name:"String"}},copySource:{serializedName:"x-ms-copy-source",xmlName:"x-ms-copy-source",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",xmlName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},leaseDuration:{serializedName:"x-ms-lease-duration",xmlName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",xmlName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",xmlName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},isCurrentVersion:{serializedName:"x-ms-is-current-version",xmlName:"x-ms-is-current-version",type:{name:"Boolean"}},acceptRanges:{serializedName:"accept-ranges",xmlName:"accept-ranges",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",xmlName:"x-ms-blob-committed-block-count",type:{name:"Number"}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",xmlName:"x-ms-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},blobContentMD5:{serializedName:"x-ms-blob-content-md5",xmlName:"x-ms-blob-content-md5",type:{name:"ByteArray"}},tagCount:{serializedName:"x-ms-tag-count",xmlName:"x-ms-tag-count",type:{name:"Number"}},isSealed:{serializedName:"x-ms-blob-sealed",xmlName:"x-ms-blob-sealed",type:{name:"Boolean"}},lastAccessed:{serializedName:"x-ms-last-access-time",xmlName:"x-ms-last-access-time",type:{name:"DateTimeRfc1123"}},immutabilityPolicyExpiresOn:{serializedName:"x-ms-immutability-policy-until-date",xmlName:"x-ms-immutability-policy-until-date",type:{name:"DateTimeRfc1123"}},immutabilityPolicyMode:{serializedName:"x-ms-immutability-policy-mode",xmlName:"x-ms-immutability-policy-mode",type:{name:"Enum",allowedValues:["Mutable","Unlocked","Locked"]}},legalHold:{serializedName:"x-ms-legal-hold",xmlName:"x-ms-legal-hold",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}},contentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}}}}},$1={serializedName:"Blob_downloadExceptionHeaders",type:{name:"Composite",className:"BlobDownloadExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},W1={serializedName:"Blob_getPropertiesHeaders",type:{name:"Composite",className:"BlobGetPropertiesHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},createdOn:{serializedName:"x-ms-creation-time",xmlName:"x-ms-creation-time",type:{name:"DateTimeRfc1123"}},metadata:{serializedName:"x-ms-meta",headerCollectionPrefix:"x-ms-meta-",xmlName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}}},objectReplicationPolicyId:{serializedName:"x-ms-or-policy-id",xmlName:"x-ms-or-policy-id",type:{name:"String"}},objectReplicationRules:{serializedName:"x-ms-or",headerCollectionPrefix:"x-ms-or-",xmlName:"x-ms-or",type:{name:"Dictionary",value:{type:{name:"String"}}}},blobType:{serializedName:"x-ms-blob-type",xmlName:"x-ms-blob-type",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},copyCompletedOn:{serializedName:"x-ms-copy-completion-time",xmlName:"x-ms-copy-completion-time",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"x-ms-copy-status-description",xmlName:"x-ms-copy-status-description",type:{name:"String"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyProgress:{serializedName:"x-ms-copy-progress",xmlName:"x-ms-copy-progress",type:{name:"String"}},copySource:{serializedName:"x-ms-copy-source",xmlName:"x-ms-copy-source",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",xmlName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},isIncrementalCopy:{serializedName:"x-ms-incremental-copy",xmlName:"x-ms-incremental-copy",type:{name:"Boolean"}},destinationSnapshot:{serializedName:"x-ms-copy-destination-snapshot",xmlName:"x-ms-copy-destination-snapshot",type:{name:"String"}},leaseDuration:{serializedName:"x-ms-lease-duration",xmlName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",xmlName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",xmlName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},contentLength:{serializedName:"content-length",xmlName:"content-length",type:{name:"Number"}},contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},contentEncoding:{serializedName:"content-encoding",xmlName:"content-encoding",type:{name:"String"}},contentDisposition:{serializedName:"content-disposition",xmlName:"content-disposition",type:{name:"String"}},contentLanguage:{serializedName:"content-language",xmlName:"content-language",type:{name:"String"}},cacheControl:{serializedName:"cache-control",xmlName:"cache-control",type:{name:"String"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},acceptRanges:{serializedName:"accept-ranges",xmlName:"accept-ranges",type:{name:"String"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",xmlName:"x-ms-blob-committed-block-count",type:{name:"Number"}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",xmlName:"x-ms-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},accessTier:{serializedName:"x-ms-access-tier",xmlName:"x-ms-access-tier",type:{name:"String"}},accessTierInferred:{serializedName:"x-ms-access-tier-inferred",xmlName:"x-ms-access-tier-inferred",type:{name:"Boolean"}},archiveStatus:{serializedName:"x-ms-archive-status",xmlName:"x-ms-archive-status",type:{name:"String"}},accessTierChangedOn:{serializedName:"x-ms-access-tier-change-time",xmlName:"x-ms-access-tier-change-time",type:{name:"DateTimeRfc1123"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},isCurrentVersion:{serializedName:"x-ms-is-current-version",xmlName:"x-ms-is-current-version",type:{name:"Boolean"}},tagCount:{serializedName:"x-ms-tag-count",xmlName:"x-ms-tag-count",type:{name:"Number"}},expiresOn:{serializedName:"x-ms-expiry-time",xmlName:"x-ms-expiry-time",type:{name:"DateTimeRfc1123"}},isSealed:{serializedName:"x-ms-blob-sealed",xmlName:"x-ms-blob-sealed",type:{name:"Boolean"}},rehydratePriority:{serializedName:"x-ms-rehydrate-priority",xmlName:"x-ms-rehydrate-priority",type:{name:"Enum",allowedValues:["High","Standard"]}},lastAccessed:{serializedName:"x-ms-last-access-time",xmlName:"x-ms-last-access-time",type:{name:"DateTimeRfc1123"}},immutabilityPolicyExpiresOn:{serializedName:"x-ms-immutability-policy-until-date",xmlName:"x-ms-immutability-policy-until-date",type:{name:"DateTimeRfc1123"}},immutabilityPolicyMode:{serializedName:"x-ms-immutability-policy-mode",xmlName:"x-ms-immutability-policy-mode",type:{name:"Enum",allowedValues:["Mutable","Unlocked","Locked"]}},legalHold:{serializedName:"x-ms-legal-hold",xmlName:"x-ms-legal-hold",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},V1={serializedName:"Blob_getPropertiesExceptionHeaders",type:{name:"Composite",className:"BlobGetPropertiesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},K1={serializedName:"Blob_deleteHeaders",type:{name:"Composite",className:"BlobDeleteHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},G1={serializedName:"Blob_deleteExceptionHeaders",type:{name:"Composite",className:"BlobDeleteExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},J1={serializedName:"Blob_undeleteHeaders",type:{name:"Composite",className:"BlobUndeleteHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Q1={serializedName:"Blob_undeleteExceptionHeaders",type:{name:"Composite",className:"BlobUndeleteExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},X1={serializedName:"Blob_setExpiryHeaders",type:{name:"Composite",className:"BlobSetExpiryHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},Y1={serializedName:"Blob_setExpiryExceptionHeaders",type:{name:"Composite",className:"BlobSetExpiryExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},Z1={serializedName:"Blob_setHttpHeadersHeaders",type:{name:"Composite",className:"BlobSetHttpHeadersHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},eA={serializedName:"Blob_setHttpHeadersExceptionHeaders",type:{name:"Composite",className:"BlobSetHttpHeadersExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},tA={serializedName:"Blob_setImmutabilityPolicyHeaders",type:{name:"Composite",className:"BlobSetImmutabilityPolicyHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},immutabilityPolicyExpiry:{serializedName:"x-ms-immutability-policy-until-date",xmlName:"x-ms-immutability-policy-until-date",type:{name:"DateTimeRfc1123"}},immutabilityPolicyMode:{serializedName:"x-ms-immutability-policy-mode",xmlName:"x-ms-immutability-policy-mode",type:{name:"Enum",allowedValues:["Mutable","Unlocked","Locked"]}}}}},rA={serializedName:"Blob_setImmutabilityPolicyExceptionHeaders",type:{name:"Composite",className:"BlobSetImmutabilityPolicyExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},nA={serializedName:"Blob_deleteImmutabilityPolicyHeaders",type:{name:"Composite",className:"BlobDeleteImmutabilityPolicyHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},iA={serializedName:"Blob_deleteImmutabilityPolicyExceptionHeaders",type:{name:"Composite",className:"BlobDeleteImmutabilityPolicyExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},sA={serializedName:"Blob_setLegalHoldHeaders",type:{name:"Composite",className:"BlobSetLegalHoldHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},legalHold:{serializedName:"x-ms-legal-hold",xmlName:"x-ms-legal-hold",type:{name:"Boolean"}}}}},oA={serializedName:"Blob_setLegalHoldExceptionHeaders",type:{name:"Composite",className:"BlobSetLegalHoldExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},aA={serializedName:"Blob_setMetadataHeaders",type:{name:"Composite",className:"BlobSetMetadataHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},cA={serializedName:"Blob_setMetadataExceptionHeaders",type:{name:"Composite",className:"BlobSetMetadataExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},lA={serializedName:"Blob_acquireLeaseHeaders",type:{name:"Composite",className:"BlobAcquireLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},uA={serializedName:"Blob_acquireLeaseExceptionHeaders",type:{name:"Composite",className:"BlobAcquireLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},dA={serializedName:"Blob_releaseLeaseHeaders",type:{name:"Composite",className:"BlobReleaseLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},pA={serializedName:"Blob_releaseLeaseExceptionHeaders",type:{name:"Composite",className:"BlobReleaseLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},mA={serializedName:"Blob_renewLeaseHeaders",type:{name:"Composite",className:"BlobRenewLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},hA={serializedName:"Blob_renewLeaseExceptionHeaders",type:{name:"Composite",className:"BlobRenewLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},fA={serializedName:"Blob_changeLeaseHeaders",type:{name:"Composite",className:"BlobChangeLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},leaseId:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},gA={serializedName:"Blob_changeLeaseExceptionHeaders",type:{name:"Composite",className:"BlobChangeLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},vA={serializedName:"Blob_breakLeaseHeaders",type:{name:"Composite",className:"BlobBreakLeaseHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},leaseTime:{serializedName:"x-ms-lease-time",xmlName:"x-ms-lease-time",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}}}}},yA={serializedName:"Blob_breakLeaseExceptionHeaders",type:{name:"Composite",className:"BlobBreakLeaseExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},SA={serializedName:"Blob_createSnapshotHeaders",type:{name:"Composite",className:"BlobCreateSnapshotHeaders",modelProperties:{snapshot:{serializedName:"x-ms-snapshot",xmlName:"x-ms-snapshot",type:{name:"String"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},CA={serializedName:"Blob_createSnapshotExceptionHeaders",type:{name:"Composite",className:"BlobCreateSnapshotExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},xA={serializedName:"Blob_startCopyFromURLHeaders",type:{name:"Composite",className:"BlobStartCopyFromURLHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",xmlName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},PA={serializedName:"Blob_startCopyFromURLExceptionHeaders",type:{name:"Composite",className:"BlobStartCopyFromURLExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},RA={serializedName:"Blob_copyFromURLHeaders",type:{name:"Composite",className:"BlobCopyFromURLHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyStatus:{defaultValue:"success",isConstant:!0,serializedName:"x-ms-copy-status",type:{name:"String"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},wA={serializedName:"Blob_copyFromURLExceptionHeaders",type:{name:"Composite",className:"BlobCopyFromURLExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},bA={serializedName:"Blob_abortCopyFromURLHeaders",type:{name:"Composite",className:"BlobAbortCopyFromURLHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},NA={serializedName:"Blob_abortCopyFromURLExceptionHeaders",type:{name:"Composite",className:"BlobAbortCopyFromURLExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},sy={serializedName:"Blob_setTierHeaders",type:{name:"Composite",className:"BlobSetTierHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},EA={serializedName:"Blob_setTierExceptionHeaders",type:{name:"Composite",className:"BlobSetTierExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},TA={serializedName:"Blob_getAccountInfoHeaders",type:{name:"Composite",className:"BlobGetAccountInfoHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},skuName:{serializedName:"x-ms-sku-name",xmlName:"x-ms-sku-name",type:{name:"Enum",allowedValues:["Standard_LRS","Standard_GRS","Standard_RAGRS","Standard_ZRS","Premium_LRS"]}},accountKind:{serializedName:"x-ms-account-kind",xmlName:"x-ms-account-kind",type:{name:"Enum",allowedValues:["Storage","BlobStorage","StorageV2","FileStorage","BlockBlobStorage"]}},isHierarchicalNamespaceEnabled:{serializedName:"x-ms-is-hns-enabled",xmlName:"x-ms-is-hns-enabled",type:{name:"Boolean"}}}}},IA={serializedName:"Blob_getAccountInfoExceptionHeaders",type:{name:"Composite",className:"BlobGetAccountInfoExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},oy={serializedName:"Blob_queryHeaders",type:{name:"Composite",className:"BlobQueryHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},metadata:{serializedName:"x-ms-meta",headerCollectionPrefix:"x-ms-meta-",xmlName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}}},contentLength:{serializedName:"content-length",xmlName:"content-length",type:{name:"Number"}},contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},contentRange:{serializedName:"content-range",xmlName:"content-range",type:{name:"String"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},contentEncoding:{serializedName:"content-encoding",xmlName:"content-encoding",type:{name:"String"}},cacheControl:{serializedName:"cache-control",xmlName:"cache-control",type:{name:"String"}},contentDisposition:{serializedName:"content-disposition",xmlName:"content-disposition",type:{name:"String"}},contentLanguage:{serializedName:"content-language",xmlName:"content-language",type:{name:"String"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},blobType:{serializedName:"x-ms-blob-type",xmlName:"x-ms-blob-type",type:{name:"Enum",allowedValues:["BlockBlob","PageBlob","AppendBlob"]}},copyCompletionTime:{serializedName:"x-ms-copy-completion-time",xmlName:"x-ms-copy-completion-time",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"x-ms-copy-status-description",xmlName:"x-ms-copy-status-description",type:{name:"String"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyProgress:{serializedName:"x-ms-copy-progress",xmlName:"x-ms-copy-progress",type:{name:"String"}},copySource:{serializedName:"x-ms-copy-source",xmlName:"x-ms-copy-source",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",xmlName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},leaseDuration:{serializedName:"x-ms-lease-duration",xmlName:"x-ms-lease-duration",type:{name:"Enum",allowedValues:["infinite","fixed"]}},leaseState:{serializedName:"x-ms-lease-state",xmlName:"x-ms-lease-state",type:{name:"Enum",allowedValues:["available","leased","expired","breaking","broken"]}},leaseStatus:{serializedName:"x-ms-lease-status",xmlName:"x-ms-lease-status",type:{name:"Enum",allowedValues:["locked","unlocked"]}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},acceptRanges:{serializedName:"accept-ranges",xmlName:"accept-ranges",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",xmlName:"x-ms-blob-committed-block-count",type:{name:"Number"}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",xmlName:"x-ms-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},blobContentMD5:{serializedName:"x-ms-blob-content-md5",xmlName:"x-ms-blob-content-md5",type:{name:"ByteArray"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}},contentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}}}}},AA={serializedName:"Blob_queryExceptionHeaders",type:{name:"Composite",className:"BlobQueryExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},_A={serializedName:"Blob_getTagsHeaders",type:{name:"Composite",className:"BlobGetTagsHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},zA={serializedName:"Blob_getTagsExceptionHeaders",type:{name:"Composite",className:"BlobGetTagsExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},MA={serializedName:"Blob_setTagsHeaders",type:{name:"Composite",className:"BlobSetTagsHeaders",modelProperties:{clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},kA={serializedName:"Blob_setTagsExceptionHeaders",type:{name:"Composite",className:"BlobSetTagsExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},OA={serializedName:"PageBlob_createHeaders",type:{name:"Composite",className:"PageBlobCreateHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},DA={serializedName:"PageBlob_createExceptionHeaders",type:{name:"Composite",className:"PageBlobCreateExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},BA={serializedName:"PageBlob_uploadPagesHeaders",type:{name:"Composite",className:"PageBlobUploadPagesHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},LA={serializedName:"PageBlob_uploadPagesExceptionHeaders",type:{name:"Composite",className:"PageBlobUploadPagesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},jA={serializedName:"PageBlob_clearPagesHeaders",type:{name:"Composite",className:"PageBlobClearPagesHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},qA={serializedName:"PageBlob_clearPagesExceptionHeaders",type:{name:"Composite",className:"PageBlobClearPagesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},FA={serializedName:"PageBlob_uploadPagesFromURLHeaders",type:{name:"Composite",className:"PageBlobUploadPagesFromURLHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},HA={serializedName:"PageBlob_uploadPagesFromURLExceptionHeaders",type:{name:"Composite",className:"PageBlobUploadPagesFromURLExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},UA={serializedName:"PageBlob_getPageRangesHeaders",type:{name:"Composite",className:"PageBlobGetPageRangesHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},blobContentLength:{serializedName:"x-ms-blob-content-length",xmlName:"x-ms-blob-content-length",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},$A={serializedName:"PageBlob_getPageRangesExceptionHeaders",type:{name:"Composite",className:"PageBlobGetPageRangesExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},WA={serializedName:"PageBlob_getPageRangesDiffHeaders",type:{name:"Composite",className:"PageBlobGetPageRangesDiffHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},blobContentLength:{serializedName:"x-ms-blob-content-length",xmlName:"x-ms-blob-content-length",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},VA={serializedName:"PageBlob_getPageRangesDiffExceptionHeaders",type:{name:"Composite",className:"PageBlobGetPageRangesDiffExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},KA={serializedName:"PageBlob_resizeHeaders",type:{name:"Composite",className:"PageBlobResizeHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},GA={serializedName:"PageBlob_resizeExceptionHeaders",type:{name:"Composite",className:"PageBlobResizeExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},JA={serializedName:"PageBlob_updateSequenceNumberHeaders",type:{name:"Composite",className:"PageBlobUpdateSequenceNumberHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},blobSequenceNumber:{serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},QA={serializedName:"PageBlob_updateSequenceNumberExceptionHeaders",type:{name:"Composite",className:"PageBlobUpdateSequenceNumberExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},XA={serializedName:"PageBlob_copyIncrementalHeaders",type:{name:"Composite",className:"PageBlobCopyIncrementalHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},copyId:{serializedName:"x-ms-copy-id",xmlName:"x-ms-copy-id",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",xmlName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},YA={serializedName:"PageBlob_copyIncrementalExceptionHeaders",type:{name:"Composite",className:"PageBlobCopyIncrementalExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},ZA={serializedName:"AppendBlob_createHeaders",type:{name:"Composite",className:"AppendBlobCreateHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},e_={serializedName:"AppendBlob_createExceptionHeaders",type:{name:"Composite",className:"AppendBlobCreateExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},t_={serializedName:"AppendBlob_appendBlockHeaders",type:{name:"Composite",className:"AppendBlobAppendBlockHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},blobAppendOffset:{serializedName:"x-ms-blob-append-offset",xmlName:"x-ms-blob-append-offset",type:{name:"String"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",xmlName:"x-ms-blob-committed-block-count",type:{name:"Number"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},r_={serializedName:"AppendBlob_appendBlockExceptionHeaders",type:{name:"Composite",className:"AppendBlobAppendBlockExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},n_={serializedName:"AppendBlob_appendBlockFromUrlHeaders",type:{name:"Composite",className:"AppendBlobAppendBlockFromUrlHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},blobAppendOffset:{serializedName:"x-ms-blob-append-offset",xmlName:"x-ms-blob-append-offset",type:{name:"String"}},blobCommittedBlockCount:{serializedName:"x-ms-blob-committed-block-count",xmlName:"x-ms-blob-committed-block-count",type:{name:"Number"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},i_={serializedName:"AppendBlob_appendBlockFromUrlExceptionHeaders",type:{name:"Composite",className:"AppendBlobAppendBlockFromUrlExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},s_={serializedName:"AppendBlob_sealHeaders",type:{name:"Composite",className:"AppendBlobSealHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isSealed:{serializedName:"x-ms-blob-sealed",xmlName:"x-ms-blob-sealed",type:{name:"Boolean"}}}}},o_={serializedName:"AppendBlob_sealExceptionHeaders",type:{name:"Composite",className:"AppendBlobSealExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},a_={serializedName:"BlockBlob_uploadHeaders",type:{name:"Composite",className:"BlockBlobUploadHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},c_={serializedName:"BlockBlob_uploadExceptionHeaders",type:{name:"Composite",className:"BlockBlobUploadExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},l_={serializedName:"BlockBlob_putBlobFromUrlHeaders",type:{name:"Composite",className:"BlockBlobPutBlobFromUrlHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},u_={serializedName:"BlockBlob_putBlobFromUrlExceptionHeaders",type:{name:"Composite",className:"BlockBlobPutBlobFromUrlExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},d_={serializedName:"BlockBlob_stageBlockHeaders",type:{name:"Composite",className:"BlockBlobStageBlockHeaders",modelProperties:{contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},p_={serializedName:"BlockBlob_stageBlockExceptionHeaders",type:{name:"Composite",className:"BlockBlobStageBlockExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},m_={serializedName:"BlockBlob_stageBlockFromURLHeaders",type:{name:"Composite",className:"BlockBlobStageBlockFromURLHeaders",modelProperties:{contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},h_={serializedName:"BlockBlob_stageBlockFromURLExceptionHeaders",type:{name:"Composite",className:"BlockBlobStageBlockFromURLExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},f_={serializedName:"BlockBlob_commitBlockListHeaders",type:{name:"Composite",className:"BlockBlobCommitBlockListHeaders",modelProperties:{etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",xmlName:"content-md5",type:{name:"ByteArray"}},xMsContentCrc64:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},versionId:{serializedName:"x-ms-version-id",xmlName:"x-ms-version-id",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",xmlName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},encryptionKeySha256:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}},encryptionScope:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},g_={serializedName:"BlockBlob_commitBlockListExceptionHeaders",type:{name:"Composite",className:"BlockBlobCommitBlockListExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},v_={serializedName:"BlockBlob_getBlockListHeaders",type:{name:"Composite",className:"BlockBlobGetBlockListHeaders",modelProperties:{lastModified:{serializedName:"last-modified",xmlName:"last-modified",type:{name:"DateTimeRfc1123"}},etag:{serializedName:"etag",xmlName:"etag",type:{name:"String"}},contentType:{serializedName:"content-type",xmlName:"content-type",type:{name:"String"}},blobContentLength:{serializedName:"x-ms-blob-content-length",xmlName:"x-ms-blob-content-length",type:{name:"Number"}},clientRequestId:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",xmlName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",xmlName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",xmlName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},y_={serializedName:"BlockBlob_getBlockListExceptionHeaders",type:{name:"Composite",className:"BlockBlobGetBlockListExceptionHeaders",modelProperties:{errorCode:{serializedName:"x-ms-error-code",xmlName:"x-ms-error-code",type:{name:"String"}}}}},aa=Object.freeze(Object.defineProperty({__proto__:null,AccessPolicy:p3,AppendBlobAppendBlockExceptionHeaders:r_,AppendBlobAppendBlockFromUrlExceptionHeaders:i_,AppendBlobAppendBlockFromUrlHeaders:n_,AppendBlobAppendBlockHeaders:t_,AppendBlobCreateExceptionHeaders:e_,AppendBlobCreateHeaders:ZA,AppendBlobSealExceptionHeaders:o_,AppendBlobSealHeaders:s_,ArrowConfiguration:N3,ArrowField:E3,BlobAbortCopyFromURLExceptionHeaders:NA,BlobAbortCopyFromURLHeaders:bA,BlobAcquireLeaseExceptionHeaders:uA,BlobAcquireLeaseHeaders:lA,BlobBreakLeaseExceptionHeaders:yA,BlobBreakLeaseHeaders:vA,BlobChangeLeaseExceptionHeaders:gA,BlobChangeLeaseHeaders:fA,BlobCopyFromURLExceptionHeaders:wA,BlobCopyFromURLHeaders:RA,BlobCreateSnapshotExceptionHeaders:CA,BlobCreateSnapshotHeaders:SA,BlobDeleteExceptionHeaders:G1,BlobDeleteHeaders:K1,BlobDeleteImmutabilityPolicyExceptionHeaders:iA,BlobDeleteImmutabilityPolicyHeaders:nA,BlobDownloadExceptionHeaders:$1,BlobDownloadHeaders:iy,BlobFlatListSegment:m3,BlobGetAccountInfoExceptionHeaders:IA,BlobGetAccountInfoHeaders:TA,BlobGetPropertiesExceptionHeaders:V1,BlobGetPropertiesHeaders:W1,BlobGetTagsExceptionHeaders:zA,BlobGetTagsHeaders:_A,BlobHierarchyListSegment:v3,BlobItemInternal:h3,BlobName:f3,BlobPrefix:y3,BlobPropertiesInternal:g3,BlobQueryExceptionHeaders:AA,BlobQueryHeaders:oy,BlobReleaseLeaseExceptionHeaders:pA,BlobReleaseLeaseHeaders:dA,BlobRenewLeaseExceptionHeaders:hA,BlobRenewLeaseHeaders:mA,BlobServiceProperties:Jy,BlobServiceStatistics:BI,BlobSetExpiryExceptionHeaders:Y1,BlobSetExpiryHeaders:X1,BlobSetHttpHeadersExceptionHeaders:eA,BlobSetHttpHeadersHeaders:Z1,BlobSetImmutabilityPolicyExceptionHeaders:rA,BlobSetImmutabilityPolicyHeaders:tA,BlobSetLegalHoldExceptionHeaders:oA,BlobSetLegalHoldHeaders:sA,BlobSetMetadataExceptionHeaders:cA,BlobSetMetadataHeaders:aA,BlobSetTagsExceptionHeaders:kA,BlobSetTagsHeaders:MA,BlobSetTierExceptionHeaders:EA,BlobSetTierHeaders:sy,BlobStartCopyFromURLExceptionHeaders:PA,BlobStartCopyFromURLHeaders:xA,BlobTag:u3,BlobTags:Xy,BlobUndeleteExceptionHeaders:Q1,BlobUndeleteHeaders:J1,Block:S3,BlockBlobCommitBlockListExceptionHeaders:g_,BlockBlobCommitBlockListHeaders:f_,BlockBlobGetBlockListExceptionHeaders:y_,BlockBlobGetBlockListHeaders:v_,BlockBlobPutBlobFromUrlExceptionHeaders:u_,BlockBlobPutBlobFromUrlHeaders:l_,BlockBlobStageBlockExceptionHeaders:p_,BlockBlobStageBlockFromURLExceptionHeaders:h_,BlockBlobStageBlockFromURLHeaders:m_,BlockBlobStageBlockHeaders:d_,BlockBlobUploadExceptionHeaders:c_,BlockBlobUploadHeaders:a_,BlockList:$I,BlockLookupList:UI,ClearRange:x3,ContainerAcquireLeaseExceptionHeaders:I1,ContainerAcquireLeaseHeaders:T1,ContainerBreakLeaseExceptionHeaders:O1,ContainerBreakLeaseHeaders:k1,ContainerChangeLeaseExceptionHeaders:B1,ContainerChangeLeaseHeaders:D1,ContainerCreateExceptionHeaders:l1,ContainerCreateHeaders:c1,ContainerDeleteExceptionHeaders:m1,ContainerDeleteHeaders:p1,ContainerFilterBlobsExceptionHeaders:E1,ContainerFilterBlobsHeaders:N1,ContainerGetAccessPolicyExceptionHeaders:v1,ContainerGetAccessPolicyHeaders:g1,ContainerGetAccountInfoExceptionHeaders:U1,ContainerGetAccountInfoHeaders:H1,ContainerGetPropertiesExceptionHeaders:d1,ContainerGetPropertiesHeaders:u1,ContainerItem:a3,ContainerListBlobFlatSegmentExceptionHeaders:j1,ContainerListBlobFlatSegmentHeaders:L1,ContainerListBlobHierarchySegmentExceptionHeaders:F1,ContainerListBlobHierarchySegmentHeaders:q1,ContainerProperties:c3,ContainerReleaseLeaseExceptionHeaders:_1,ContainerReleaseLeaseHeaders:A1,ContainerRenameExceptionHeaders:R1,ContainerRenameHeaders:P1,ContainerRenewLeaseExceptionHeaders:M1,ContainerRenewLeaseHeaders:z1,ContainerRestoreExceptionHeaders:x1,ContainerRestoreHeaders:C1,ContainerSetAccessPolicyExceptionHeaders:S1,ContainerSetAccessPolicyHeaders:y1,ContainerSetMetadataExceptionHeaders:f1,ContainerSetMetadataHeaders:h1,ContainerSubmitBatchExceptionHeaders:b1,ContainerSubmitBatchHeaders:w1,CorsRule:i3,DelimitedTextConfiguration:w3,FilterBlobItem:l3,FilterBlobSegment:Qy,GeoReplication:o3,JsonTextConfiguration:b3,KeyInfo:jI,ListBlobsFlatSegmentResponse:FI,ListBlobsHierarchySegmentResponse:HI,ListContainersSegmentResponse:LI,Logging:t3,Metrics:n3,PageBlobClearPagesExceptionHeaders:qA,PageBlobClearPagesHeaders:jA,PageBlobCopyIncrementalExceptionHeaders:YA,PageBlobCopyIncrementalHeaders:XA,PageBlobCreateExceptionHeaders:DA,PageBlobCreateHeaders:OA,PageBlobGetPageRangesDiffExceptionHeaders:VA,PageBlobGetPageRangesDiffHeaders:WA,PageBlobGetPageRangesExceptionHeaders:$A,PageBlobGetPageRangesHeaders:UA,PageBlobResizeExceptionHeaders:GA,PageBlobResizeHeaders:KA,PageBlobUpdateSequenceNumberExceptionHeaders:QA,PageBlobUpdateSequenceNumberHeaders:JA,PageBlobUploadPagesExceptionHeaders:LA,PageBlobUploadPagesFromURLExceptionHeaders:HA,PageBlobUploadPagesFromURLHeaders:FA,PageBlobUploadPagesHeaders:BA,PageList:Yy,PageRange:C3,QueryFormat:R3,QueryRequest:WI,QuerySerialization:P3,RetentionPolicy:r3,ServiceFilterBlobsExceptionHeaders:a1,ServiceFilterBlobsHeaders:o1,ServiceGetAccountInfoExceptionHeaders:n1,ServiceGetAccountInfoHeaders:r1,ServiceGetPropertiesExceptionHeaders:JI,ServiceGetPropertiesHeaders:GI,ServiceGetStatisticsExceptionHeaders:XI,ServiceGetStatisticsHeaders:QI,ServiceGetUserDelegationKeyExceptionHeaders:t1,ServiceGetUserDelegationKeyHeaders:e1,ServiceListContainersSegmentExceptionHeaders:ZI,ServiceListContainersSegmentHeaders:YI,ServiceSetPropertiesExceptionHeaders:KI,ServiceSetPropertiesHeaders:VI,ServiceSubmitBatchExceptionHeaders:s1,ServiceSubmitBatchHeaders:i1,SignedIdentifier:d3,StaticWebsite:s3,StorageError:le,UserDelegationKey:qI},Symbol.toStringTag,{value:"Module"})),ca={parameterPath:["options","contentType"],mapper:{defaultValue:"application/xml",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},T3={parameterPath:"blobServiceProperties",mapper:Jy},Li={parameterPath:"accept",mapper:{defaultValue:"application/xml",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},de={parameterPath:"url",mapper:{serializedName:"url",required:!0,xmlName:"url",type:{name:"String"}},skipEncoding:!0},Wm={parameterPath:"restype",mapper:{defaultValue:"service",isConstant:!0,serializedName:"restype",type:{name:"String"}}},ji={parameterPath:"comp",mapper:{defaultValue:"properties",isConstant:!0,serializedName:"comp",type:{name:"String"}}},pe={parameterPath:["options","timeoutInSeconds"],mapper:{constraints:{InclusiveMinimum:0},serializedName:"timeout",xmlName:"timeout",type:{name:"Number"}}},me={parameterPath:"version",mapper:{defaultValue:"2025-07-05",isConstant:!0,serializedName:"x-ms-version",type:{name:"String"}}},he={parameterPath:["options","requestId"],mapper:{serializedName:"x-ms-client-request-id",xmlName:"x-ms-client-request-id",type:{name:"String"}}},Ie={parameterPath:"accept",mapper:{defaultValue:"application/xml",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},I3={parameterPath:"comp",mapper:{defaultValue:"stats",isConstant:!0,serializedName:"comp",type:{name:"String"}}},Zy={parameterPath:"comp",mapper:{defaultValue:"list",isConstant:!0,serializedName:"comp",type:{name:"String"}}},eS={parameterPath:["options","prefix"],mapper:{serializedName:"prefix",xmlName:"prefix",type:{name:"String"}}},Js={parameterPath:["options","marker"],mapper:{serializedName:"marker",xmlName:"marker",type:{name:"String"}}},Qs={parameterPath:["options","maxPageSize"],mapper:{constraints:{InclusiveMinimum:1},serializedName:"maxresults",xmlName:"maxresults",type:{name:"Number"}}},A3={parameterPath:["options","include"],mapper:{serializedName:"include",xmlName:"include",xmlElementName:"ListContainersIncludeType",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["metadata","deleted","system"]}}}},collectionFormat:"CSV"},_3={parameterPath:"keyInfo",mapper:jI},z3={parameterPath:"comp",mapper:{defaultValue:"userdelegationkey",isConstant:!0,serializedName:"comp",type:{name:"String"}}},tS={parameterPath:"restype",mapper:{defaultValue:"account",isConstant:!0,serializedName:"restype",type:{name:"String"}}},S_={parameterPath:"body",mapper:{serializedName:"body",required:!0,xmlName:"body",type:{name:"Stream"}}},C_={parameterPath:"comp",mapper:{defaultValue:"batch",isConstant:!0,serializedName:"comp",type:{name:"String"}}},Er={parameterPath:"contentLength",mapper:{serializedName:"Content-Length",required:!0,xmlName:"Content-Length",type:{name:"Number"}}},x_={parameterPath:"multipartContentType",mapper:{serializedName:"Content-Type",required:!0,xmlName:"Content-Type",type:{name:"String"}}},P_={parameterPath:"comp",mapper:{defaultValue:"blobs",isConstant:!0,serializedName:"comp",type:{name:"String"}}},R_={parameterPath:["options","where"],mapper:{serializedName:"where",xmlName:"where",type:{name:"String"}}},Qt={parameterPath:"restype",mapper:{defaultValue:"container",isConstant:!0,serializedName:"restype",type:{name:"String"}}},nn={parameterPath:["options","metadata"],mapper:{serializedName:"x-ms-meta",xmlName:"x-ms-meta",headerCollectionPrefix:"x-ms-meta-",type:{name:"Dictionary",value:{type:{name:"String"}}}}},w_={parameterPath:["options","access"],mapper:{serializedName:"x-ms-blob-public-access",xmlName:"x-ms-blob-public-access",type:{name:"Enum",allowedValues:["container","blob"]}}},M3={parameterPath:["options","containerEncryptionScope","defaultEncryptionScope"],mapper:{serializedName:"x-ms-default-encryption-scope",xmlName:"x-ms-default-encryption-scope",type:{name:"String"}}},k3={parameterPath:["options","containerEncryptionScope","preventEncryptionScopeOverride"],mapper:{serializedName:"x-ms-deny-encryption-scope-override",xmlName:"x-ms-deny-encryption-scope-override",type:{name:"Boolean"}}},Ge={parameterPath:["options","leaseAccessConditions","leaseId"],mapper:{serializedName:"x-ms-lease-id",xmlName:"x-ms-lease-id",type:{name:"String"}}},We={parameterPath:["options","modifiedAccessConditions","ifModifiedSince"],mapper:{serializedName:"If-Modified-Since",xmlName:"If-Modified-Since",type:{name:"DateTimeRfc1123"}}},Ve={parameterPath:["options","modifiedAccessConditions","ifUnmodifiedSince"],mapper:{serializedName:"If-Unmodified-Since",xmlName:"If-Unmodified-Since",type:{name:"DateTimeRfc1123"}}},b_={parameterPath:"comp",mapper:{defaultValue:"metadata",isConstant:!0,serializedName:"comp",type:{name:"String"}}},N_={parameterPath:"comp",mapper:{defaultValue:"acl",isConstant:!0,serializedName:"comp",type:{name:"String"}}},O3={parameterPath:["options","containerAcl"],mapper:{serializedName:"containerAcl",xmlName:"SignedIdentifiers",xmlIsWrapped:!0,xmlElementName:"SignedIdentifier",type:{name:"Sequence",element:{type:{name:"Composite",className:"SignedIdentifier"}}}}},E_={parameterPath:"comp",mapper:{defaultValue:"undelete",isConstant:!0,serializedName:"comp",type:{name:"String"}}},D3={parameterPath:["options","deletedContainerName"],mapper:{serializedName:"x-ms-deleted-container-name",xmlName:"x-ms-deleted-container-name",type:{name:"String"}}},B3={parameterPath:["options","deletedContainerVersion"],mapper:{serializedName:"x-ms-deleted-container-version",xmlName:"x-ms-deleted-container-version",type:{name:"String"}}},L3={parameterPath:"comp",mapper:{defaultValue:"rename",isConstant:!0,serializedName:"comp",type:{name:"String"}}},j3={parameterPath:"sourceContainerName",mapper:{serializedName:"x-ms-source-container-name",required:!0,xmlName:"x-ms-source-container-name",type:{name:"String"}}},q3={parameterPath:["options","sourceLeaseId"],mapper:{serializedName:"x-ms-source-lease-id",xmlName:"x-ms-source-lease-id",type:{name:"String"}}},Nn={parameterPath:"comp",mapper:{defaultValue:"lease",isConstant:!0,serializedName:"comp",type:{name:"String"}}},T_={parameterPath:"action",mapper:{defaultValue:"acquire",isConstant:!0,serializedName:"x-ms-lease-action",type:{name:"String"}}},I_={parameterPath:["options","duration"],mapper:{serializedName:"x-ms-lease-duration",xmlName:"x-ms-lease-duration",type:{name:"Number"}}},A_={parameterPath:["options","proposedLeaseId"],mapper:{serializedName:"x-ms-proposed-lease-id",xmlName:"x-ms-proposed-lease-id",type:{name:"String"}}},__={parameterPath:"action",mapper:{defaultValue:"release",isConstant:!0,serializedName:"x-ms-lease-action",type:{name:"String"}}},la={parameterPath:"leaseId",mapper:{serializedName:"x-ms-lease-id",required:!0,xmlName:"x-ms-lease-id",type:{name:"String"}}},z_={parameterPath:"action",mapper:{defaultValue:"renew",isConstant:!0,serializedName:"x-ms-lease-action",type:{name:"String"}}},M_={parameterPath:"action",mapper:{defaultValue:"break",isConstant:!0,serializedName:"x-ms-lease-action",type:{name:"String"}}},k_={parameterPath:["options","breakPeriod"],mapper:{serializedName:"x-ms-lease-break-period",xmlName:"x-ms-lease-break-period",type:{name:"Number"}}},O_={parameterPath:"action",mapper:{defaultValue:"change",isConstant:!0,serializedName:"x-ms-lease-action",type:{name:"String"}}},D_={parameterPath:"proposedLeaseId",mapper:{serializedName:"x-ms-proposed-lease-id",required:!0,xmlName:"x-ms-proposed-lease-id",type:{name:"String"}}},B_={parameterPath:["options","include"],mapper:{serializedName:"include",xmlName:"include",xmlElementName:"ListBlobsIncludeItem",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["copy","deleted","metadata","snapshots","uncommittedblobs","versions","tags","immutabilitypolicy","legalhold","deletedwithversions"]}}}},collectionFormat:"CSV"},F3={parameterPath:"delimiter",mapper:{serializedName:"delimiter",required:!0,xmlName:"delimiter",type:{name:"String"}}},Br={parameterPath:["options","snapshot"],mapper:{serializedName:"snapshot",xmlName:"snapshot",type:{name:"String"}}},ei={parameterPath:["options","versionId"],mapper:{serializedName:"versionid",xmlName:"versionid",type:{name:"String"}}},qd={parameterPath:["options","range"],mapper:{serializedName:"x-ms-range",xmlName:"x-ms-range",type:{name:"String"}}},H3={parameterPath:["options","rangeGetContentMD5"],mapper:{serializedName:"x-ms-range-get-content-md5",xmlName:"x-ms-range-get-content-md5",type:{name:"Boolean"}}},U3={parameterPath:["options","rangeGetContentCRC64"],mapper:{serializedName:"x-ms-range-get-content-crc64",xmlName:"x-ms-range-get-content-crc64",type:{name:"Boolean"}}},Ft={parameterPath:["options","cpkInfo","encryptionKey"],mapper:{serializedName:"x-ms-encryption-key",xmlName:"x-ms-encryption-key",type:{name:"String"}}},Ht={parameterPath:["options","cpkInfo","encryptionKeySha256"],mapper:{serializedName:"x-ms-encryption-key-sha256",xmlName:"x-ms-encryption-key-sha256",type:{name:"String"}}},Ut={parameterPath:["options","cpkInfo","encryptionAlgorithm"],mapper:{serializedName:"x-ms-encryption-algorithm",xmlName:"x-ms-encryption-algorithm",type:{name:"String"}}},rt={parameterPath:["options","modifiedAccessConditions","ifMatch"],mapper:{serializedName:"If-Match",xmlName:"If-Match",type:{name:"String"}}},nt={parameterPath:["options","modifiedAccessConditions","ifNoneMatch"],mapper:{serializedName:"If-None-Match",xmlName:"If-None-Match",type:{name:"String"}}},Ye={parameterPath:["options","modifiedAccessConditions","ifTags"],mapper:{serializedName:"x-ms-if-tags",xmlName:"x-ms-if-tags",type:{name:"String"}}},$3={parameterPath:["options","deleteSnapshots"],mapper:{serializedName:"x-ms-delete-snapshots",xmlName:"x-ms-delete-snapshots",type:{name:"Enum",allowedValues:["include","only"]}}},W3={parameterPath:["options","blobDeleteType"],mapper:{serializedName:"deletetype",xmlName:"deletetype",type:{name:"String"}}},V3={parameterPath:"comp",mapper:{defaultValue:"expiry",isConstant:!0,serializedName:"comp",type:{name:"String"}}},K3={parameterPath:"expiryOptions",mapper:{serializedName:"x-ms-expiry-option",required:!0,xmlName:"x-ms-expiry-option",type:{name:"String"}}},G3={parameterPath:["options","expiresOn"],mapper:{serializedName:"x-ms-expiry-time",xmlName:"x-ms-expiry-time",type:{name:"String"}}},ua={parameterPath:["options","blobHttpHeaders","blobCacheControl"],mapper:{serializedName:"x-ms-blob-cache-control",xmlName:"x-ms-blob-cache-control",type:{name:"String"}}},da={parameterPath:["options","blobHttpHeaders","blobContentType"],mapper:{serializedName:"x-ms-blob-content-type",xmlName:"x-ms-blob-content-type",type:{name:"String"}}},pa={parameterPath:["options","blobHttpHeaders","blobContentMD5"],mapper:{serializedName:"x-ms-blob-content-md5",xmlName:"x-ms-blob-content-md5",type:{name:"ByteArray"}}},ma={parameterPath:["options","blobHttpHeaders","blobContentEncoding"],mapper:{serializedName:"x-ms-blob-content-encoding",xmlName:"x-ms-blob-content-encoding",type:{name:"String"}}},ha={parameterPath:["options","blobHttpHeaders","blobContentLanguage"],mapper:{serializedName:"x-ms-blob-content-language",xmlName:"x-ms-blob-content-language",type:{name:"String"}}},fa={parameterPath:["options","blobHttpHeaders","blobContentDisposition"],mapper:{serializedName:"x-ms-blob-content-disposition",xmlName:"x-ms-blob-content-disposition",type:{name:"String"}}},L_={parameterPath:"comp",mapper:{defaultValue:"immutabilityPolicies",isConstant:!0,serializedName:"comp",type:{name:"String"}}},Xs={parameterPath:["options","immutabilityPolicyExpiry"],mapper:{serializedName:"x-ms-immutability-policy-until-date",xmlName:"x-ms-immutability-policy-until-date",type:{name:"DateTimeRfc1123"}}},Ys={parameterPath:["options","immutabilityPolicyMode"],mapper:{serializedName:"x-ms-immutability-policy-mode",xmlName:"x-ms-immutability-policy-mode",type:{name:"Enum",allowedValues:["Mutable","Unlocked","Locked"]}}},J3={parameterPath:"comp",mapper:{defaultValue:"legalhold",isConstant:!0,serializedName:"comp",type:{name:"String"}}},Q3={parameterPath:"legalHold",mapper:{serializedName:"x-ms-legal-hold",required:!0,xmlName:"x-ms-legal-hold",type:{name:"Boolean"}}},rr={parameterPath:["options","encryptionScope"],mapper:{serializedName:"x-ms-encryption-scope",xmlName:"x-ms-encryption-scope",type:{name:"String"}}},X3={parameterPath:"comp",mapper:{defaultValue:"snapshot",isConstant:!0,serializedName:"comp",type:{name:"String"}}},ga={parameterPath:["options","tier"],mapper:{serializedName:"x-ms-access-tier",xmlName:"x-ms-access-tier",type:{name:"Enum",allowedValues:["P4","P6","P10","P15","P20","P30","P40","P50","P60","P70","P80","Hot","Cool","Archive","Cold"]}}},j_={parameterPath:["options","rehydratePriority"],mapper:{serializedName:"x-ms-rehydrate-priority",xmlName:"x-ms-rehydrate-priority",type:{name:"Enum",allowedValues:["High","Standard"]}}},va={parameterPath:["options","sourceModifiedAccessConditions","sourceIfModifiedSince"],mapper:{serializedName:"x-ms-source-if-modified-since",xmlName:"x-ms-source-if-modified-since",type:{name:"DateTimeRfc1123"}}},ya={parameterPath:["options","sourceModifiedAccessConditions","sourceIfUnmodifiedSince"],mapper:{serializedName:"x-ms-source-if-unmodified-since",xmlName:"x-ms-source-if-unmodified-since",type:{name:"DateTimeRfc1123"}}},Sa={parameterPath:["options","sourceModifiedAccessConditions","sourceIfMatch"],mapper:{serializedName:"x-ms-source-if-match",xmlName:"x-ms-source-if-match",type:{name:"String"}}},Ca={parameterPath:["options","sourceModifiedAccessConditions","sourceIfNoneMatch"],mapper:{serializedName:"x-ms-source-if-none-match",xmlName:"x-ms-source-if-none-match",type:{name:"String"}}},q_={parameterPath:["options","sourceModifiedAccessConditions","sourceIfTags"],mapper:{serializedName:"x-ms-source-if-tags",xmlName:"x-ms-source-if-tags",type:{name:"String"}}},Vm={parameterPath:"copySource",mapper:{serializedName:"x-ms-copy-source",required:!0,xmlName:"x-ms-copy-source",type:{name:"String"}}},Zs={parameterPath:["options","blobTagsString"],mapper:{serializedName:"x-ms-tags",xmlName:"x-ms-tags",type:{name:"String"}}},Y3={parameterPath:["options","sealBlob"],mapper:{serializedName:"x-ms-seal-blob",xmlName:"x-ms-seal-blob",type:{name:"Boolean"}}},xa={parameterPath:["options","legalHold"],mapper:{serializedName:"x-ms-legal-hold",xmlName:"x-ms-legal-hold",type:{name:"Boolean"}}},Z3={parameterPath:"xMsRequiresSync",mapper:{defaultValue:"true",isConstant:!0,serializedName:"x-ms-requires-sync",type:{name:"String"}}},Fd={parameterPath:["options","sourceContentMD5"],mapper:{serializedName:"x-ms-source-content-md5",xmlName:"x-ms-source-content-md5",type:{name:"ByteArray"}}},Hd={parameterPath:["options","copySourceAuthorization"],mapper:{serializedName:"x-ms-copy-source-authorization",xmlName:"x-ms-copy-source-authorization",type:{name:"String"}}},F_={parameterPath:["options","copySourceTags"],mapper:{serializedName:"x-ms-copy-source-tag-option",xmlName:"x-ms-copy-source-tag-option",type:{name:"Enum",allowedValues:["REPLACE","COPY"]}}},Ud={parameterPath:["options","fileRequestIntent"],mapper:{serializedName:"x-ms-file-request-intent",xmlName:"x-ms-file-request-intent",type:{name:"String"}}},e4={parameterPath:"comp",mapper:{defaultValue:"copy",isConstant:!0,serializedName:"comp",type:{name:"String"}}},t4={parameterPath:"copyActionAbortConstant",mapper:{defaultValue:"abort",isConstant:!0,serializedName:"x-ms-copy-action",type:{name:"String"}}},r4={parameterPath:"copyId",mapper:{serializedName:"copyid",required:!0,xmlName:"copyid",type:{name:"String"}}},n4={parameterPath:"comp",mapper:{defaultValue:"tier",isConstant:!0,serializedName:"comp",type:{name:"String"}}},i4={parameterPath:"tier",mapper:{serializedName:"x-ms-access-tier",required:!0,xmlName:"x-ms-access-tier",type:{name:"Enum",allowedValues:["P4","P6","P10","P15","P20","P30","P40","P50","P60","P70","P80","Hot","Cool","Archive","Cold"]}}},s4={parameterPath:["options","queryRequest"],mapper:WI},o4={parameterPath:"comp",mapper:{defaultValue:"query",isConstant:!0,serializedName:"comp",type:{name:"String"}}},H_={parameterPath:"comp",mapper:{defaultValue:"tags",isConstant:!0,serializedName:"comp",type:{name:"String"}}},a4={parameterPath:["options","tags"],mapper:Xy},qi={parameterPath:["options","transactionalContentMD5"],mapper:{serializedName:"Content-MD5",xmlName:"Content-MD5",type:{name:"ByteArray"}}},Pa={parameterPath:["options","transactionalContentCrc64"],mapper:{serializedName:"x-ms-content-crc64",xmlName:"x-ms-content-crc64",type:{name:"ByteArray"}}},c4={parameterPath:"blobType",mapper:{defaultValue:"PageBlob",isConstant:!0,serializedName:"x-ms-blob-type",type:{name:"String"}}},U_={parameterPath:"blobContentLength",mapper:{serializedName:"x-ms-blob-content-length",required:!0,xmlName:"x-ms-blob-content-length",type:{name:"Number"}}},$_={parameterPath:["options","blobSequenceNumber"],mapper:{defaultValue:0,serializedName:"x-ms-blob-sequence-number",xmlName:"x-ms-blob-sequence-number",type:{name:"Number"}}},Km={parameterPath:["options","contentType"],mapper:{defaultValue:"application/octet-stream",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},Gm={parameterPath:"body",mapper:{serializedName:"body",required:!0,xmlName:"body",type:{name:"Stream"}}},Jm={parameterPath:"accept",mapper:{defaultValue:"application/xml",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},rS={parameterPath:"comp",mapper:{defaultValue:"page",isConstant:!0,serializedName:"comp",type:{name:"String"}}},W_={parameterPath:"pageWrite",mapper:{defaultValue:"update",isConstant:!0,serializedName:"x-ms-page-write",type:{name:"String"}}},nS={parameterPath:["options","sequenceNumberAccessConditions","ifSequenceNumberLessThanOrEqualTo"],mapper:{serializedName:"x-ms-if-sequence-number-le",xmlName:"x-ms-if-sequence-number-le",type:{name:"Number"}}},iS={parameterPath:["options","sequenceNumberAccessConditions","ifSequenceNumberLessThan"],mapper:{serializedName:"x-ms-if-sequence-number-lt",xmlName:"x-ms-if-sequence-number-lt",type:{name:"Number"}}},sS={parameterPath:["options","sequenceNumberAccessConditions","ifSequenceNumberEqualTo"],mapper:{serializedName:"x-ms-if-sequence-number-eq",xmlName:"x-ms-if-sequence-number-eq",type:{name:"Number"}}},l4={parameterPath:"pageWrite",mapper:{defaultValue:"clear",isConstant:!0,serializedName:"x-ms-page-write",type:{name:"String"}}},oS={parameterPath:"sourceUrl",mapper:{serializedName:"x-ms-copy-source",required:!0,xmlName:"x-ms-copy-source",type:{name:"String"}}},u4={parameterPath:"sourceRange",mapper:{serializedName:"x-ms-source-range",required:!0,xmlName:"x-ms-source-range",type:{name:"String"}}},aS={parameterPath:["options","sourceContentCrc64"],mapper:{serializedName:"x-ms-source-content-crc64",xmlName:"x-ms-source-content-crc64",type:{name:"ByteArray"}}},d4={parameterPath:"range",mapper:{serializedName:"x-ms-range",required:!0,xmlName:"x-ms-range",type:{name:"String"}}},V_={parameterPath:"comp",mapper:{defaultValue:"pagelist",isConstant:!0,serializedName:"comp",type:{name:"String"}}},p4={parameterPath:["options","prevsnapshot"],mapper:{serializedName:"prevsnapshot",xmlName:"prevsnapshot",type:{name:"String"}}},m4={parameterPath:["options","prevSnapshotUrl"],mapper:{serializedName:"x-ms-previous-snapshot-url",xmlName:"x-ms-previous-snapshot-url",type:{name:"String"}}},h4={parameterPath:"sequenceNumberAction",mapper:{serializedName:"x-ms-sequence-number-action",required:!0,xmlName:"x-ms-sequence-number-action",type:{name:"Enum",allowedValues:["max","update","increment"]}}},f4={parameterPath:"comp",mapper:{defaultValue:"incrementalcopy",isConstant:!0,serializedName:"comp",type:{name:"String"}}},g4={parameterPath:"blobType",mapper:{defaultValue:"AppendBlob",isConstant:!0,serializedName:"x-ms-blob-type",type:{name:"String"}}},K_={parameterPath:"comp",mapper:{defaultValue:"appendblock",isConstant:!0,serializedName:"comp",type:{name:"String"}}},G_={parameterPath:["options","appendPositionAccessConditions","maxSize"],mapper:{serializedName:"x-ms-blob-condition-maxsize",xmlName:"x-ms-blob-condition-maxsize",type:{name:"Number"}}},cS={parameterPath:["options","appendPositionAccessConditions","appendPosition"],mapper:{serializedName:"x-ms-blob-condition-appendpos",xmlName:"x-ms-blob-condition-appendpos",type:{name:"Number"}}},J_={parameterPath:["options","sourceRange"],mapper:{serializedName:"x-ms-source-range",xmlName:"x-ms-source-range",type:{name:"String"}}},v4={parameterPath:"comp",mapper:{defaultValue:"seal",isConstant:!0,serializedName:"comp",type:{name:"String"}}},Q_={parameterPath:"blobType",mapper:{defaultValue:"BlockBlob",isConstant:!0,serializedName:"x-ms-blob-type",type:{name:"String"}}},y4={parameterPath:["options","copySourceBlobProperties"],mapper:{serializedName:"x-ms-copy-source-blob-properties",xmlName:"x-ms-copy-source-blob-properties",type:{name:"Boolean"}}},X_={parameterPath:"comp",mapper:{defaultValue:"block",isConstant:!0,serializedName:"comp",type:{name:"String"}}},Y_={parameterPath:"blockId",mapper:{serializedName:"blockid",required:!0,xmlName:"blockid",type:{name:"String"}}},S4={parameterPath:"blocks",mapper:UI},Z_={parameterPath:"comp",mapper:{defaultValue:"blocklist",isConstant:!0,serializedName:"comp",type:{name:"String"}}},C4={parameterPath:"listType",mapper:{defaultValue:"committed",serializedName:"blocklisttype",required:!0,xmlName:"blocklisttype",type:{name:"Enum",allowedValues:["committed","uncommitted","all"]}}};class x4{client;constructor(t){this.client=t}setProperties(t,r){return this.client.sendOperationRequest({blobServiceProperties:t,options:r},P4)}getProperties(t){return this.client.sendOperationRequest({options:t},R4)}getStatistics(t){return this.client.sendOperationRequest({options:t},w4)}listContainersSegment(t){return this.client.sendOperationRequest({options:t},b4)}getUserDelegationKey(t,r){return this.client.sendOperationRequest({keyInfo:t,options:r},N4)}getAccountInfo(t){return this.client.sendOperationRequest({options:t},E4)}submitBatch(t,r,n,i){return this.client.sendOperationRequest({contentLength:t,multipartContentType:r,body:n,options:i},T4)}filterBlobs(t){return this.client.sendOperationRequest({options:t},I4)}}const Fi=ia(aa,!0),P4={path:"/",httpMethod:"PUT",responses:{202:{headersMapper:VI},default:{bodyMapper:le,headersMapper:KI}},requestBody:T3,queryParameters:[Wm,ji,pe],urlParameters:[de],headerParameters:[ca,Li,me,he],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:Fi},R4={path:"/",httpMethod:"GET",responses:{200:{bodyMapper:Jy,headersMapper:GI},default:{bodyMapper:le,headersMapper:JI}},queryParameters:[Wm,ji,pe],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:Fi},w4={path:"/",httpMethod:"GET",responses:{200:{bodyMapper:BI,headersMapper:QI},default:{bodyMapper:le,headersMapper:XI}},queryParameters:[Wm,pe,I3],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:Fi},b4={path:"/",httpMethod:"GET",responses:{200:{bodyMapper:LI,headersMapper:YI},default:{bodyMapper:le,headersMapper:ZI}},queryParameters:[pe,Zy,eS,Js,Qs,A3],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:Fi},N4={path:"/",httpMethod:"POST",responses:{200:{bodyMapper:qI,headersMapper:e1},default:{bodyMapper:le,headersMapper:t1}},requestBody:_3,queryParameters:[Wm,pe,z3],urlParameters:[de],headerParameters:[ca,Li,me,he],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:Fi},E4={path:"/",httpMethod:"GET",responses:{200:{headersMapper:r1},default:{bodyMapper:le,headersMapper:n1}},queryParameters:[ji,pe,tS],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:Fi},T4={path:"/",httpMethod:"POST",responses:{202:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:i1},default:{bodyMapper:le,headersMapper:s1}},requestBody:S_,queryParameters:[pe,C_],urlParameters:[de],headerParameters:[Li,me,he,Er,x_],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:Fi},I4={path:"/",httpMethod:"GET",responses:{200:{bodyMapper:Qy,headersMapper:o1},default:{bodyMapper:le,headersMapper:a1}},queryParameters:[pe,Js,Qs,P_,R_],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:Fi};class A4{client;constructor(t){this.client=t}create(t){return this.client.sendOperationRequest({options:t},_4)}getProperties(t){return this.client.sendOperationRequest({options:t},z4)}delete(t){return this.client.sendOperationRequest({options:t},M4)}setMetadata(t){return this.client.sendOperationRequest({options:t},k4)}getAccessPolicy(t){return this.client.sendOperationRequest({options:t},O4)}setAccessPolicy(t){return this.client.sendOperationRequest({options:t},D4)}restore(t){return this.client.sendOperationRequest({options:t},B4)}rename(t,r){return this.client.sendOperationRequest({sourceContainerName:t,options:r},L4)}submitBatch(t,r,n,i){return this.client.sendOperationRequest({contentLength:t,multipartContentType:r,body:n,options:i},j4)}filterBlobs(t){return this.client.sendOperationRequest({options:t},q4)}acquireLease(t){return this.client.sendOperationRequest({options:t},F4)}releaseLease(t,r){return this.client.sendOperationRequest({leaseId:t,options:r},H4)}renewLease(t,r){return this.client.sendOperationRequest({leaseId:t,options:r},U4)}breakLease(t){return this.client.sendOperationRequest({options:t},$4)}changeLease(t,r,n){return this.client.sendOperationRequest({leaseId:t,proposedLeaseId:r,options:n},W4)}listBlobFlatSegment(t){return this.client.sendOperationRequest({options:t},V4)}listBlobHierarchySegment(t,r){return this.client.sendOperationRequest({delimiter:t,options:r},K4)}getAccountInfo(t){return this.client.sendOperationRequest({options:t},G4)}}const $t=ia(aa,!0),_4={path:"/{containerName}",httpMethod:"PUT",responses:{201:{headersMapper:c1},default:{bodyMapper:le,headersMapper:l1}},queryParameters:[pe,Qt],urlParameters:[de],headerParameters:[me,he,Ie,nn,w_,M3,k3],isXML:!0,serializer:$t},z4={path:"/{containerName}",httpMethod:"GET",responses:{200:{headersMapper:u1},default:{bodyMapper:le,headersMapper:d1}},queryParameters:[pe,Qt],urlParameters:[de],headerParameters:[me,he,Ie,Ge],isXML:!0,serializer:$t},M4={path:"/{containerName}",httpMethod:"DELETE",responses:{202:{headersMapper:p1},default:{bodyMapper:le,headersMapper:m1}},queryParameters:[pe,Qt],urlParameters:[de],headerParameters:[me,he,Ie,Ge,We,Ve],isXML:!0,serializer:$t},k4={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:h1},default:{bodyMapper:le,headersMapper:f1}},queryParameters:[pe,Qt,b_],urlParameters:[de],headerParameters:[me,he,Ie,nn,Ge,We],isXML:!0,serializer:$t},O4={path:"/{containerName}",httpMethod:"GET",responses:{200:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"Composite",className:"SignedIdentifier"}}},serializedName:"SignedIdentifiers",xmlName:"SignedIdentifiers",xmlIsWrapped:!0,xmlElementName:"SignedIdentifier"},headersMapper:g1},default:{bodyMapper:le,headersMapper:v1}},queryParameters:[pe,Qt,N_],urlParameters:[de],headerParameters:[me,he,Ie,Ge],isXML:!0,serializer:$t},D4={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:y1},default:{bodyMapper:le,headersMapper:S1}},requestBody:O3,queryParameters:[pe,Qt,N_],urlParameters:[de],headerParameters:[ca,Li,me,he,w_,Ge,We,Ve],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:$t},B4={path:"/{containerName}",httpMethod:"PUT",responses:{201:{headersMapper:C1},default:{bodyMapper:le,headersMapper:x1}},queryParameters:[pe,Qt,E_],urlParameters:[de],headerParameters:[me,he,Ie,D3,B3],isXML:!0,serializer:$t},L4={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:P1},default:{bodyMapper:le,headersMapper:R1}},queryParameters:[pe,Qt,L3],urlParameters:[de],headerParameters:[me,he,Ie,j3,q3],isXML:!0,serializer:$t},j4={path:"/{containerName}",httpMethod:"POST",responses:{202:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:w1},default:{bodyMapper:le,headersMapper:b1}},requestBody:S_,queryParameters:[pe,C_,Qt],urlParameters:[de],headerParameters:[Li,me,he,Er,x_],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:$t},q4={path:"/{containerName}",httpMethod:"GET",responses:{200:{bodyMapper:Qy,headersMapper:N1},default:{bodyMapper:le,headersMapper:E1}},queryParameters:[pe,Js,Qs,P_,R_,Qt],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:$t},F4={path:"/{containerName}",httpMethod:"PUT",responses:{201:{headersMapper:T1},default:{bodyMapper:le,headersMapper:I1}},queryParameters:[pe,Qt,Nn],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,T_,I_,A_],isXML:!0,serializer:$t},H4={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:A1},default:{bodyMapper:le,headersMapper:_1}},queryParameters:[pe,Qt,Nn],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,__,la],isXML:!0,serializer:$t},U4={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:z1},default:{bodyMapper:le,headersMapper:M1}},queryParameters:[pe,Qt,Nn],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,la,z_],isXML:!0,serializer:$t},$4={path:"/{containerName}",httpMethod:"PUT",responses:{202:{headersMapper:k1},default:{bodyMapper:le,headersMapper:O1}},queryParameters:[pe,Qt,Nn],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,M_,k_],isXML:!0,serializer:$t},W4={path:"/{containerName}",httpMethod:"PUT",responses:{200:{headersMapper:D1},default:{bodyMapper:le,headersMapper:B1}},queryParameters:[pe,Qt,Nn],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,la,O_,D_],isXML:!0,serializer:$t},V4={path:"/{containerName}",httpMethod:"GET",responses:{200:{bodyMapper:FI,headersMapper:L1},default:{bodyMapper:le,headersMapper:j1}},queryParameters:[pe,Zy,eS,Js,Qs,Qt,B_],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:$t},K4={path:"/{containerName}",httpMethod:"GET",responses:{200:{bodyMapper:HI,headersMapper:q1},default:{bodyMapper:le,headersMapper:F1}},queryParameters:[pe,Zy,eS,Js,Qs,Qt,B_,F3],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:$t},G4={path:"/{containerName}",httpMethod:"GET",responses:{200:{headersMapper:H1},default:{bodyMapper:le,headersMapper:U1}},queryParameters:[ji,pe,tS],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:$t};class J4{client;constructor(t){this.client=t}download(t){return this.client.sendOperationRequest({options:t},Q4)}getProperties(t){return this.client.sendOperationRequest({options:t},X4)}delete(t){return this.client.sendOperationRequest({options:t},Y4)}undelete(t){return this.client.sendOperationRequest({options:t},Z4)}setExpiry(t,r){return this.client.sendOperationRequest({expiryOptions:t,options:r},eH)}setHttpHeaders(t){return this.client.sendOperationRequest({options:t},tH)}setImmutabilityPolicy(t){return this.client.sendOperationRequest({options:t},rH)}deleteImmutabilityPolicy(t){return this.client.sendOperationRequest({options:t},nH)}setLegalHold(t,r){return this.client.sendOperationRequest({legalHold:t,options:r},iH)}setMetadata(t){return this.client.sendOperationRequest({options:t},sH)}acquireLease(t){return this.client.sendOperationRequest({options:t},oH)}releaseLease(t,r){return this.client.sendOperationRequest({leaseId:t,options:r},aH)}renewLease(t,r){return this.client.sendOperationRequest({leaseId:t,options:r},cH)}changeLease(t,r,n){return this.client.sendOperationRequest({leaseId:t,proposedLeaseId:r,options:n},lH)}breakLease(t){return this.client.sendOperationRequest({options:t},uH)}createSnapshot(t){return this.client.sendOperationRequest({options:t},dH)}startCopyFromURL(t,r){return this.client.sendOperationRequest({copySource:t,options:r},pH)}copyFromURL(t,r){return this.client.sendOperationRequest({copySource:t,options:r},mH)}abortCopyFromURL(t,r){return this.client.sendOperationRequest({copyId:t,options:r},hH)}setTier(t,r){return this.client.sendOperationRequest({tier:t,options:r},fH)}getAccountInfo(t){return this.client.sendOperationRequest({options:t},gH)}query(t){return this.client.sendOperationRequest({options:t},vH)}getTags(t){return this.client.sendOperationRequest({options:t},yH)}setTags(t){return this.client.sendOperationRequest({options:t},SH)}}const ft=ia(aa,!0),Q4={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:iy},206:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:iy},default:{bodyMapper:le,headersMapper:$1}},queryParameters:[pe,Br,ei],urlParameters:[de],headerParameters:[me,he,Ie,Ge,We,Ve,qd,H3,U3,Ft,Ht,Ut,rt,nt,Ye],isXML:!0,serializer:ft},X4={path:"/{containerName}/{blob}",httpMethod:"HEAD",responses:{200:{headersMapper:W1},default:{bodyMapper:le,headersMapper:V1}},queryParameters:[pe,Br,ei],urlParameters:[de],headerParameters:[me,he,Ie,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye],isXML:!0,serializer:ft},Y4={path:"/{containerName}/{blob}",httpMethod:"DELETE",responses:{202:{headersMapper:K1},default:{bodyMapper:le,headersMapper:G1}},queryParameters:[pe,Br,ei,W3],urlParameters:[de],headerParameters:[me,he,Ie,Ge,We,Ve,rt,nt,Ye,$3],isXML:!0,serializer:ft},Z4={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:J1},default:{bodyMapper:le,headersMapper:Q1}},queryParameters:[pe,E_],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:ft},eH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:X1},default:{bodyMapper:le,headersMapper:Y1}},queryParameters:[pe,V3],urlParameters:[de],headerParameters:[me,he,Ie,K3,G3],isXML:!0,serializer:ft},tH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:Z1},default:{bodyMapper:le,headersMapper:eA}},queryParameters:[ji,pe],urlParameters:[de],headerParameters:[me,he,Ie,Ge,We,Ve,rt,nt,Ye,ua,da,pa,ma,ha,fa],isXML:!0,serializer:ft},rH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:tA},default:{bodyMapper:le,headersMapper:rA}},queryParameters:[pe,Br,ei,L_],urlParameters:[de],headerParameters:[me,he,Ie,Ve,Xs,Ys],isXML:!0,serializer:ft},nH={path:"/{containerName}/{blob}",httpMethod:"DELETE",responses:{200:{headersMapper:nA},default:{bodyMapper:le,headersMapper:iA}},queryParameters:[pe,Br,ei,L_],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:ft},iH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:sA},default:{bodyMapper:le,headersMapper:oA}},queryParameters:[pe,Br,ei,J3],urlParameters:[de],headerParameters:[me,he,Ie,Q3],isXML:!0,serializer:ft},sH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:aA},default:{bodyMapper:le,headersMapper:cA}},queryParameters:[pe,b_],urlParameters:[de],headerParameters:[me,he,Ie,nn,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,rr],isXML:!0,serializer:ft},oH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:lA},default:{bodyMapper:le,headersMapper:uA}},queryParameters:[pe,Nn],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,T_,I_,A_,rt,nt,Ye],isXML:!0,serializer:ft},aH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:dA},default:{bodyMapper:le,headersMapper:pA}},queryParameters:[pe,Nn],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,__,la,rt,nt,Ye],isXML:!0,serializer:ft},cH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:mA},default:{bodyMapper:le,headersMapper:hA}},queryParameters:[pe,Nn],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,la,z_,rt,nt,Ye],isXML:!0,serializer:ft},lH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:fA},default:{bodyMapper:le,headersMapper:gA}},queryParameters:[pe,Nn],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,la,O_,D_,rt,nt,Ye],isXML:!0,serializer:ft},uH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{202:{headersMapper:vA},default:{bodyMapper:le,headersMapper:yA}},queryParameters:[pe,Nn],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,M_,k_,rt,nt,Ye],isXML:!0,serializer:ft},dH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:SA},default:{bodyMapper:le,headersMapper:CA}},queryParameters:[pe,X3],urlParameters:[de],headerParameters:[me,he,Ie,nn,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,rr],isXML:!0,serializer:ft},pH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{202:{headersMapper:xA},default:{bodyMapper:le,headersMapper:PA}},queryParameters:[pe],urlParameters:[de],headerParameters:[me,he,Ie,nn,Ge,We,Ve,rt,nt,Ye,Xs,Ys,ga,j_,va,ya,Sa,Ca,q_,Vm,Zs,Y3,xa],isXML:!0,serializer:ft},mH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{202:{headersMapper:RA},default:{bodyMapper:le,headersMapper:wA}},queryParameters:[pe],urlParameters:[de],headerParameters:[me,he,Ie,nn,Ge,We,Ve,rt,nt,Ye,Xs,Ys,rr,ga,va,ya,Sa,Ca,Vm,Zs,xa,Z3,Fd,Hd,F_,Ud],isXML:!0,serializer:ft},hH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{204:{headersMapper:bA},default:{bodyMapper:le,headersMapper:NA}},queryParameters:[pe,e4,r4],urlParameters:[de],headerParameters:[me,he,Ie,Ge,t4],isXML:!0,serializer:ft},fH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:sy},202:{headersMapper:sy},default:{bodyMapper:le,headersMapper:EA}},queryParameters:[pe,Br,ei,n4],urlParameters:[de],headerParameters:[me,he,Ie,Ge,Ye,j_,i4],isXML:!0,serializer:ft},gH={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{headersMapper:TA},default:{bodyMapper:le,headersMapper:IA}},queryParameters:[ji,pe,tS],urlParameters:[de],headerParameters:[me,he,Ie],isXML:!0,serializer:ft},vH={path:"/{containerName}/{blob}",httpMethod:"POST",responses:{200:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:oy},206:{bodyMapper:{type:{name:"Stream"},serializedName:"parsedResponse"},headersMapper:oy},default:{bodyMapper:le,headersMapper:AA}},requestBody:s4,queryParameters:[pe,Br,o4],urlParameters:[de],headerParameters:[ca,Li,me,he,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:ft},yH={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{bodyMapper:Xy,headersMapper:_A},default:{bodyMapper:le,headersMapper:zA}},queryParameters:[pe,Br,ei,H_],urlParameters:[de],headerParameters:[me,he,Ie,Ge,Ye],isXML:!0,serializer:ft},SH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{204:{headersMapper:MA},default:{bodyMapper:le,headersMapper:kA}},requestBody:a4,queryParameters:[pe,ei,H_],urlParameters:[de],headerParameters:[ca,Li,me,he,Ge,Ye,qi,Pa],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:ft};class CH{client;constructor(t){this.client=t}create(t,r,n){return this.client.sendOperationRequest({contentLength:t,blobContentLength:r,options:n},xH)}uploadPages(t,r,n){return this.client.sendOperationRequest({contentLength:t,body:r,options:n},PH)}clearPages(t,r){return this.client.sendOperationRequest({contentLength:t,options:r},RH)}uploadPagesFromURL(t,r,n,i,o){return this.client.sendOperationRequest({sourceUrl:t,sourceRange:r,contentLength:n,range:i,options:o},wH)}getPageRanges(t){return this.client.sendOperationRequest({options:t},bH)}getPageRangesDiff(t){return this.client.sendOperationRequest({options:t},NH)}resize(t,r){return this.client.sendOperationRequest({blobContentLength:t,options:r},EH)}updateSequenceNumber(t,r){return this.client.sendOperationRequest({sequenceNumberAction:t,options:r},TH)}copyIncremental(t,r){return this.client.sendOperationRequest({copySource:t,options:r},IH)}}const ti=ia(aa,!0),xH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:OA},default:{bodyMapper:le,headersMapper:DA}},queryParameters:[pe],urlParameters:[de],headerParameters:[me,he,Ie,Er,nn,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,ua,da,pa,ma,ha,fa,Xs,Ys,rr,ga,Zs,xa,c4,U_,$_],isXML:!0,serializer:ti},PH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:BA},default:{bodyMapper:le,headersMapper:LA}},requestBody:Gm,queryParameters:[pe,rS],urlParameters:[de],headerParameters:[me,he,Er,Ge,We,Ve,qd,Ft,Ht,Ut,rt,nt,Ye,rr,qi,Pa,Km,Jm,W_,nS,iS,sS],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"binary",serializer:ti},RH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:jA},default:{bodyMapper:le,headersMapper:qA}},queryParameters:[pe,rS],urlParameters:[de],headerParameters:[me,he,Ie,Er,Ge,We,Ve,qd,Ft,Ht,Ut,rt,nt,Ye,rr,nS,iS,sS,l4],isXML:!0,serializer:ti},wH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:FA},default:{bodyMapper:le,headersMapper:HA}},queryParameters:[pe,rS],urlParameters:[de],headerParameters:[me,he,Ie,Er,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,rr,va,ya,Sa,Ca,Fd,Hd,Ud,W_,nS,iS,sS,oS,u4,aS,d4],isXML:!0,serializer:ti},bH={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{bodyMapper:Yy,headersMapper:UA},default:{bodyMapper:le,headersMapper:$A}},queryParameters:[pe,Js,Qs,Br,V_],urlParameters:[de],headerParameters:[me,he,Ie,Ge,We,Ve,qd,rt,nt,Ye],isXML:!0,serializer:ti},NH={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{bodyMapper:Yy,headersMapper:WA},default:{bodyMapper:le,headersMapper:VA}},queryParameters:[pe,Js,Qs,Br,V_,p4],urlParameters:[de],headerParameters:[me,he,Ie,Ge,We,Ve,qd,rt,nt,Ye,m4],isXML:!0,serializer:ti},EH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:KA},default:{bodyMapper:le,headersMapper:GA}},queryParameters:[ji,pe],urlParameters:[de],headerParameters:[me,he,Ie,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,rr,U_],isXML:!0,serializer:ti},TH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:JA},default:{bodyMapper:le,headersMapper:QA}},queryParameters:[ji,pe],urlParameters:[de],headerParameters:[me,he,Ie,Ge,We,Ve,rt,nt,Ye,$_,h4],isXML:!0,serializer:ti},IH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{202:{headersMapper:XA},default:{bodyMapper:le,headersMapper:YA}},queryParameters:[pe,f4],urlParameters:[de],headerParameters:[me,he,Ie,We,Ve,rt,nt,Ye,Vm],isXML:!0,serializer:ti};class AH{client;constructor(t){this.client=t}create(t,r){return this.client.sendOperationRequest({contentLength:t,options:r},_H)}appendBlock(t,r,n){return this.client.sendOperationRequest({contentLength:t,body:r,options:n},zH)}appendBlockFromUrl(t,r,n){return this.client.sendOperationRequest({sourceUrl:t,contentLength:r,options:n},MH)}seal(t){return this.client.sendOperationRequest({options:t},kH)}}const Qm=ia(aa,!0),_H={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:ZA},default:{bodyMapper:le,headersMapper:e_}},queryParameters:[pe],urlParameters:[de],headerParameters:[me,he,Ie,Er,nn,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,ua,da,pa,ma,ha,fa,Xs,Ys,rr,Zs,xa,g4],isXML:!0,serializer:Qm},zH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:t_},default:{bodyMapper:le,headersMapper:r_}},requestBody:Gm,queryParameters:[pe,K_],urlParameters:[de],headerParameters:[me,he,Er,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,rr,qi,Pa,Km,Jm,G_,cS],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"binary",serializer:Qm},MH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:n_},default:{bodyMapper:le,headersMapper:i_}},queryParameters:[pe,K_],urlParameters:[de],headerParameters:[me,he,Ie,Er,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,rr,va,ya,Sa,Ca,Fd,Hd,Ud,qi,oS,aS,G_,cS,J_],isXML:!0,serializer:Qm},kH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{200:{headersMapper:s_},default:{bodyMapper:le,headersMapper:o_}},queryParameters:[pe,v4],urlParameters:[de],headerParameters:[me,he,Ie,Ge,We,Ve,rt,nt,cS],isXML:!0,serializer:Qm};class OH{client;constructor(t){this.client=t}upload(t,r,n){return this.client.sendOperationRequest({contentLength:t,body:r,options:n},DH)}putBlobFromUrl(t,r,n){return this.client.sendOperationRequest({contentLength:t,copySource:r,options:n},BH)}stageBlock(t,r,n,i){return this.client.sendOperationRequest({blockId:t,contentLength:r,body:n,options:i},LH)}stageBlockFromURL(t,r,n,i){return this.client.sendOperationRequest({blockId:t,contentLength:r,sourceUrl:n,options:i},jH)}commitBlockList(t,r){return this.client.sendOperationRequest({blocks:t,options:r},qH)}getBlockList(t,r){return this.client.sendOperationRequest({listType:t,options:r},FH)}}const Ra=ia(aa,!0),DH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:a_},default:{bodyMapper:le,headersMapper:c_}},requestBody:Gm,queryParameters:[pe],urlParameters:[de],headerParameters:[me,he,Er,nn,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,ua,da,pa,ma,ha,fa,Xs,Ys,rr,ga,Zs,xa,qi,Pa,Km,Jm,Q_],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"binary",serializer:Ra},BH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:l_},default:{bodyMapper:le,headersMapper:u_}},queryParameters:[pe],urlParameters:[de],headerParameters:[me,he,Ie,Er,nn,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,ua,da,pa,ma,ha,fa,rr,ga,va,ya,Sa,Ca,q_,Vm,Zs,Fd,Hd,F_,Ud,qi,Q_,y4],isXML:!0,serializer:Ra},LH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:d_},default:{bodyMapper:le,headersMapper:p_}},requestBody:Gm,queryParameters:[pe,X_,Y_],urlParameters:[de],headerParameters:[me,he,Er,Ge,Ft,Ht,Ut,rr,qi,Pa,Km,Jm],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"binary",serializer:Ra},jH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:m_},default:{bodyMapper:le,headersMapper:h_}},queryParameters:[pe,X_,Y_],urlParameters:[de],headerParameters:[me,he,Ie,Er,Ge,Ft,Ht,Ut,rr,va,ya,Sa,Ca,Fd,Hd,Ud,oS,aS,J_],isXML:!0,serializer:Ra},qH={path:"/{containerName}/{blob}",httpMethod:"PUT",responses:{201:{headersMapper:f_},default:{bodyMapper:le,headersMapper:g_}},requestBody:S4,queryParameters:[pe,Z_],urlParameters:[de],headerParameters:[ca,Li,me,he,nn,Ge,We,Ve,Ft,Ht,Ut,rt,nt,Ye,ua,da,pa,ma,ha,fa,Xs,Ys,rr,ga,Zs,xa,qi,Pa],isXML:!0,contentType:"application/xml; charset=utf-8",mediaType:"xml",serializer:Ra},FH={path:"/{containerName}/{blob}",httpMethod:"GET",responses:{200:{bodyMapper:$I,headersMapper:v_},default:{bodyMapper:le,headersMapper:y_}},queryParameters:[pe,Br,Z_,C4],urlParameters:[de],headerParameters:[me,he,Ie,Ge,Ye],isXML:!0,serializer:Ra};let HH=class extends Q2{url;version;constructor(t,r){if(t===void 0)throw new Error("'url' cannot be null");r||(r={});const n={requestContentType:"application/json; charset=utf-8"},i="azsdk-js-azure-storage-blob/12.28.0",o=r.userAgentOptions&&r.userAgentOptions.userAgentPrefix?`${r.userAgentOptions.userAgentPrefix} ${i}`:`${i}`,l={...n,...r,userAgentOptions:{userAgentPrefix:o},endpoint:r.endpoint??r.baseUri??"{url}"};super(l),this.url=t,this.version=r.version||"2025-07-05",this.service=new x4(this),this.container=new A4(this),this.blob=new J4(this),this.pageBlob=new CH(this),this.appendBlob=new AH(this),this.blockBlob=new OH(this)}service;container;blob;pageBlob;appendBlob;blockBlob};class ez extends HH{async sendOperationRequest(t,r){const n={...r};return(n.path==="/{containerName}"||n.path==="/{containerName}/{blob}")&&(n.path=""),super.sendOperationRequest(t,n)}}class lS{url;accountName;pipeline;credential;storageClientContext;isHttps;constructor(t,r){this.url=yF(t),this.accountName=_I(t),this.pipeline=r,this.storageClientContext=new ez(this.url,kI(r)),this.isHttps=AI(xF(this.url)||"","https"),this.credential=OI(r);const n=this.storageClientContext;n.requestContentType=void 0}}const ne=eI({packageName:"@azure/storage-blob",packageVersion:RI,namespace:"Microsoft.Storage"});class Pn{static parse(t){const r=new Pn;for(const n of t)switch(n){case"r":r.read=!0;break;case"a":r.add=!0;break;case"c":r.create=!0;break;case"w":r.write=!0;break;case"d":r.delete=!0;break;case"x":r.deleteVersion=!0;break;case"t":r.tag=!0;break;case"m":r.move=!0;break;case"e":r.execute=!0;break;case"i":r.setImmutabilityPolicy=!0;break;case"y":r.permanentDelete=!0;break;default:throw new RangeError(`Invalid permission: ${n}`)}return r}static from(t){const r=new Pn;return t.read&&(r.read=!0),t.add&&(r.add=!0),t.create&&(r.create=!0),t.write&&(r.write=!0),t.delete&&(r.delete=!0),t.deleteVersion&&(r.deleteVersion=!0),t.tag&&(r.tag=!0),t.move&&(r.move=!0),t.execute&&(r.execute=!0),t.setImmutabilityPolicy&&(r.setImmutabilityPolicy=!0),t.permanentDelete&&(r.permanentDelete=!0),r}read=!1;add=!1;create=!1;write=!1;delete=!1;deleteVersion=!1;tag=!1;move=!1;execute=!1;setImmutabilityPolicy=!1;permanentDelete=!1;toString(){const t=[];return this.read&&t.push("r"),this.add&&t.push("a"),this.create&&t.push("c"),this.write&&t.push("w"),this.delete&&t.push("d"),this.deleteVersion&&t.push("x"),this.tag&&t.push("t"),this.move&&t.push("m"),this.execute&&t.push("e"),this.setImmutabilityPolicy&&t.push("i"),this.permanentDelete&&t.push("y"),t.join("")}}class Rn{static parse(t){const r=new Rn;for(const n of t)switch(n){case"r":r.read=!0;break;case"a":r.add=!0;break;case"c":r.create=!0;break;case"w":r.write=!0;break;case"d":r.delete=!0;break;case"l":r.list=!0;break;case"t":r.tag=!0;break;case"x":r.deleteVersion=!0;break;case"m":r.move=!0;break;case"e":r.execute=!0;break;case"i":r.setImmutabilityPolicy=!0;break;case"y":r.permanentDelete=!0;break;case"f":r.filterByTags=!0;break;default:throw new RangeError(`Invalid permission ${n}`)}return r}static from(t){const r=new Rn;return t.read&&(r.read=!0),t.add&&(r.add=!0),t.create&&(r.create=!0),t.write&&(r.write=!0),t.delete&&(r.delete=!0),t.list&&(r.list=!0),t.deleteVersion&&(r.deleteVersion=!0),t.tag&&(r.tag=!0),t.move&&(r.move=!0),t.execute&&(r.execute=!0),t.setImmutabilityPolicy&&(r.setImmutabilityPolicy=!0),t.permanentDelete&&(r.permanentDelete=!0),t.filterByTags&&(r.filterByTags=!0),r}read=!1;add=!1;create=!1;write=!1;delete=!1;deleteVersion=!1;list=!1;tag=!1;move=!1;execute=!1;setImmutabilityPolicy=!1;permanentDelete=!1;filterByTags=!1;toString(){const t=[];return this.read&&t.push("r"),this.add&&t.push("a"),this.create&&t.push("c"),this.write&&t.push("w"),this.delete&&t.push("d"),this.deleteVersion&&t.push("x"),this.list&&t.push("l"),this.tag&&t.push("t"),this.move&&t.push("m"),this.execute&&t.push("e"),this.setImmutabilityPolicy&&t.push("i"),this.permanentDelete&&t.push("y"),this.filterByTags&&t.push("f"),t.join("")}}class UH{}function wn(e){return e.end?`${e.start}-${e.end}`:e.start}var cR;(function(e){e.Https="https",e.HttpsAndHttp="https,http"})(cR||(cR={}));class Hi{version;protocol;startsOn;expiresOn;permissions;services;resourceTypes;identifier;encryptionScope;resource;signature;cacheControl;contentDisposition;contentEncoding;contentLanguage;contentType;ipRangeInner;signedOid;signedTenantId;signedStartsOn;signedExpiresOn;signedService;signedVersion;preauthorizedAgentObjectId;correlationId;get ipRange(){if(this.ipRangeInner)return{end:this.ipRangeInner.end,start:this.ipRangeInner.start}}constructor(t,r,n,i,o,l,a,u,d,m,h,g,v,x,C,w,R,b,N,T){this.version=t,this.signature=r,n!==void 0&&typeof n!="string"?(this.permissions=n.permissions,this.services=n.services,this.resourceTypes=n.resourceTypes,this.protocol=n.protocol,this.startsOn=n.startsOn,this.expiresOn=n.expiresOn,this.ipRangeInner=n.ipRange,this.identifier=n.identifier,this.encryptionScope=n.encryptionScope,this.resource=n.resource,this.cacheControl=n.cacheControl,this.contentDisposition=n.contentDisposition,this.contentEncoding=n.contentEncoding,this.contentLanguage=n.contentLanguage,this.contentType=n.contentType,n.userDelegationKey&&(this.signedOid=n.userDelegationKey.signedObjectId,this.signedTenantId=n.userDelegationKey.signedTenantId,this.signedStartsOn=n.userDelegationKey.signedStartsOn,this.signedExpiresOn=n.userDelegationKey.signedExpiresOn,this.signedService=n.userDelegationKey.signedService,this.signedVersion=n.userDelegationKey.signedVersion,this.preauthorizedAgentObjectId=n.preauthorizedAgentObjectId,this.correlationId=n.correlationId)):(this.services=i,this.resourceTypes=o,this.expiresOn=u,this.permissions=n,this.protocol=l,this.startsOn=a,this.ipRangeInner=d,this.encryptionScope=T,this.identifier=m,this.resource=h,this.cacheControl=g,this.contentDisposition=v,this.contentEncoding=x,this.contentLanguage=C,this.contentType=w,R&&(this.signedOid=R.signedObjectId,this.signedTenantId=R.signedTenantId,this.signedStartsOn=R.signedStartsOn,this.signedExpiresOn=R.signedExpiresOn,this.signedService=R.signedService,this.signedVersion=R.signedVersion,this.preauthorizedAgentObjectId=b,this.correlationId=N))}toString(){const t=["sv","ss","srt","spr","st","se","sip","si","ses","skoid","sktid","skt","ske","sks","skv","sr","sp","sig","rscc","rscd","rsce","rscl","rsct","saoid","scid"],r=[];for(const n of t)switch(n){case"sv":this.tryAppendQueryParameter(r,n,this.version);break;case"ss":this.tryAppendQueryParameter(r,n,this.services);break;case"srt":this.tryAppendQueryParameter(r,n,this.resourceTypes);break;case"spr":this.tryAppendQueryParameter(r,n,this.protocol);break;case"st":this.tryAppendQueryParameter(r,n,this.startsOn?Qe(this.startsOn,!1):void 0);break;case"se":this.tryAppendQueryParameter(r,n,this.expiresOn?Qe(this.expiresOn,!1):void 0);break;case"sip":this.tryAppendQueryParameter(r,n,this.ipRange?wn(this.ipRange):void 0);break;case"si":this.tryAppendQueryParameter(r,n,this.identifier);break;case"ses":this.tryAppendQueryParameter(r,n,this.encryptionScope);break;case"skoid":this.tryAppendQueryParameter(r,n,this.signedOid);break;case"sktid":this.tryAppendQueryParameter(r,n,this.signedTenantId);break;case"skt":this.tryAppendQueryParameter(r,n,this.signedStartsOn?Qe(this.signedStartsOn,!1):void 0);break;case"ske":this.tryAppendQueryParameter(r,n,this.signedExpiresOn?Qe(this.signedExpiresOn,!1):void 0);break;case"sks":this.tryAppendQueryParameter(r,n,this.signedService);break;case"skv":this.tryAppendQueryParameter(r,n,this.signedVersion);break;case"sr":this.tryAppendQueryParameter(r,n,this.resource);break;case"sp":this.tryAppendQueryParameter(r,n,this.permissions);break;case"sig":this.tryAppendQueryParameter(r,n,this.signature);break;case"rscc":this.tryAppendQueryParameter(r,n,this.cacheControl);break;case"rscd":this.tryAppendQueryParameter(r,n,this.contentDisposition);break;case"rsce":this.tryAppendQueryParameter(r,n,this.contentEncoding);break;case"rscl":this.tryAppendQueryParameter(r,n,this.contentLanguage);break;case"rsct":this.tryAppendQueryParameter(r,n,this.contentType);break;case"saoid":this.tryAppendQueryParameter(r,n,this.preauthorizedAgentObjectId);break;case"scid":this.tryAppendQueryParameter(r,n,this.correlationId);break}return r.join("&")}tryAppendQueryParameter(t,r,n){n&&(r=encodeURIComponent(r),n=encodeURIComponent(n),r.length>0&&n.length>0&&t.push(`${r}=${n}`))}}function _m(e,t,r){return kd(e,t,r).sasQueryParameters}function kd(e,t,r){const n=e.version?e.version:Ky,i=t instanceof mt?t:void 0;let o;if(i===void 0&&r!==void 0&&(o=new UH(r,t)),i===void 0&&o===void 0)throw TypeError("Invalid sharedKeyCredential, userDelegationKey or accountName.");if(n>="2020-12-06")return i!==void 0?VH(e,i):n>="2025-07-05"?QH(e,o):JH(e,o);if(n>="2018-11-09")return i!==void 0?WH(e,i):n>="2020-02-10"?GH(e,o):KH(e,o);if(n>="2015-04-05"){if(i!==void 0)return $H(e,i);throw new RangeError("'version' must be >= '2018-11-09' when generating user delegation SAS using user delegation key.")}throw new RangeError("'version' must be >= '2015-04-05'.")}function $H(e,t){if(e=to(e),!e.identifier&&!(e.permissions&&e.expiresOn))throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when 'identifier' is not provided.");let r="c";e.blobName&&(r="b");let n;e.permissions&&(e.blobName?n=Pn.parse(e.permissions.toString()).toString():n=Rn.parse(e.permissions.toString()).toString());const i=[n||"",e.startsOn?Qe(e.startsOn,!1):"",e.expiresOn?Qe(e.expiresOn,!1):"",eo(t.accountName,e.containerName,e.blobName),e.identifier,e.ipRange?wn(e.ipRange):"",e.protocol?e.protocol:"",e.version,e.cacheControl?e.cacheControl:"",e.contentDisposition?e.contentDisposition:"",e.contentEncoding?e.contentEncoding:"",e.contentLanguage?e.contentLanguage:"",e.contentType?e.contentType:""].join(`
`),o=t.computeHMACSHA256(i);return{sasQueryParameters:new Hi(e.version,o,n,void 0,void 0,e.protocol,e.startsOn,e.expiresOn,e.ipRange,e.identifier,r,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType),stringToSign:i}}function WH(e,t){if(e=to(e),!e.identifier&&!(e.permissions&&e.expiresOn))throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when 'identifier' is not provided.");let r="c",n=e.snapshotTime;e.blobName&&(r="b",e.snapshotTime?r="bs":e.versionId&&(r="bv",n=e.versionId));let i;e.permissions&&(e.blobName?i=Pn.parse(e.permissions.toString()).toString():i=Rn.parse(e.permissions.toString()).toString());const o=[i||"",e.startsOn?Qe(e.startsOn,!1):"",e.expiresOn?Qe(e.expiresOn,!1):"",eo(t.accountName,e.containerName,e.blobName),e.identifier,e.ipRange?wn(e.ipRange):"",e.protocol?e.protocol:"",e.version,r,n,e.cacheControl?e.cacheControl:"",e.contentDisposition?e.contentDisposition:"",e.contentEncoding?e.contentEncoding:"",e.contentLanguage?e.contentLanguage:"",e.contentType?e.contentType:""].join(`
`),l=t.computeHMACSHA256(o);return{sasQueryParameters:new Hi(e.version,l,i,void 0,void 0,e.protocol,e.startsOn,e.expiresOn,e.ipRange,e.identifier,r,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType),stringToSign:o}}function VH(e,t){if(e=to(e),!e.identifier&&!(e.permissions&&e.expiresOn))throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when 'identifier' is not provided.");let r="c",n=e.snapshotTime;e.blobName&&(r="b",e.snapshotTime?r="bs":e.versionId&&(r="bv",n=e.versionId));let i;e.permissions&&(e.blobName?i=Pn.parse(e.permissions.toString()).toString():i=Rn.parse(e.permissions.toString()).toString());const o=[i||"",e.startsOn?Qe(e.startsOn,!1):"",e.expiresOn?Qe(e.expiresOn,!1):"",eo(t.accountName,e.containerName,e.blobName),e.identifier,e.ipRange?wn(e.ipRange):"",e.protocol?e.protocol:"",e.version,r,n,e.encryptionScope,e.cacheControl?e.cacheControl:"",e.contentDisposition?e.contentDisposition:"",e.contentEncoding?e.contentEncoding:"",e.contentLanguage?e.contentLanguage:"",e.contentType?e.contentType:""].join(`
`),l=t.computeHMACSHA256(o);return{sasQueryParameters:new Hi(e.version,l,i,void 0,void 0,e.protocol,e.startsOn,e.expiresOn,e.ipRange,e.identifier,r,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType,void 0,void 0,void 0,e.encryptionScope),stringToSign:o}}function KH(e,t){if(e=to(e),!e.permissions||!e.expiresOn)throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when generating user delegation SAS.");let r="c",n=e.snapshotTime;e.blobName&&(r="b",e.snapshotTime?r="bs":e.versionId&&(r="bv",n=e.versionId));let i;e.permissions&&(e.blobName?i=Pn.parse(e.permissions.toString()).toString():i=Rn.parse(e.permissions.toString()).toString());const o=[i||"",e.startsOn?Qe(e.startsOn,!1):"",e.expiresOn?Qe(e.expiresOn,!1):"",eo(t.accountName,e.containerName,e.blobName),t.userDelegationKey.signedObjectId,t.userDelegationKey.signedTenantId,t.userDelegationKey.signedStartsOn?Qe(t.userDelegationKey.signedStartsOn,!1):"",t.userDelegationKey.signedExpiresOn?Qe(t.userDelegationKey.signedExpiresOn,!1):"",t.userDelegationKey.signedService,t.userDelegationKey.signedVersion,e.ipRange?wn(e.ipRange):"",e.protocol?e.protocol:"",e.version,r,n,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType].join(`
`),l=t.computeHMACSHA256(o);return{sasQueryParameters:new Hi(e.version,l,i,void 0,void 0,e.protocol,e.startsOn,e.expiresOn,e.ipRange,e.identifier,r,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType,t.userDelegationKey),stringToSign:o}}function GH(e,t){if(e=to(e),!e.permissions||!e.expiresOn)throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when generating user delegation SAS.");let r="c",n=e.snapshotTime;e.blobName&&(r="b",e.snapshotTime?r="bs":e.versionId&&(r="bv",n=e.versionId));let i;e.permissions&&(e.blobName?i=Pn.parse(e.permissions.toString()).toString():i=Rn.parse(e.permissions.toString()).toString());const o=[i||"",e.startsOn?Qe(e.startsOn,!1):"",e.expiresOn?Qe(e.expiresOn,!1):"",eo(t.accountName,e.containerName,e.blobName),t.userDelegationKey.signedObjectId,t.userDelegationKey.signedTenantId,t.userDelegationKey.signedStartsOn?Qe(t.userDelegationKey.signedStartsOn,!1):"",t.userDelegationKey.signedExpiresOn?Qe(t.userDelegationKey.signedExpiresOn,!1):"",t.userDelegationKey.signedService,t.userDelegationKey.signedVersion,e.preauthorizedAgentObjectId,void 0,e.correlationId,e.ipRange?wn(e.ipRange):"",e.protocol?e.protocol:"",e.version,r,n,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType].join(`
`),l=t.computeHMACSHA256(o);return{sasQueryParameters:new Hi(e.version,l,i,void 0,void 0,e.protocol,e.startsOn,e.expiresOn,e.ipRange,e.identifier,r,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType,t.userDelegationKey,e.preauthorizedAgentObjectId,e.correlationId),stringToSign:o}}function JH(e,t){if(e=to(e),!e.permissions||!e.expiresOn)throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when generating user delegation SAS.");let r="c",n=e.snapshotTime;e.blobName&&(r="b",e.snapshotTime?r="bs":e.versionId&&(r="bv",n=e.versionId));let i;e.permissions&&(e.blobName?i=Pn.parse(e.permissions.toString()).toString():i=Rn.parse(e.permissions.toString()).toString());const o=[i||"",e.startsOn?Qe(e.startsOn,!1):"",e.expiresOn?Qe(e.expiresOn,!1):"",eo(t.accountName,e.containerName,e.blobName),t.userDelegationKey.signedObjectId,t.userDelegationKey.signedTenantId,t.userDelegationKey.signedStartsOn?Qe(t.userDelegationKey.signedStartsOn,!1):"",t.userDelegationKey.signedExpiresOn?Qe(t.userDelegationKey.signedExpiresOn,!1):"",t.userDelegationKey.signedService,t.userDelegationKey.signedVersion,e.preauthorizedAgentObjectId,void 0,e.correlationId,e.ipRange?wn(e.ipRange):"",e.protocol?e.protocol:"",e.version,r,n,e.encryptionScope,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType].join(`
`),l=t.computeHMACSHA256(o);return{sasQueryParameters:new Hi(e.version,l,i,void 0,void 0,e.protocol,e.startsOn,e.expiresOn,e.ipRange,e.identifier,r,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType,t.userDelegationKey,e.preauthorizedAgentObjectId,e.correlationId,e.encryptionScope),stringToSign:o}}function QH(e,t){if(e=to(e),!e.permissions||!e.expiresOn)throw new RangeError("Must provide 'permissions' and 'expiresOn' for Blob SAS generation when generating user delegation SAS.");let r="c",n=e.snapshotTime;e.blobName&&(r="b",e.snapshotTime?r="bs":e.versionId&&(r="bv",n=e.versionId));let i;e.permissions&&(e.blobName?i=Pn.parse(e.permissions.toString()).toString():i=Rn.parse(e.permissions.toString()).toString());const o=[i||"",e.startsOn?Qe(e.startsOn,!1):"",e.expiresOn?Qe(e.expiresOn,!1):"",eo(t.accountName,e.containerName,e.blobName),t.userDelegationKey.signedObjectId,t.userDelegationKey.signedTenantId,t.userDelegationKey.signedStartsOn?Qe(t.userDelegationKey.signedStartsOn,!1):"",t.userDelegationKey.signedExpiresOn?Qe(t.userDelegationKey.signedExpiresOn,!1):"",t.userDelegationKey.signedService,t.userDelegationKey.signedVersion,e.preauthorizedAgentObjectId,void 0,e.correlationId,void 0,void 0,e.ipRange?wn(e.ipRange):"",e.protocol?e.protocol:"",e.version,r,n,e.encryptionScope,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType].join(`
`),l=t.computeHMACSHA256(o);return{sasQueryParameters:new Hi(e.version,l,i,void 0,void 0,e.protocol,e.startsOn,e.expiresOn,e.ipRange,e.identifier,r,e.cacheControl,e.contentDisposition,e.contentEncoding,e.contentLanguage,e.contentType,t.userDelegationKey,e.preauthorizedAgentObjectId,e.correlationId,e.encryptionScope),stringToSign:o}}function eo(e,t,r){const n=[`/blob/${e}/${t}`];return r&&n.push(`/${r}`),n.join("")}function to(e){const t=e.version?e.version:Ky;if(e.snapshotTime&&t<"2018-11-09")throw RangeError("'version' must be >= '2018-11-09' when providing 'snapshotTime'.");if(e.blobName===void 0&&e.snapshotTime)throw RangeError("Must provide 'blobName' when providing 'snapshotTime'.");if(e.versionId&&t<"2019-10-10")throw RangeError("'version' must be >= '2019-10-10' when providing 'versionId'.");if(e.blobName===void 0&&e.versionId)throw RangeError("Must provide 'blobName' when providing 'versionId'.");if(e.permissions&&e.permissions.setImmutabilityPolicy&&t<"2020-08-04")throw RangeError("'version' must be >= '2020-08-04' when provided 'i' permission.");if(e.permissions&&e.permissions.deleteVersion&&t<"2019-10-10")throw RangeError("'version' must be >= '2019-10-10' when providing 'x' permission.");if(e.permissions&&e.permissions.permanentDelete&&t<"2019-10-10")throw RangeError("'version' must be >= '2019-10-10' when providing 'y' permission.");if(e.permissions&&e.permissions.tag&&t<"2019-12-12")throw RangeError("'version' must be >= '2019-12-12' when providing 't' permission.");if(t<"2020-02-10"&&e.permissions&&(e.permissions.move||e.permissions.execute))throw RangeError("'version' must be >= '2020-02-10' when providing the 'm' or 'e' permission.");if(t<"2021-04-10"&&e.permissions&&e.permissions.filterByTags)throw RangeError("'version' must be >= '2021-04-10' when providing the 'f' permission.");if(t<"2020-02-10"&&(e.preauthorizedAgentObjectId||e.correlationId))throw RangeError("'version' must be >= '2020-02-10' when providing 'preauthorizedAgentObjectId' or 'correlationId'.");if(e.encryptionScope&&t<"2020-12-06")throw RangeError("'version' must be >= '2020-12-06' when provided 'encryptionScope' in SAS.");return e.version=t,e}class tz{_leaseId;_url;_containerOrBlobOperation;_isContainer;get leaseId(){return this._leaseId}get url(){return this._url}constructor(t,r){const n=t.storageClientContext;this._url=t.url,t.name===void 0?(this._isContainer=!0,this._containerOrBlobOperation=n.container):(this._isContainer=!1,this._containerOrBlobOperation=n.blob),r||(r=Tm()),this._leaseId=r}async acquireLease(t,r={}){if(this._isContainer&&(r.conditions?.ifMatch&&r.conditions?.ifMatch!==gn||r.conditions?.ifNoneMatch&&r.conditions?.ifNoneMatch!==gn||r.conditions?.tagConditions))throw new RangeError("The IfMatch, IfNoneMatch and tags access conditions are ignored by the service. Values other than undefined or their default values are not acceptable.");return ne.withSpan("BlobLeaseClient-acquireLease",r,async n=>ve(await this._containerOrBlobOperation.acquireLease({abortSignal:r.abortSignal,duration:t,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},proposedLeaseId:this._leaseId,tracingOptions:n.tracingOptions})))}async changeLease(t,r={}){if(this._isContainer&&(r.conditions?.ifMatch&&r.conditions?.ifMatch!==gn||r.conditions?.ifNoneMatch&&r.conditions?.ifNoneMatch!==gn||r.conditions?.tagConditions))throw new RangeError("The IfMatch, IfNoneMatch and tags access conditions are ignored by the service. Values other than undefined or their default values are not acceptable.");return ne.withSpan("BlobLeaseClient-changeLease",r,async n=>{const i=ve(await this._containerOrBlobOperation.changeLease(this._leaseId,t,{abortSignal:r.abortSignal,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},tracingOptions:n.tracingOptions}));return this._leaseId=t,i})}async releaseLease(t={}){if(this._isContainer&&(t.conditions?.ifMatch&&t.conditions?.ifMatch!==gn||t.conditions?.ifNoneMatch&&t.conditions?.ifNoneMatch!==gn||t.conditions?.tagConditions))throw new RangeError("The IfMatch, IfNoneMatch and tags access conditions are ignored by the service. Values other than undefined or their default values are not acceptable.");return ne.withSpan("BlobLeaseClient-releaseLease",t,async r=>ve(await this._containerOrBlobOperation.releaseLease(this._leaseId,{abortSignal:t.abortSignal,modifiedAccessConditions:{...t.conditions,ifTags:t.conditions?.tagConditions},tracingOptions:r.tracingOptions})))}async renewLease(t={}){if(this._isContainer&&(t.conditions?.ifMatch&&t.conditions?.ifMatch!==gn||t.conditions?.ifNoneMatch&&t.conditions?.ifNoneMatch!==gn||t.conditions?.tagConditions))throw new RangeError("The IfMatch, IfNoneMatch and tags access conditions are ignored by the service. Values other than undefined or their default values are not acceptable.");return ne.withSpan("BlobLeaseClient-renewLease",t,async r=>this._containerOrBlobOperation.renewLease(this._leaseId,{abortSignal:t.abortSignal,modifiedAccessConditions:{...t.conditions,ifTags:t.conditions?.tagConditions},tracingOptions:r.tracingOptions}))}async breakLease(t,r={}){if(this._isContainer&&(r.conditions?.ifMatch&&r.conditions?.ifMatch!==gn||r.conditions?.ifNoneMatch&&r.conditions?.ifNoneMatch!==gn||r.conditions?.tagConditions))throw new RangeError("The IfMatch, IfNoneMatch and tags access conditions are ignored by the service. Values other than undefined or their default values are not acceptable.");return ne.withSpan("BlobLeaseClient-breakLease",r,async n=>{const i={abortSignal:r.abortSignal,breakPeriod:t,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},tracingOptions:n.tracingOptions};return ve(await this._containerOrBlobOperation.breakLease(i))})}}const XH=1;class YH{get acceptRanges(){return this.originalResponse.acceptRanges}get cacheControl(){return this.originalResponse.cacheControl}get contentDisposition(){return this.originalResponse.contentDisposition}get contentEncoding(){return this.originalResponse.contentEncoding}get contentLanguage(){return this.originalResponse.contentLanguage}get blobSequenceNumber(){return this.originalResponse.blobSequenceNumber}get blobType(){return this.originalResponse.blobType}get contentLength(){return this.originalResponse.contentLength}get contentMD5(){return this.originalResponse.contentMD5}get contentRange(){return this.originalResponse.contentRange}get contentType(){return this.originalResponse.contentType}get copyCompletedOn(){}get copyId(){return this.originalResponse.copyId}get copyProgress(){return this.originalResponse.copyProgress}get copySource(){return this.originalResponse.copySource}get copyStatus(){return this.originalResponse.copyStatus}get copyStatusDescription(){return this.originalResponse.copyStatusDescription}get leaseDuration(){return this.originalResponse.leaseDuration}get leaseState(){return this.originalResponse.leaseState}get leaseStatus(){return this.originalResponse.leaseStatus}get date(){return this.originalResponse.date}get blobCommittedBlockCount(){return this.originalResponse.blobCommittedBlockCount}get etag(){return this.originalResponse.etag}get errorCode(){return this.originalResponse.errorCode}get isServerEncrypted(){return this.originalResponse.isServerEncrypted}get blobContentMD5(){return this.originalResponse.blobContentMD5}get lastModified(){return this.originalResponse.lastModified}get metadata(){return this.originalResponse.metadata}get requestId(){return this.originalResponse.requestId}get clientRequestId(){return this.originalResponse.clientRequestId}get version(){return this.originalResponse.version}get encryptionKeySha256(){return this.originalResponse.encryptionKeySha256}get contentCrc64(){return this.originalResponse.contentCrc64}get blobBody(){throw Error("Quick query in browser is not supported yet.")}get readableStreamBody(){}get _response(){return this.originalResponse._response}originalResponse;constructor(t,r={}){this.originalResponse=t}}var lR;(function(e){e.Hot="Hot",e.Cool="Cool",e.Cold="Cold",e.Archive="Archive"})(lR||(lR={}));var uR;(function(e){e.P4="P4",e.P6="P6",e.P10="P10",e.P15="P15",e.P20="P20",e.P30="P30",e.P40="P40",e.P50="P50",e.P60="P60",e.P70="P70",e.P80="P80"})(uR||(uR={}));function Us(e){if(e!==void 0)return e}function qt(e,t){if(e&&!t)throw new RangeError("Customer-provided encryption key must be used over HTTPS.");e&&!e.encryptionAlgorithm&&(e.encryptionAlgorithm=dF)}var dR;(function(e){e.StorageOAuthScopes="https://storage.azure.com/.default",e.DiskComputeOAuthScopes="https://disk.compute.azure.com/.default"})(dR||(dR={}));function fg(e){const t=(e._response.parsedBody.pageRange||[]).map(n=>({offset:n.start,count:n.end-n.start})),r=(e._response.parsedBody.clearRange||[]).map(n=>({offset:n.start,count:n.end-n.start}));return{...e,pageRange:t,clearRange:r,_response:{...e._response,parsedBody:{pageRange:t,clearRange:r}}}}class uS extends Error{constructor(t){super(t),this.name="PollerStoppedError",Object.setPrototypeOf(this,uS.prototype)}}class dS extends Error{constructor(t){super(t),this.name="PollerCancelledError",Object.setPrototypeOf(this,dS.prototype)}}class ZH{constructor(t){this.resolveOnUnsuccessful=!1,this.stopped=!0,this.pollProgressCallbacks=[],this.operation=t,this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n}),this.promise.catch(()=>{})}async startPolling(t={}){for(this.stopped&&(this.stopped=!1);!this.isStopped()&&!this.isDone();)await this.poll(t),await this.delay()}async pollOnce(t={}){this.isDone()||(this.operation=await this.operation.update({abortSignal:t.abortSignal,fireProgress:this.fireProgress.bind(this)})),this.processUpdatedState()}fireProgress(t){for(const r of this.pollProgressCallbacks)r(t)}async cancelOnce(t={}){this.operation=await this.operation.cancel(t)}poll(t={}){if(!this.pollOncePromise){this.pollOncePromise=this.pollOnce(t);const r=()=>{this.pollOncePromise=void 0};this.pollOncePromise.then(r,r).catch(this.reject)}return this.pollOncePromise}processUpdatedState(){if(this.operation.state.error&&(this.stopped=!0,!this.resolveOnUnsuccessful))throw this.reject(this.operation.state.error),this.operation.state.error;if(this.operation.state.isCancelled&&(this.stopped=!0,!this.resolveOnUnsuccessful)){const t=new dS("Operation was canceled");throw this.reject(t),t}this.isDone()&&this.resolve&&this.resolve(this.getResult())}async pollUntilDone(t={}){return this.stopped&&this.startPolling(t).catch(this.reject),this.processUpdatedState(),this.promise}onProgress(t){return this.pollProgressCallbacks.push(t),()=>{this.pollProgressCallbacks=this.pollProgressCallbacks.filter(r=>r!==t)}}isDone(){const t=this.operation.state;return!!(t.isCompleted||t.isCancelled||t.error)}stopPolling(){this.stopped||(this.stopped=!0,this.reject&&this.reject(new uS("This poller is already stopped")))}isStopped(){return this.stopped}cancelOperation(t={}){if(!this.cancelPromise)this.cancelPromise=this.cancelOnce(t);else if(t.abortSignal)throw new Error("A cancel request is currently pending");return this.cancelPromise}getOperationState(){return this.operation.state}getResult(){return this.operation.state.result}toString(){return this.operation.toString()}}class e6 extends ZH{intervalInMs;constructor(t){const{blobClient:r,copySource:n,intervalInMs:i=15e3,onProgress:o,resumeFrom:l,startCopyFromURLOptions:a}=t;let u;l&&(u=JSON.parse(l).state);const d=Nd({...u,blobClient:r,copySource:n,startCopyFromURLOptions:a});super(d),typeof o=="function"&&this.onProgress(o),this.intervalInMs=i}delay(){return QT(this.intervalInMs)}}const t6=async function(t={}){const r=this.state,{copyId:n}=r;return r.isCompleted?Nd(r):n?(await r.blobClient.abortCopyFromURL(n,{abortSignal:t.abortSignal}),r.isCancelled=!0,Nd(r)):(r.isCancelled=!0,Nd(r))},r6=async function(t={}){const r=this.state,{blobClient:n,copySource:i,startCopyFromURLOptions:o}=r;if(r.isStarted){if(!r.isCompleted)try{const l=await r.blobClient.getProperties({abortSignal:t.abortSignal}),{copyStatus:a,copyProgress:u}=l,d=r.copyProgress;u&&(r.copyProgress=u),a==="pending"&&u!==d&&typeof t.fireProgress=="function"?t.fireProgress(r):a==="success"?(r.result=l,r.isCompleted=!0):a==="failed"&&(r.error=new Error(`Blob copy failed with reason: "${l.copyStatusDescription||"unknown"}"`),r.isCompleted=!0)}catch(l){r.error=l,r.isCompleted=!0}}else{r.isStarted=!0;const l=await n.startCopyFromURL(i,o);r.copyId=l.copyId,l.copyStatus==="success"&&(r.result=l,r.isCompleted=!0)}return Nd(r)},n6=function(){return JSON.stringify({state:this.state},(t,r)=>{if(t!=="blobClient")return r})};function Nd(e){return{state:{...e},cancel:t6,toString:n6,update:r6}}function wr(e){if(e.offset<0)throw new RangeError("Range.offset cannot be smaller than 0.");if(e.count&&e.count<=0)throw new RangeError("Range.count must be larger than 0. Leave it undefined if you want a range from offset to the end.");return e.count?`bytes=${e.offset}-${e.offset+e.count-1}`:`bytes=${e.offset}-`}var lm={exports:{}},pR;function i6(){if(pR)return lm.exports;pR=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(A,k,M){return Function.prototype.apply.call(A,k,M)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:r=function(A){return Object.getOwnPropertyNames(A)};function n(T){console&&console.warn&&console.warn(T)}var i=Number.isNaN||function(A){return A!==A};function o(){o.init.call(this)}lm.exports=o,lm.exports.once=R,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function a(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");l=T}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function u(T){return T._maxListeners===void 0?o.defaultMaxListeners:T._maxListeners}o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(A){for(var k=[],M=1;M<arguments.length;M++)k.push(arguments[M]);var z=A==="error",V=this._events;if(V!==void 0)z=z&&V.error===void 0;else if(!z)return!1;if(z){var K;if(k.length>0&&(K=k[0]),K instanceof Error)throw K;var ue=new Error("Unhandled error."+(K?" ("+K.message+")":""));throw ue.context=K,ue}var we=V[A];if(we===void 0)return!1;if(typeof we=="function")t(we,this,k);else for(var H=we.length,ie=x(we,H),M=0;M<H;++M)t(ie[M],this,k);return!0};function d(T,A,k,M){var z,V,K;if(a(k),V=T._events,V===void 0?(V=T._events=Object.create(null),T._eventsCount=0):(V.newListener!==void 0&&(T.emit("newListener",A,k.listener?k.listener:k),V=T._events),K=V[A]),K===void 0)K=V[A]=k,++T._eventsCount;else if(typeof K=="function"?K=V[A]=M?[k,K]:[K,k]:M?K.unshift(k):K.push(k),z=u(T),z>0&&K.length>z&&!K.warned){K.warned=!0;var ue=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");ue.name="MaxListenersExceededWarning",ue.emitter=T,ue.type=A,ue.count=K.length,n(ue)}return T}o.prototype.addListener=function(A,k){return d(this,A,k,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(A,k){return d(this,A,k,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(T,A,k){var M={fired:!1,wrapFn:void 0,target:T,type:A,listener:k},z=m.bind(M);return z.listener=k,M.wrapFn=z,z}o.prototype.once=function(A,k){return a(k),this.on(A,h(this,A,k)),this},o.prototype.prependOnceListener=function(A,k){return a(k),this.prependListener(A,h(this,A,k)),this},o.prototype.removeListener=function(A,k){var M,z,V,K,ue;if(a(k),z=this._events,z===void 0)return this;if(M=z[A],M===void 0)return this;if(M===k||M.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete z[A],z.removeListener&&this.emit("removeListener",A,M.listener||k));else if(typeof M!="function"){for(V=-1,K=M.length-1;K>=0;K--)if(M[K]===k||M[K].listener===k){ue=M[K].listener,V=K;break}if(V<0)return this;V===0?M.shift():C(M,V),M.length===1&&(z[A]=M[0]),z.removeListener!==void 0&&this.emit("removeListener",A,ue||k)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(A){var k,M,z;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[A]),this;if(arguments.length===0){var V=Object.keys(M),K;for(z=0;z<V.length;++z)K=V[z],K!=="removeListener"&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=M[A],typeof k=="function")this.removeListener(A,k);else if(k!==void 0)for(z=k.length-1;z>=0;z--)this.removeListener(A,k[z]);return this};function g(T,A,k){var M=T._events;if(M===void 0)return[];var z=M[A];return z===void 0?[]:typeof z=="function"?k?[z.listener||z]:[z]:k?w(z):x(z,z.length)}o.prototype.listeners=function(A){return g(this,A,!0)},o.prototype.rawListeners=function(A){return g(this,A,!1)},o.listenerCount=function(T,A){return typeof T.listenerCount=="function"?T.listenerCount(A):v.call(T,A)},o.prototype.listenerCount=v;function v(T){var A=this._events;if(A!==void 0){var k=A[T];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function x(T,A){for(var k=new Array(A),M=0;M<A;++M)k[M]=T[M];return k}function C(T,A){for(;A+1<T.length;A++)T[A]=T[A+1];T.pop()}function w(T){for(var A=new Array(T.length),k=0;k<A.length;++k)A[k]=T[k].listener||T[k];return A}function R(T,A){return new Promise(function(k,M){function z(K){T.removeListener(A,V),M(K)}function V(){typeof T.removeListener=="function"&&T.removeListener("error",z),k([].slice.call(arguments))}N(T,A,V,{once:!0}),A!=="error"&&b(T,z,{once:!0})})}function b(T,A,k){typeof T.on=="function"&&N(T,"error",A,k)}function N(T,A,k,M){if(typeof T.on=="function")M.once?T.once(A,k):T.on(A,k);else if(typeof T.addEventListener=="function")T.addEventListener(A,function z(V){M.once&&T.removeEventListener(A,z),k(V)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return lm.exports}var s6=i6(),Ed;(function(e){e[e.Good=0]="Good",e[e.Error=1]="Error"})(Ed||(Ed={}));class rz{concurrency;actives=0;completed=0;offset=0;operations=[];state=Ed.Good;emitter;constructor(t=5){if(t<1)throw new RangeError("concurrency must be larger than 0");this.concurrency=t,this.emitter=new s6.EventEmitter}addOperation(t){this.operations.push(async()=>{try{this.actives++,await t(),this.actives--,this.completed++,this.parallelExecute()}catch(r){this.emitter.emit("error",r)}})}async do(){return this.operations.length===0?Promise.resolve():(this.parallelExecute(),new Promise((t,r)=>{this.emitter.on("finish",t),this.emitter.on("error",n=>{this.state=Ed.Error,r(n)})}))}nextOperation(){return this.offset<this.operations.length?this.operations[this.offset++]:null}parallelExecute(){if(this.state!==Ed.Error){if(this.completed>=this.operations.length){this.emitter.emit("finish");return}for(;this.actives<this.concurrency;){const t=this.nextOperation();if(t)t();else return}}}}const o6=function(){},a6=function(){};class en extends lS{blobContext;_name;_containerName;_versionId;_snapshot;get name(){return this._name}get containerName(){return this._containerName}constructor(t,r,n,i){i=i||{};let o,l;if(Gs(r))l=t,o=r;else if(xt&&r instanceof mt||r instanceof ht||Dr(r))l=t,i=n,o=at(r,i);else if(!r&&typeof r!="string")l=t,n&&typeof n!="string"&&(i=n),o=at(new ht,i);else if(r&&typeof r=="string"&&n&&typeof n=="string"){const a=r,u=n,d=oa(t);if(d.kind==="AccountConnString")if(xt){const m=new mt(d.accountName,d.accountKey);l=Ct(Ct(d.url,encodeURIComponent(a)),encodeURIComponent(u)),i.proxyOptions||(i.proxyOptions=na(d.proxyUri)),o=at(m,i)}else throw new Error("Account connection string is only supported in Node.js environment");else if(d.kind==="SASConnString")l=Ct(Ct(d.url,encodeURIComponent(a)),encodeURIComponent(u))+"?"+d.accountSas,o=at(new ht,i);else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}else throw new Error("Expecting non-empty strings for containerName and blobName parameters");super(l,o),{blobName:this._name,containerName:this._containerName}=this.getBlobAndContainerNamesFromUrl(),this.blobContext=this.storageClientContext.blob,this._snapshot=eR(this.url,Zr.Parameters.SNAPSHOT),this._versionId=eR(this.url,Zr.Parameters.VERSIONID)}withSnapshot(t){return new en(Qn(this.url,Zr.Parameters.SNAPSHOT,t.length===0?void 0:t),this.pipeline)}withVersion(t){return new en(Qn(this.url,Zr.Parameters.VERSIONID,t.length===0?void 0:t),this.pipeline)}getAppendBlobClient(){return new Xm(this.url,this.pipeline)}getBlockBlobClient(){return new Ym(this.url,this.pipeline)}getPageBlobClient(){return new Zm(this.url,this.pipeline)}async download(t=0,r,n={}){return n.conditions=n.conditions||{},n.conditions=n.conditions||{},qt(n.customerProvidedKey,this.isHttps),ne.withSpan("BlobClient-download",n,async i=>{const o=ve(await this.blobContext.download({abortSignal:n.abortSignal,leaseAccessConditions:n.conditions,modifiedAccessConditions:{...n.conditions,ifTags:n.conditions?.tagConditions},requestOptions:{onDownloadProgress:xt?void 0:n.onProgress},range:t===0&&!r?void 0:wr({offset:t,count:r}),rangeGetContentMD5:n.rangeGetContentMD5,rangeGetContentCRC64:n.rangeGetContentCrc64,snapshot:n.snapshot,cpkInfo:n.customerProvidedKey,tracingOptions:i.tracingOptions})),l={...o,_response:o._response,objectReplicationDestinationPolicyId:o.objectReplicationPolicyId,objectReplicationSourceProperties:Am(o.objectReplicationRules)};if(!xt)return l;if((n.maxRetryRequests===void 0||n.maxRetryRequests<0)&&(n.maxRetryRequests=lF),o.contentLength===void 0)throw new RangeError("File download response doesn't contain valid content length header");if(!o.etag)throw new RangeError("File download response doesn't contain valid etag header");return new XH(l,async a=>{const u={leaseAccessConditions:n.conditions,modifiedAccessConditions:{ifMatch:n.conditions.ifMatch||o.etag,ifModifiedSince:n.conditions.ifModifiedSince,ifNoneMatch:n.conditions.ifNoneMatch,ifUnmodifiedSince:n.conditions.ifUnmodifiedSince,ifTags:n.conditions?.tagConditions},range:wr({count:t+o.contentLength-a,offset:a}),rangeGetContentMD5:n.rangeGetContentMD5,rangeGetContentCRC64:n.rangeGetContentCrc64,snapshot:n.snapshot,cpkInfo:n.customerProvidedKey};return(await this.blobContext.download({abortSignal:n.abortSignal,...u})).readableStreamBody},t,o.contentLength,{maxRetryRequests:n.maxRetryRequests,onProgress:n.onProgress})})}async exists(t={}){return ne.withSpan("BlobClient-exists",t,async r=>{try{return qt(t.customerProvidedKey,this.isHttps),await this.getProperties({abortSignal:t.abortSignal,customerProvidedKey:t.customerProvidedKey,conditions:t.conditions,tracingOptions:r.tracingOptions}),!0}catch(n){if(n.statusCode===404)return!1;if(n.statusCode===409&&(n.details.errorCode===fF||n.details.errorCode===gF))return!0;throw n}})}async getProperties(t={}){return t.conditions=t.conditions||{},qt(t.customerProvidedKey,this.isHttps),ne.withSpan("BlobClient-getProperties",t,async r=>{const n=ve(await this.blobContext.getProperties({abortSignal:t.abortSignal,leaseAccessConditions:t.conditions,modifiedAccessConditions:{...t.conditions,ifTags:t.conditions?.tagConditions},cpkInfo:t.customerProvidedKey,tracingOptions:r.tracingOptions}));return{...n,_response:n._response,objectReplicationDestinationPolicyId:n.objectReplicationPolicyId,objectReplicationSourceProperties:Am(n.objectReplicationRules)}})}async delete(t={}){return t.conditions=t.conditions||{},ne.withSpan("BlobClient-delete",t,async r=>ve(await this.blobContext.delete({abortSignal:t.abortSignal,deleteSnapshots:t.deleteSnapshots,leaseAccessConditions:t.conditions,modifiedAccessConditions:{...t.conditions,ifTags:t.conditions?.tagConditions},tracingOptions:r.tracingOptions})))}async deleteIfExists(t={}){return ne.withSpan("BlobClient-deleteIfExists",t,async r=>{try{const n=ve(await this.delete(r));return{succeeded:!0,...n,_response:n._response}}catch(n){if(n.details?.errorCode==="BlobNotFound")return{succeeded:!1,...n.response?.parsedHeaders,_response:n.response};throw n}})}async undelete(t={}){return ne.withSpan("BlobClient-undelete",t,async r=>ve(await this.blobContext.undelete({abortSignal:t.abortSignal,tracingOptions:r.tracingOptions})))}async setHTTPHeaders(t,r={}){return r.conditions=r.conditions||{},qt(r.customerProvidedKey,this.isHttps),ne.withSpan("BlobClient-setHTTPHeaders",r,async n=>ve(await this.blobContext.setHttpHeaders({abortSignal:r.abortSignal,blobHttpHeaders:t,leaseAccessConditions:r.conditions,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},tracingOptions:n.tracingOptions})))}async setMetadata(t,r={}){return r.conditions=r.conditions||{},qt(r.customerProvidedKey,this.isHttps),ne.withSpan("BlobClient-setMetadata",r,async n=>ve(await this.blobContext.setMetadata({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,metadata:t,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},cpkInfo:r.customerProvidedKey,encryptionScope:r.encryptionScope,tracingOptions:n.tracingOptions})))}async setTags(t,r={}){return ne.withSpan("BlobClient-setTags",r,async n=>ve(await this.blobContext.setTags({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},tracingOptions:n.tracingOptions,tags:bF(t)})))}async getTags(t={}){return ne.withSpan("BlobClient-getTags",t,async r=>{const n=ve(await this.blobContext.getTags({abortSignal:t.abortSignal,leaseAccessConditions:t.conditions,modifiedAccessConditions:{...t.conditions,ifTags:t.conditions?.tagConditions},tracingOptions:r.tracingOptions}));return{...n,_response:n._response,tags:bd({blobTagSet:n.blobTagSet})||{}}})}getBlobLeaseClient(t){return new tz(this,t)}async createSnapshot(t={}){return t.conditions=t.conditions||{},qt(t.customerProvidedKey,this.isHttps),ne.withSpan("BlobClient-createSnapshot",t,async r=>ve(await this.blobContext.createSnapshot({abortSignal:t.abortSignal,leaseAccessConditions:t.conditions,metadata:t.metadata,modifiedAccessConditions:{...t.conditions,ifTags:t.conditions?.tagConditions},cpkInfo:t.customerProvidedKey,encryptionScope:t.encryptionScope,tracingOptions:r.tracingOptions})))}async beginCopyFromURL(t,r={}){const n={abortCopyFromURL:(...o)=>this.abortCopyFromURL(...o),getProperties:(...o)=>this.getProperties(...o),startCopyFromURL:(...o)=>this.startCopyFromURL(...o)},i=new e6({blobClient:n,copySource:t,intervalInMs:r.intervalInMs,onProgress:r.onProgress,resumeFrom:r.resumeFrom,startCopyFromURLOptions:r});return await i.poll(),i}async abortCopyFromURL(t,r={}){return ne.withSpan("BlobClient-abortCopyFromURL",r,async n=>ve(await this.blobContext.abortCopyFromURL(t,{abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,tracingOptions:n.tracingOptions})))}async syncCopyFromURL(t,r={}){return r.conditions=r.conditions||{},r.sourceConditions=r.sourceConditions||{},ne.withSpan("BlobClient-syncCopyFromURL",r,async n=>ve(await this.blobContext.copyFromURL(t,{abortSignal:r.abortSignal,metadata:r.metadata,leaseAccessConditions:r.conditions,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},sourceModifiedAccessConditions:{sourceIfMatch:r.sourceConditions?.ifMatch,sourceIfModifiedSince:r.sourceConditions?.ifModifiedSince,sourceIfNoneMatch:r.sourceConditions?.ifNoneMatch,sourceIfUnmodifiedSince:r.sourceConditions?.ifUnmodifiedSince},sourceContentMD5:r.sourceContentMD5,copySourceAuthorization:Md(r.sourceAuthorization),tier:Us(r.tier),blobTagsString:Hs(r.tags),immutabilityPolicyExpiry:r.immutabilityPolicy?.expiriesOn,immutabilityPolicyMode:r.immutabilityPolicy?.policyMode,legalHold:r.legalHold,encryptionScope:r.encryptionScope,copySourceTags:r.copySourceTags,fileRequestIntent:r.sourceShareTokenIntent,tracingOptions:n.tracingOptions})))}async setAccessTier(t,r={}){return ne.withSpan("BlobClient-setAccessTier",r,async n=>ve(await this.blobContext.setTier(Us(t),{abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},rehydratePriority:r.rehydratePriority,tracingOptions:n.tracingOptions})))}async downloadToBuffer(t,r,n,i={}){let o,l=0,a=0,u=i;t instanceof Buffer?(o=t,l=r||0,a=typeof n=="number"?n:0):(l=typeof t=="number"?t:0,a=typeof r=="number"?r:0,u=n||{});let d=u.blockSize??0;if(d<0)throw new RangeError("blockSize option must be >= 0");if(d===0&&(d=ny),l<0)throw new RangeError("offset option must be >= 0");if(a&&a<=0)throw new RangeError("count option must be greater than 0");return u.conditions||(u.conditions={}),ne.withSpan("BlobClient-downloadToBuffer",u,async m=>{if(!a){const v=await this.getProperties({...u,tracingOptions:m.tracingOptions});if(a=v.contentLength-l,a<0)throw new RangeError(`offset ${l} shouldn't be larger than blob size ${v.contentLength}`)}if(!o)try{o=Buffer.alloc(a)}catch(v){throw new Error(`Unable to allocate the buffer of size: ${a}(in bytes). Please try passing your own buffer to the "downloadToBuffer" method or try using other methods like "download" or "downloadToFile".	 ${v.message}`)}if(o.length<a)throw new RangeError(`The buffer's size should be equal to or larger than the request count of bytes: ${a}`);let h=0;const g=new rz(u.concurrency);for(let v=l;v<l+a;v=v+d)g.addOperation(async()=>{let x=l+a;v+d<x&&(x=v+d),(await this.download(v,x-v,{abortSignal:u.abortSignal,conditions:u.conditions,maxRetryRequests:u.maxRetryRequestsPerBlock,customerProvidedKey:u.customerProvidedKey,tracingOptions:m.tracingOptions})).readableStreamBody,await void 0,h+=x-v,u.onProgress&&u.onProgress({loadedBytes:h})});return await g.do(),o})}async downloadToFile(t,r=0,n,i={}){return ne.withSpan("BlobClient-downloadToFile",i,async o=>{const l=await this.download(r,n,{...i,tracingOptions:o.tracingOptions});return l.readableStreamBody&&await(l.readableStreamBody,void 0),l.blobDownloadStream=void 0,l})}getBlobAndContainerNamesFromUrl(){let t,r;try{const n=new URL(this.url);if(n.host.split(".")[1]==="blob"){const i=n.pathname.match("/([^/]*)(/(.*))?");t=i[1],r=i[3]}else if(Gy(n)){const i=n.pathname.match("/([^/]*)/([^/]*)(/(.*))?");t=i[2],r=i[4]}else{const i=n.pathname.match("/([^/]*)(/(.*))?");t=i[1],r=i[3]}if(t=decodeURIComponent(t),r=decodeURIComponent(r),r=r.replace(/\\/g,"/"),!t)throw new Error("Provided containerName is invalid.");return{blobName:r,containerName:t}}catch{throw new Error("Unable to extract blobName and containerName with provided information.")}}async startCopyFromURL(t,r={}){return ne.withSpan("BlobClient-startCopyFromURL",r,async n=>(r.conditions=r.conditions||{},r.sourceConditions=r.sourceConditions||{},ve(await this.blobContext.startCopyFromURL(t,{abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,metadata:r.metadata,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},sourceModifiedAccessConditions:{sourceIfMatch:r.sourceConditions.ifMatch,sourceIfModifiedSince:r.sourceConditions.ifModifiedSince,sourceIfNoneMatch:r.sourceConditions.ifNoneMatch,sourceIfUnmodifiedSince:r.sourceConditions.ifUnmodifiedSince,sourceIfTags:r.sourceConditions.tagConditions},immutabilityPolicyExpiry:r.immutabilityPolicy?.expiriesOn,immutabilityPolicyMode:r.immutabilityPolicy?.policyMode,legalHold:r.legalHold,rehydratePriority:r.rehydratePriority,tier:Us(r.tier),blobTagsString:Hs(r.tags),sealBlob:r.sealBlob,tracingOptions:n.tracingOptions}))))}generateSasUrl(t){return new Promise(r=>{if(!(this.credential instanceof mt))throw new RangeError("Can only generate the SAS when the client is initialized with a shared key credential");const n=_m({containerName:this._containerName,blobName:this._name,snapshotTime:this._snapshot,versionId:this._versionId,...t},this.credential).toString();r(zd(this.url,n))})}generateSasStringToSign(t){if(!(this.credential instanceof mt))throw new RangeError("Can only generate the SAS when the client is initialized with a shared key credential");return kd({containerName:this._containerName,blobName:this._name,snapshotTime:this._snapshot,versionId:this._versionId,...t},this.credential).stringToSign}generateUserDelegationSasUrl(t,r){return new Promise(n=>{const i=_m({containerName:this._containerName,blobName:this._name,snapshotTime:this._snapshot,versionId:this._versionId,...t},r,this.accountName).toString();n(zd(this.url,i))})}generateUserDelegationSasStringToSign(t,r){return kd({containerName:this._containerName,blobName:this._name,snapshotTime:this._snapshot,versionId:this._versionId,...t},r,this.accountName).stringToSign}async deleteImmutabilityPolicy(t={}){return ne.withSpan("BlobClient-deleteImmutabilityPolicy",t,async r=>ve(await this.blobContext.deleteImmutabilityPolicy({tracingOptions:r.tracingOptions})))}async setImmutabilityPolicy(t,r={}){return ne.withSpan("BlobClient-setImmutabilityPolicy",r,async n=>ve(await this.blobContext.setImmutabilityPolicy({immutabilityPolicyExpiry:t.expiriesOn,immutabilityPolicyMode:t.policyMode,tracingOptions:n.tracingOptions})))}async setLegalHold(t,r={}){return ne.withSpan("BlobClient-setLegalHold",r,async n=>ve(await this.blobContext.setLegalHold(t,{tracingOptions:n.tracingOptions})))}async getAccountInfo(t={}){return ne.withSpan("BlobClient-getAccountInfo",t,async r=>ve(await this.blobContext.getAccountInfo({abortSignal:t.abortSignal,tracingOptions:r.tracingOptions})))}}class Xm extends en{appendBlobContext;constructor(t,r,n,i){let o,l;if(i=i||{},Gs(r))l=t,o=r;else if(xt&&r instanceof mt||r instanceof ht||Dr(r))l=t,i=n,o=at(r,i);else if(!r&&typeof r!="string")l=t,o=at(new ht,i);else if(r&&typeof r=="string"&&n&&typeof n=="string"){const a=r,u=n,d=oa(t);if(d.kind==="AccountConnString")if(xt){const m=new mt(d.accountName,d.accountKey);l=Ct(Ct(d.url,encodeURIComponent(a)),encodeURIComponent(u)),i.proxyOptions||(i.proxyOptions=na(d.proxyUri)),o=at(m,i)}else throw new Error("Account connection string is only supported in Node.js environment");else if(d.kind==="SASConnString")l=Ct(Ct(d.url,encodeURIComponent(a)),encodeURIComponent(u))+"?"+d.accountSas,o=at(new ht,i);else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}else throw new Error("Expecting non-empty strings for containerName and blobName parameters");super(l,o),this.appendBlobContext=this.storageClientContext.appendBlob}withSnapshot(t){return new Xm(Qn(this.url,Zr.Parameters.SNAPSHOT,t.length===0?void 0:t),this.pipeline)}async create(t={}){return t.conditions=t.conditions||{},qt(t.customerProvidedKey,this.isHttps),ne.withSpan("AppendBlobClient-create",t,async r=>ve(await this.appendBlobContext.create(0,{abortSignal:t.abortSignal,blobHttpHeaders:t.blobHTTPHeaders,leaseAccessConditions:t.conditions,metadata:t.metadata,modifiedAccessConditions:{...t.conditions,ifTags:t.conditions?.tagConditions},cpkInfo:t.customerProvidedKey,encryptionScope:t.encryptionScope,immutabilityPolicyExpiry:t.immutabilityPolicy?.expiriesOn,immutabilityPolicyMode:t.immutabilityPolicy?.policyMode,legalHold:t.legalHold,blobTagsString:Hs(t.tags),tracingOptions:r.tracingOptions})))}async createIfNotExists(t={}){const r={ifNoneMatch:bI};return ne.withSpan("AppendBlobClient-createIfNotExists",t,async n=>{try{const i=ve(await this.create({...n,conditions:r}));return{succeeded:!0,...i,_response:i._response}}catch(i){if(i.details?.errorCode==="BlobAlreadyExists")return{succeeded:!1,...i.response?.parsedHeaders,_response:i.response};throw i}})}async seal(t={}){return t.conditions=t.conditions||{},ne.withSpan("AppendBlobClient-seal",t,async r=>ve(await this.appendBlobContext.seal({abortSignal:t.abortSignal,appendPositionAccessConditions:t.conditions,leaseAccessConditions:t.conditions,modifiedAccessConditions:{...t.conditions,ifTags:t.conditions?.tagConditions},tracingOptions:r.tracingOptions})))}async appendBlock(t,r,n={}){return n.conditions=n.conditions||{},qt(n.customerProvidedKey,this.isHttps),ne.withSpan("AppendBlobClient-appendBlock",n,async i=>ve(await this.appendBlobContext.appendBlock(r,t,{abortSignal:n.abortSignal,appendPositionAccessConditions:n.conditions,leaseAccessConditions:n.conditions,modifiedAccessConditions:{...n.conditions,ifTags:n.conditions?.tagConditions},requestOptions:{onUploadProgress:n.onProgress},transactionalContentMD5:n.transactionalContentMD5,transactionalContentCrc64:n.transactionalContentCrc64,cpkInfo:n.customerProvidedKey,encryptionScope:n.encryptionScope,tracingOptions:i.tracingOptions})))}async appendBlockFromURL(t,r,n,i={}){return i.conditions=i.conditions||{},i.sourceConditions=i.sourceConditions||{},qt(i.customerProvidedKey,this.isHttps),ne.withSpan("AppendBlobClient-appendBlockFromURL",i,async o=>ve(await this.appendBlobContext.appendBlockFromUrl(t,0,{abortSignal:i.abortSignal,sourceRange:wr({offset:r,count:n}),sourceContentMD5:i.sourceContentMD5,sourceContentCrc64:i.sourceContentCrc64,leaseAccessConditions:i.conditions,appendPositionAccessConditions:i.conditions,modifiedAccessConditions:{...i.conditions,ifTags:i.conditions?.tagConditions},sourceModifiedAccessConditions:{sourceIfMatch:i.sourceConditions?.ifMatch,sourceIfModifiedSince:i.sourceConditions?.ifModifiedSince,sourceIfNoneMatch:i.sourceConditions?.ifNoneMatch,sourceIfUnmodifiedSince:i.sourceConditions?.ifUnmodifiedSince},copySourceAuthorization:Md(i.sourceAuthorization),cpkInfo:i.customerProvidedKey,encryptionScope:i.encryptionScope,fileRequestIntent:i.sourceShareTokenIntent,tracingOptions:o.tracingOptions})))}}class Ym extends en{_blobContext;blockBlobContext;constructor(t,r,n,i){let o,l;if(i=i||{},Gs(r))l=t,o=r;else if(xt&&r instanceof mt||r instanceof ht||Dr(r))l=t,i=n,o=at(r,i);else if(!r&&typeof r!="string")l=t,n&&typeof n!="string"&&(i=n),o=at(new ht,i);else if(r&&typeof r=="string"&&n&&typeof n=="string"){const a=r,u=n,d=oa(t);if(d.kind==="AccountConnString")if(xt){const m=new mt(d.accountName,d.accountKey);l=Ct(Ct(d.url,encodeURIComponent(a)),encodeURIComponent(u)),i.proxyOptions||(i.proxyOptions=na(d.proxyUri)),o=at(m,i)}else throw new Error("Account connection string is only supported in Node.js environment");else if(d.kind==="SASConnString")l=Ct(Ct(d.url,encodeURIComponent(a)),encodeURIComponent(u))+"?"+d.accountSas,o=at(new ht,i);else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}else throw new Error("Expecting non-empty strings for containerName and blobName parameters");super(l,o),this.blockBlobContext=this.storageClientContext.blockBlob,this._blobContext=this.storageClientContext.blob}withSnapshot(t){return new Ym(Qn(this.url,Zr.Parameters.SNAPSHOT,t.length===0?void 0:t),this.pipeline)}async query(t,r={}){if(qt(r.customerProvidedKey,this.isHttps),!xt)throw new Error("This operation currently is only supported in Node.js.");return ne.withSpan("BlockBlobClient-query",r,async n=>{const i=ve(await this._blobContext.query({abortSignal:r.abortSignal,queryRequest:{queryType:"SQL",expression:t,inputSerialization:rR(r.inputTextConfiguration),outputSerialization:rR(r.outputTextConfiguration)},leaseAccessConditions:r.conditions,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},cpkInfo:r.customerProvidedKey,tracingOptions:n.tracingOptions}));return new YH(i,{abortSignal:r.abortSignal,onProgress:r.onProgress,onError:r.onError})})}async upload(t,r,n={}){return n.conditions=n.conditions||{},qt(n.customerProvidedKey,this.isHttps),ne.withSpan("BlockBlobClient-upload",n,async i=>ve(await this.blockBlobContext.upload(r,t,{abortSignal:n.abortSignal,blobHttpHeaders:n.blobHTTPHeaders,leaseAccessConditions:n.conditions,metadata:n.metadata,modifiedAccessConditions:{...n.conditions,ifTags:n.conditions?.tagConditions},requestOptions:{onUploadProgress:n.onProgress},cpkInfo:n.customerProvidedKey,encryptionScope:n.encryptionScope,immutabilityPolicyExpiry:n.immutabilityPolicy?.expiriesOn,immutabilityPolicyMode:n.immutabilityPolicy?.policyMode,legalHold:n.legalHold,tier:Us(n.tier),blobTagsString:Hs(n.tags),tracingOptions:i.tracingOptions})))}async syncUploadFromURL(t,r={}){return r.conditions=r.conditions||{},qt(r.customerProvidedKey,this.isHttps),ne.withSpan("BlockBlobClient-syncUploadFromURL",r,async n=>ve(await this.blockBlobContext.putBlobFromUrl(0,t,{...r,blobHttpHeaders:r.blobHTTPHeaders,leaseAccessConditions:r.conditions,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},sourceModifiedAccessConditions:{sourceIfMatch:r.sourceConditions?.ifMatch,sourceIfModifiedSince:r.sourceConditions?.ifModifiedSince,sourceIfNoneMatch:r.sourceConditions?.ifNoneMatch,sourceIfUnmodifiedSince:r.sourceConditions?.ifUnmodifiedSince,sourceIfTags:r.sourceConditions?.tagConditions},cpkInfo:r.customerProvidedKey,copySourceAuthorization:Md(r.sourceAuthorization),tier:Us(r.tier),blobTagsString:Hs(r.tags),copySourceTags:r.copySourceTags,fileRequestIntent:r.sourceShareTokenIntent,tracingOptions:n.tracingOptions})))}async stageBlock(t,r,n,i={}){return qt(i.customerProvidedKey,this.isHttps),ne.withSpan("BlockBlobClient-stageBlock",i,async o=>ve(await this.blockBlobContext.stageBlock(t,n,r,{abortSignal:i.abortSignal,leaseAccessConditions:i.conditions,requestOptions:{onUploadProgress:i.onProgress},transactionalContentMD5:i.transactionalContentMD5,transactionalContentCrc64:i.transactionalContentCrc64,cpkInfo:i.customerProvidedKey,encryptionScope:i.encryptionScope,tracingOptions:o.tracingOptions})))}async stageBlockFromURL(t,r,n=0,i,o={}){return qt(o.customerProvidedKey,this.isHttps),ne.withSpan("BlockBlobClient-stageBlockFromURL",o,async l=>ve(await this.blockBlobContext.stageBlockFromURL(t,0,r,{abortSignal:o.abortSignal,leaseAccessConditions:o.conditions,sourceContentMD5:o.sourceContentMD5,sourceContentCrc64:o.sourceContentCrc64,sourceRange:n===0&&!i?void 0:wr({offset:n,count:i}),cpkInfo:o.customerProvidedKey,encryptionScope:o.encryptionScope,copySourceAuthorization:Md(o.sourceAuthorization),fileRequestIntent:o.sourceShareTokenIntent,tracingOptions:l.tracingOptions})))}async commitBlockList(t,r={}){return r.conditions=r.conditions||{},qt(r.customerProvidedKey,this.isHttps),ne.withSpan("BlockBlobClient-commitBlockList",r,async n=>ve(await this.blockBlobContext.commitBlockList({latest:t},{abortSignal:r.abortSignal,blobHttpHeaders:r.blobHTTPHeaders,leaseAccessConditions:r.conditions,metadata:r.metadata,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},cpkInfo:r.customerProvidedKey,encryptionScope:r.encryptionScope,immutabilityPolicyExpiry:r.immutabilityPolicy?.expiriesOn,immutabilityPolicyMode:r.immutabilityPolicy?.policyMode,legalHold:r.legalHold,tier:Us(r.tier),blobTagsString:Hs(r.tags),tracingOptions:n.tracingOptions})))}async getBlockList(t,r={}){return ne.withSpan("BlockBlobClient-getBlockList",r,async n=>{const i=ve(await this.blockBlobContext.getBlockList(t,{abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},tracingOptions:n.tracingOptions}));return i.committedBlocks||(i.committedBlocks=[]),i.uncommittedBlocks||(i.uncommittedBlocks=[]),i})}async uploadData(t,r={}){return ne.withSpan("BlockBlobClient-uploadData",r,async n=>{if(xt){let i;return t instanceof Buffer?i=t:t instanceof ArrayBuffer?i=Buffer.from(t):(t=t,i=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),this.uploadSeekableInternal((o,l)=>i.slice(o,o+l),i.byteLength,n)}else{const i=new Blob([t]);return this.uploadSeekableInternal((o,l)=>i.slice(o,o+l),i.size,n)}})}async uploadBrowserData(t,r={}){return ne.withSpan("BlockBlobClient-uploadBrowserData",r,async n=>{const i=new Blob([t]);return this.uploadSeekableInternal((o,l)=>i.slice(o,o+l),i.size,n)})}async uploadSeekableInternal(t,r,n={}){let i=n.blockSize??0;if(i<0||i>mg)throw new RangeError(`blockSize option must be >= 0 and <= ${mg}`);const o=n.maxSingleShotSize??pg;if(o<0||o>pg)throw new RangeError(`maxSingleShotSize option must be >= 0 and <= ${pg}`);if(i===0){if(r>mg*am)throw new RangeError(`${r} is too larger to upload to a block blob.`);r>o&&(i=Math.ceil(r/am),i<ny&&(i=ny))}return n.blobHTTPHeaders||(n.blobHTTPHeaders={}),n.conditions||(n.conditions={}),ne.withSpan("BlockBlobClient-uploadSeekableInternal",n,async l=>{if(r<=o)return ve(await this.upload(t(0,r),r,l));const a=Math.floor((r-1)/i)+1;if(a>am)throw new RangeError(`The buffer's size is too big or the BlockSize is too small;the number of blocks must be <= ${am}`);const u=[],d=Tm();let m=0;const h=new rz(n.concurrency);for(let g=0;g<a;g++)h.addOperation(async()=>{const v=tR(d,g),x=i*g,w=(g===a-1?r:x+i)-x;u.push(v),await this.stageBlock(v,t(x,w),w,{abortSignal:n.abortSignal,conditions:n.conditions,encryptionScope:n.encryptionScope,tracingOptions:l.tracingOptions}),m+=w,n.onProgress&&n.onProgress({loadedBytes:m})});return await h.do(),this.commitBlockList(u,l)})}async uploadFile(t,r={}){return ne.withSpan("BlockBlobClient-uploadFile",r,async n=>{const i=(await o6()).size;return this.uploadSeekableInternal((o,l)=>()=>a6(),i,{...r,tracingOptions:n.tracingOptions})})}async uploadStream(t,r=cF,n=5,i={}){return i.blobHTTPHeaders||(i.blobHTTPHeaders={}),i.conditions||(i.conditions={}),ne.withSpan("BlockBlobClient-uploadStream",i,async o=>{let l=0;const a=Tm();let u=0;const d=[];return await new kF(t,r,n,async(h,g)=>{const v=tR(a,l);d.push(v),l++,await this.stageBlock(v,h,g,{customerProvidedKey:i.customerProvidedKey,conditions:i.conditions,encryptionScope:i.encryptionScope,tracingOptions:o.tracingOptions}),u+=g,i.onProgress&&i.onProgress({loadedBytes:u})},Math.ceil(n/4*3)).do(),ve(await this.commitBlockList(d,{...i,tracingOptions:o.tracingOptions}))})}}class Zm extends en{pageBlobContext;constructor(t,r,n,i){let o,l;if(i=i||{},Gs(r))l=t,o=r;else if(xt&&r instanceof mt||r instanceof ht||Dr(r))l=t,i=n,o=at(r,i);else if(!r&&typeof r!="string")l=t,o=at(new ht,i);else if(r&&typeof r=="string"&&n&&typeof n=="string"){const a=r,u=n,d=oa(t);if(d.kind==="AccountConnString")if(xt){const m=new mt(d.accountName,d.accountKey);l=Ct(Ct(d.url,encodeURIComponent(a)),encodeURIComponent(u)),i.proxyOptions||(i.proxyOptions=na(d.proxyUri)),o=at(m,i)}else throw new Error("Account connection string is only supported in Node.js environment");else if(d.kind==="SASConnString")l=Ct(Ct(d.url,encodeURIComponent(a)),encodeURIComponent(u))+"?"+d.accountSas,o=at(new ht,i);else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}else throw new Error("Expecting non-empty strings for containerName and blobName parameters");super(l,o),this.pageBlobContext=this.storageClientContext.pageBlob}withSnapshot(t){return new Zm(Qn(this.url,Zr.Parameters.SNAPSHOT,t.length===0?void 0:t),this.pipeline)}async create(t,r={}){return r.conditions=r.conditions||{},qt(r.customerProvidedKey,this.isHttps),ne.withSpan("PageBlobClient-create",r,async n=>ve(await this.pageBlobContext.create(0,t,{abortSignal:r.abortSignal,blobHttpHeaders:r.blobHTTPHeaders,blobSequenceNumber:r.blobSequenceNumber,leaseAccessConditions:r.conditions,metadata:r.metadata,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},cpkInfo:r.customerProvidedKey,encryptionScope:r.encryptionScope,immutabilityPolicyExpiry:r.immutabilityPolicy?.expiriesOn,immutabilityPolicyMode:r.immutabilityPolicy?.policyMode,legalHold:r.legalHold,tier:Us(r.tier),blobTagsString:Hs(r.tags),tracingOptions:n.tracingOptions})))}async createIfNotExists(t,r={}){return ne.withSpan("PageBlobClient-createIfNotExists",r,async n=>{try{const i={ifNoneMatch:bI},o=ve(await this.create(t,{...r,conditions:i,tracingOptions:n.tracingOptions}));return{succeeded:!0,...o,_response:o._response}}catch(i){if(i.details?.errorCode==="BlobAlreadyExists")return{succeeded:!1,...i.response?.parsedHeaders,_response:i.response};throw i}})}async uploadPages(t,r,n,i={}){return i.conditions=i.conditions||{},qt(i.customerProvidedKey,this.isHttps),ne.withSpan("PageBlobClient-uploadPages",i,async o=>ve(await this.pageBlobContext.uploadPages(n,t,{abortSignal:i.abortSignal,leaseAccessConditions:i.conditions,modifiedAccessConditions:{...i.conditions,ifTags:i.conditions?.tagConditions},requestOptions:{onUploadProgress:i.onProgress},range:wr({offset:r,count:n}),sequenceNumberAccessConditions:i.conditions,transactionalContentMD5:i.transactionalContentMD5,transactionalContentCrc64:i.transactionalContentCrc64,cpkInfo:i.customerProvidedKey,encryptionScope:i.encryptionScope,tracingOptions:o.tracingOptions})))}async uploadPagesFromURL(t,r,n,i,o={}){return o.conditions=o.conditions||{},o.sourceConditions=o.sourceConditions||{},qt(o.customerProvidedKey,this.isHttps),ne.withSpan("PageBlobClient-uploadPagesFromURL",o,async l=>ve(await this.pageBlobContext.uploadPagesFromURL(t,wr({offset:r,count:i}),0,wr({offset:n,count:i}),{abortSignal:o.abortSignal,sourceContentMD5:o.sourceContentMD5,sourceContentCrc64:o.sourceContentCrc64,leaseAccessConditions:o.conditions,sequenceNumberAccessConditions:o.conditions,modifiedAccessConditions:{...o.conditions,ifTags:o.conditions?.tagConditions},sourceModifiedAccessConditions:{sourceIfMatch:o.sourceConditions?.ifMatch,sourceIfModifiedSince:o.sourceConditions?.ifModifiedSince,sourceIfNoneMatch:o.sourceConditions?.ifNoneMatch,sourceIfUnmodifiedSince:o.sourceConditions?.ifUnmodifiedSince},cpkInfo:o.customerProvidedKey,encryptionScope:o.encryptionScope,copySourceAuthorization:Md(o.sourceAuthorization),fileRequestIntent:o.sourceShareTokenIntent,tracingOptions:l.tracingOptions})))}async clearPages(t=0,r,n={}){return n.conditions=n.conditions||{},ne.withSpan("PageBlobClient-clearPages",n,async i=>ve(await this.pageBlobContext.clearPages(0,{abortSignal:n.abortSignal,leaseAccessConditions:n.conditions,modifiedAccessConditions:{...n.conditions,ifTags:n.conditions?.tagConditions},range:wr({offset:t,count:r}),sequenceNumberAccessConditions:n.conditions,cpkInfo:n.customerProvidedKey,encryptionScope:n.encryptionScope,tracingOptions:i.tracingOptions})))}async getPageRanges(t=0,r,n={}){return n.conditions=n.conditions||{},ne.withSpan("PageBlobClient-getPageRanges",n,async i=>{const o=ve(await this.pageBlobContext.getPageRanges({abortSignal:n.abortSignal,leaseAccessConditions:n.conditions,modifiedAccessConditions:{...n.conditions,ifTags:n.conditions?.tagConditions},range:wr({offset:t,count:r}),tracingOptions:i.tracingOptions}));return fg(o)})}async listPageRangesSegment(t=0,r,n,i={}){return ne.withSpan("PageBlobClient-getPageRangesSegment",i,async o=>ve(await this.pageBlobContext.getPageRanges({abortSignal:i.abortSignal,leaseAccessConditions:i.conditions,modifiedAccessConditions:{...i.conditions,ifTags:i.conditions?.tagConditions},range:wr({offset:t,count:r}),marker:n,maxPageSize:i.maxPageSize,tracingOptions:o.tracingOptions})))}async*listPageRangeItemSegments(t=0,r,n,i={}){let o;if(n||n===void 0)do o=await this.listPageRangesSegment(t,r,n,i),n=o.continuationToken,yield await o;while(n)}async*listPageRangeItems(t=0,r,n={}){let i;for await(const o of this.listPageRangeItemSegments(t,r,i,n))yield*nR(o)}listPageRanges(t=0,r,n={}){n.conditions=n.conditions||{};const i=this.listPageRangeItems(t,r,n);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:(o={})=>this.listPageRangeItemSegments(t,r,o.continuationToken,{maxPageSize:o.maxPageSize,...n})}}async getPageRangesDiff(t,r,n,i={}){return i.conditions=i.conditions||{},ne.withSpan("PageBlobClient-getPageRangesDiff",i,async o=>{const l=ve(await this.pageBlobContext.getPageRangesDiff({abortSignal:i.abortSignal,leaseAccessConditions:i.conditions,modifiedAccessConditions:{...i.conditions,ifTags:i.conditions?.tagConditions},prevsnapshot:n,range:wr({offset:t,count:r}),tracingOptions:o.tracingOptions}));return fg(l)})}async listPageRangesDiffSegment(t,r,n,i,o={}){return ne.withSpan("PageBlobClient-getPageRangesDiffSegment",o,async l=>ve(await this.pageBlobContext.getPageRangesDiff({abortSignal:o?.abortSignal,leaseAccessConditions:o?.conditions,modifiedAccessConditions:{...o?.conditions,ifTags:o?.conditions?.tagConditions},prevsnapshot:n,range:wr({offset:t,count:r}),marker:i,maxPageSize:o?.maxPageSize,tracingOptions:l.tracingOptions})))}async*listPageRangeDiffItemSegments(t,r,n,i,o){let l;if(i||i===void 0)do l=await this.listPageRangesDiffSegment(t,r,n,i,o),i=l.continuationToken,yield await l;while(i)}async*listPageRangeDiffItems(t,r,n,i){let o;for await(const l of this.listPageRangeDiffItemSegments(t,r,n,o,i))yield*nR(l)}listPageRangesDiff(t,r,n,i={}){i.conditions=i.conditions||{};const o=this.listPageRangeDiffItems(t,r,n,{...i});return{next(){return o.next()},[Symbol.asyncIterator](){return this},byPage:(l={})=>this.listPageRangeDiffItemSegments(t,r,n,l.continuationToken,{maxPageSize:l.maxPageSize,...i})}}async getPageRangesDiffForManagedDisks(t,r,n,i={}){return i.conditions=i.conditions||{},ne.withSpan("PageBlobClient-GetPageRangesDiffForManagedDisks",i,async o=>{const l=ve(await this.pageBlobContext.getPageRangesDiff({abortSignal:i.abortSignal,leaseAccessConditions:i.conditions,modifiedAccessConditions:{...i.conditions,ifTags:i.conditions?.tagConditions},prevSnapshotUrl:n,range:wr({offset:t,count:r}),tracingOptions:o.tracingOptions}));return fg(l)})}async resize(t,r={}){return r.conditions=r.conditions||{},ne.withSpan("PageBlobClient-resize",r,async n=>ve(await this.pageBlobContext.resize(t,{abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},encryptionScope:r.encryptionScope,tracingOptions:n.tracingOptions})))}async updateSequenceNumber(t,r,n={}){return n.conditions=n.conditions||{},ne.withSpan("PageBlobClient-updateSequenceNumber",n,async i=>ve(await this.pageBlobContext.updateSequenceNumber(t,{abortSignal:n.abortSignal,blobSequenceNumber:r,leaseAccessConditions:n.conditions,modifiedAccessConditions:{...n.conditions,ifTags:n.conditions?.tagConditions},tracingOptions:i.tracingOptions})))}async startCopyIncremental(t,r={}){return ne.withSpan("PageBlobClient-startCopyIncremental",r,async n=>ve(await this.pageBlobContext.copyIncremental(t,{abortSignal:r.abortSignal,modifiedAccessConditions:{...r.conditions,ifTags:r.conditions?.tagConditions},tracingOptions:n.tracingOptions})))}}async function c6(e){const t=await e.blobBody;return t?await t.text():""}function l6(e){return new Blob([e]).size}const um=": ",mR=" ",hR=-1;class u6{batchResponse;responseBatchBoundary;perResponsePrefix;batchResponseEnding;subRequests;constructor(t,r){if(!t||!t.contentType)throw new RangeError("batchResponse is malformed or doesn't contain valid content-type.");if(!r||r.size===0)throw new RangeError("Invalid state: subRequests is not provided or size is 0.");this.batchResponse=t,this.subRequests=r,this.responseBatchBoundary=this.batchResponse.contentType.split("=")[1],this.perResponsePrefix=`--${this.responseBatchBoundary}${Gn}`,this.batchResponseEnding=`--${this.responseBatchBoundary}--`}async parseBatchResponse(){if(this.batchResponse._response.status!==uF.HTTP_ACCEPTED)throw new Error(`Invalid state: batch request failed with status: '${this.batchResponse._response.status}'.`);const r=(await c6(this.batchResponse)).split(this.batchResponseEnding)[0].split(this.perResponsePrefix).slice(1),n=r.length;if(n!==this.subRequests.size&&n!==1)throw new Error("Invalid state: sub responses' count is not equal to sub requests' count.");const i=new Array(n);let o=0,l=0;for(let a=0;a<n;a++){const u=r[a],d={};d.headers=$y(Um());const m=u.split(`${Gn}`);let h=!1,g=!1,v=!1,x=hR;for(const C of m){if(!h){if(C.startsWith(Cn.CONTENT_ID)&&(x=parseInt(C.split(um)[1])),C.startsWith(NI)){h=!0;const w=C.split(mR);d.status=parseInt(w[1]),d.statusMessage=w.slice(2).join(mR)}continue}if(C.trim()===""){g||(g=!0);continue}if(g)d.bodyAsText||(d.bodyAsText=""),d.bodyAsText+=C;else{if(C.indexOf(um)===-1)throw new Error(`Invalid state: find non-empty line '${C}' without HTTP header delimiter '${um}'.`);const w=C.split(um);d.headers.set(w[0],w[1]),w[0]===Cn.X_MS_ERROR_CODE&&(d.errorCode=w[1],v=!0)}}x!==hR&&Number.isInteger(x)&&x>=0&&x<this.subRequests.size&&i[x]===void 0?(d._request=this.subRequests.get(x),i[x]=d):Ot.error(`subResponses[${a}] is dropped as the Content-ID is not found or invalid, Content-ID: ${x}`),v?l++:o++}return{subResponses:i,subResponsesSucceededCount:o,subResponsesFailedCount:l}}}var Ho;(function(e){e[e.LOCKED=0]="LOCKED",e[e.UNLOCKED=1]="UNLOCKED"})(Ho||(Ho={}));class fR{static async lock(t){return new Promise(r=>{this.keys[t]===void 0||this.keys[t]===Ho.UNLOCKED?(this.keys[t]=Ho.LOCKED,r()):this.onUnlockEvent(t,()=>{this.keys[t]=Ho.LOCKED,r()})})}static async unlock(t){return new Promise(r=>{this.keys[t]===Ho.LOCKED&&this.emitUnlockEvent(t),delete this.keys[t],r()})}static keys={};static listeners={};static onUnlockEvent(t,r){this.listeners[t]===void 0?this.listeners[t]=[r]:this.listeners[t].push(r)}static emitUnlockEvent(t){if(this.listeners[t]!==void 0&&this.listeners[t].length>0){const r=this.listeners[t].shift();setImmediate(()=>{r.call(this)})}}}class gg{batchRequest;batch="batch";batchType;constructor(){this.batchRequest=new d6}getMultiPartContentType(){return this.batchRequest.getMultipartContentType()}getHttpRequestBody(){return this.batchRequest.getHttpRequestBody()}getSubRequests(){return this.batchRequest.getSubRequests()}async addSubRequestInternal(t,r){await fR.lock(this.batch);try{this.batchRequest.preAddSubRequest(t),await r(),this.batchRequest.postAddSubRequest(t)}finally{await fR.unlock(this.batch)}}setBatchType(t){if(this.batchType||(this.batchType=t),this.batchType!==t)throw new RangeError(`BlobBatch only supports one operation type per batch and it already is being used for ${this.batchType} operations.`)}async deleteBlob(t,r,n){let i,o;if(typeof t=="string"&&(xt&&r instanceof mt||r instanceof ht||Dr(r)))i=t,o=r;else if(t instanceof en)i=t.url,o=t.credential,n=r;else throw new RangeError("Invalid arguments. Either url and credential, or BlobClient need be provided.");return n||(n={}),ne.withSpan("BatchDeleteRequest-addSubRequest",n,async l=>{this.setBatchType("delete"),await this.addSubRequestInternal({url:i,credential:o},async()=>{await new en(i,this.batchRequest.createPipeline(o)).delete(l)})})}async setBlobAccessTier(t,r,n,i){let o,l,a;if(typeof t=="string"&&(xt&&r instanceof mt||r instanceof ht||Dr(r)))o=t,l=r,a=n;else if(t instanceof en)o=t.url,l=t.credential,a=r,i=n;else throw new RangeError("Invalid arguments. Either url and credential, or BlobClient need be provided.");return i||(i={}),ne.withSpan("BatchSetTierRequest-addSubRequest",i,async u=>{this.setBatchType("setAccessTier"),await this.addSubRequestInternal({url:o,credential:l},async()=>{await new en(o,this.batchRequest.createPipeline(l)).setAccessTier(a,u)})})}}class d6{operationCount;body;subRequests;boundary;subRequestPrefix;multipartContentType;batchRequestEnding;constructor(){this.operationCount=0,this.body="";const t=Tm();this.boundary=`batch_${t}`,this.subRequestPrefix=`--${this.boundary}${Gn}${Cn.CONTENT_TYPE}: application/http${Gn}${Cn.CONTENT_TRANSFER_ENCODING}: binary`,this.multipartContentType=`multipart/mixed; boundary=${this.boundary}`,this.batchRequestEnding=`--${this.boundary}--`,this.subRequests=new Map}createPipeline(t){const r=KT();r.addPolicy(pI({stringifyXML:PI}),{phase:"Serialize"}),r.addPolicy(m6()),r.addPolicy(p6(this),{afterPhase:"Sign"}),Dr(t)?r.addPolicy(Hy({credential:t,scopes:wI,challengeCallbacks:{authorizeRequestOnChallenge:fI}}),{phase:"Sign"}):t instanceof mt&&r.addPolicy(zI({accountName:t.accountName,accountKey:t.accountKey}),{phase:"Sign"});const n=new MI([]);return n._credential=t,n._corePipeline=r,n}appendSubRequestToBody(t){this.body+=[this.subRequestPrefix,`${Cn.CONTENT_ID}: ${this.operationCount}`,"",`${t.method.toString()} ${PF(t.url)} ${NI}${Gn}`].join(Gn);for(const[r,n]of t.headers)this.body+=`${r}: ${n}${Gn}`;this.body+=Gn}preAddSubRequest(t){if(this.operationCount>=ZP)throw new RangeError(`Cannot exceed ${ZP} sub requests in a single batch`);const r=TI(t.url);if(!r||r==="")throw new RangeError(`Invalid url for sub request: '${t.url}'`)}postAddSubRequest(t){this.subRequests.set(this.operationCount,t),this.operationCount++}getHttpRequestBody(){return`${this.body}${this.batchRequestEnding}${Gn}`}getMultipartContentType(){return this.multipartContentType}getSubRequests(){return this.subRequests}}function p6(e){return{name:"batchRequestAssemblePolicy",async sendRequest(t){return e.appendSubRequestToBody(t),{request:t,status:200,headers:Um()}}}}function m6(){return{name:"batchHeaderFilterPolicy",async sendRequest(e,t){let r="";for(const[n]of e.headers)AI(n,Cn.X_MS_VERSION)&&(r=n);return r!==""&&e.headers.delete(r),t(e)}}}class nz{serviceOrContainerContext;constructor(t,r,n){let i;Gs(r)?i=r:r?i=at(r,n):i=at(new ht,n);const o=new ez(t,kI(i)),l=TI(t);l&&l!=="/"?this.serviceOrContainerContext=o.container:this.serviceOrContainerContext=o.service}createBatch(){return new gg}async deleteBlobs(t,r,n){const i=new gg;for(const o of t)typeof o=="string"?await i.deleteBlob(o,r,n):await i.deleteBlob(o,r);return this.submitBatch(i)}async setBlobsAccessTier(t,r,n,i){const o=new gg;for(const l of t)typeof l=="string"?await o.setBlobAccessTier(l,r,n,i):await o.setBlobAccessTier(l,r,n);return this.submitBatch(o)}async submitBatch(t,r={}){if(!t||t.getSubRequests().size===0)throw new RangeError("Batch request should contain one or more sub requests.");return ne.withSpan("BlobBatchClient-submitBatch",r,async n=>{const i=t.getHttpRequestBody(),o=ve(await this.serviceOrContainerContext.submitBatch(l6(i),t.getMultiPartContentType(),i,{...n})),a=await new u6(o,t.getSubRequests()).parseBatchResponse();return{_response:o._response,contentType:o.contentType,errorCode:o.errorCode,requestId:o.requestId,clientRequestId:o.clientRequestId,version:o.version,subResponses:a.subResponses,subResponsesSucceededCount:a.subResponsesSucceededCount,subResponsesFailedCount:a.subResponsesFailedCount}})}}class h6 extends lS{containerContext;_containerName;get containerName(){return this._containerName}constructor(t,r,n){let i,o;if(n=n||{},Gs(r))o=t,i=r;else if(xt&&r instanceof mt||r instanceof ht||Dr(r))o=t,i=at(r,n);else if(!r&&typeof r!="string")o=t,i=at(new ht,n);else if(r&&typeof r=="string"){const l=r,a=oa(t);if(a.kind==="AccountConnString")if(xt){const u=new mt(a.accountName,a.accountKey);o=Ct(a.url,encodeURIComponent(l)),n.proxyOptions||(n.proxyOptions=na(a.proxyUri)),i=at(u,n)}else throw new Error("Account connection string is only supported in Node.js environment");else if(a.kind==="SASConnString")o=Ct(a.url,encodeURIComponent(l))+"?"+a.accountSas,i=at(new ht,n);else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}else throw new Error("Expecting non-empty strings for containerName parameter");super(o,i),this._containerName=this.getContainerNameFromUrl(),this.containerContext=this.storageClientContext.container}async create(t={}){return ne.withSpan("ContainerClient-create",t,async r=>ve(await this.containerContext.create(r)))}async createIfNotExists(t={}){return ne.withSpan("ContainerClient-createIfNotExists",t,async r=>{try{const n=await this.create(r);return{succeeded:!0,...n,_response:n._response}}catch(n){if(n.details?.errorCode==="ContainerAlreadyExists")return{succeeded:!1,...n.response?.parsedHeaders,_response:n.response};throw n}})}async exists(t={}){return ne.withSpan("ContainerClient-exists",t,async r=>{try{return await this.getProperties({abortSignal:t.abortSignal,tracingOptions:r.tracingOptions}),!0}catch(n){if(n.statusCode===404)return!1;throw n}})}getBlobClient(t){return new en(Ct(this.url,cm(t)),this.pipeline)}getAppendBlobClient(t){return new Xm(Ct(this.url,cm(t)),this.pipeline)}getBlockBlobClient(t){return new Ym(Ct(this.url,cm(t)),this.pipeline)}getPageBlobClient(t){return new Zm(Ct(this.url,cm(t)),this.pipeline)}async getProperties(t={}){return t.conditions||(t.conditions={}),ne.withSpan("ContainerClient-getProperties",t,async r=>ve(await this.containerContext.getProperties({abortSignal:t.abortSignal,...t.conditions,tracingOptions:r.tracingOptions})))}async delete(t={}){return t.conditions||(t.conditions={}),ne.withSpan("ContainerClient-delete",t,async r=>ve(await this.containerContext.delete({abortSignal:t.abortSignal,leaseAccessConditions:t.conditions,modifiedAccessConditions:t.conditions,tracingOptions:r.tracingOptions})))}async deleteIfExists(t={}){return ne.withSpan("ContainerClient-deleteIfExists",t,async r=>{try{const n=await this.delete(r);return{succeeded:!0,...n,_response:n._response}}catch(n){if(n.details?.errorCode==="ContainerNotFound")return{succeeded:!1,...n.response?.parsedHeaders,_response:n.response};throw n}})}async setMetadata(t,r={}){if(r.conditions||(r.conditions={}),r.conditions.ifUnmodifiedSince)throw new RangeError("the IfUnmodifiedSince must have their default values because they are ignored by the blob service");return ne.withSpan("ContainerClient-setMetadata",r,async n=>ve(await this.containerContext.setMetadata({abortSignal:r.abortSignal,leaseAccessConditions:r.conditions,metadata:t,modifiedAccessConditions:r.conditions,tracingOptions:n.tracingOptions})))}async getAccessPolicy(t={}){return t.conditions||(t.conditions={}),ne.withSpan("ContainerClient-getAccessPolicy",t,async r=>{const n=ve(await this.containerContext.getAccessPolicy({abortSignal:t.abortSignal,leaseAccessConditions:t.conditions,tracingOptions:r.tracingOptions})),i={_response:n._response,blobPublicAccess:n.blobPublicAccess,date:n.date,etag:n.etag,errorCode:n.errorCode,lastModified:n.lastModified,requestId:n.requestId,clientRequestId:n.clientRequestId,signedIdentifiers:[],version:n.version};for(const o of n){let l;o.accessPolicy&&(l={permissions:o.accessPolicy.permissions},o.accessPolicy.expiresOn&&(l.expiresOn=new Date(o.accessPolicy.expiresOn)),o.accessPolicy.startsOn&&(l.startsOn=new Date(o.accessPolicy.startsOn))),i.signedIdentifiers.push({accessPolicy:l,id:o.id})}return i})}async setAccessPolicy(t,r,n={}){return n.conditions=n.conditions||{},ne.withSpan("ContainerClient-setAccessPolicy",n,async i=>{const o=[];for(const l of r||[])o.push({accessPolicy:{expiresOn:l.accessPolicy.expiresOn?Qe(l.accessPolicy.expiresOn):"",permissions:l.accessPolicy.permissions,startsOn:l.accessPolicy.startsOn?Qe(l.accessPolicy.startsOn):""},id:l.id});return ve(await this.containerContext.setAccessPolicy({abortSignal:n.abortSignal,access:t,containerAcl:o,leaseAccessConditions:n.conditions,modifiedAccessConditions:n.conditions,tracingOptions:i.tracingOptions}))})}getBlobLeaseClient(t){return new tz(this,t)}async uploadBlockBlob(t,r,n,i={}){return ne.withSpan("ContainerClient-uploadBlockBlob",i,async o=>{const l=this.getBlockBlobClient(t),a=await l.upload(r,n,o);return{blockBlobClient:l,response:a}})}async deleteBlob(t,r={}){return ne.withSpan("ContainerClient-deleteBlob",r,async n=>{let i=this.getBlobClient(t);return r.versionId&&(i=i.withVersion(r.versionId)),i.delete(n)})}async listBlobFlatSegment(t,r={}){return ne.withSpan("ContainerClient-listBlobFlatSegment",r,async n=>{const i=ve(await this.containerContext.listBlobFlatSegment({marker:t,...r,tracingOptions:n.tracingOptions}));return{...i,_response:{...i._response,parsedBody:NF(i._response.parsedBody)},segment:{...i.segment,blobItems:i.segment.blobItems.map(l=>({...l,name:Wo(l.name),tags:bd(l.blobTags),objectReplicationSourceProperties:Am(l.objectReplicationMetadata)}))}}})}async listBlobHierarchySegment(t,r,n={}){return ne.withSpan("ContainerClient-listBlobHierarchySegment",n,async i=>{const o=ve(await this.containerContext.listBlobHierarchySegment(t,{marker:r,...n,tracingOptions:i.tracingOptions}));return{...o,_response:{...o._response,parsedBody:EF(o._response.parsedBody)},segment:{...o.segment,blobItems:o.segment.blobItems.map(a=>({...a,name:Wo(a.name),tags:bd(a.blobTags),objectReplicationSourceProperties:Am(a.objectReplicationMetadata)})),blobPrefixes:o.segment.blobPrefixes?.map(a=>({...a,name:Wo(a.name)}))}}})}async*listSegments(t,r={}){let n;if(t||t===void 0)do n=await this.listBlobFlatSegment(t,r),t=n.continuationToken,yield await n;while(t)}async*listItems(t={}){let r;for await(const n of this.listSegments(r,t))yield*n.segment.blobItems}listBlobsFlat(t={}){const r=[];t.includeCopy&&r.push("copy"),t.includeDeleted&&r.push("deleted"),t.includeMetadata&&r.push("metadata"),t.includeSnapshots&&r.push("snapshots"),t.includeVersions&&r.push("versions"),t.includeUncommitedBlobs&&r.push("uncommittedblobs"),t.includeTags&&r.push("tags"),t.includeDeletedWithVersions&&r.push("deletedwithversions"),t.includeImmutabilityPolicy&&r.push("immutabilitypolicy"),t.includeLegalHold&&r.push("legalhold"),t.prefix===""&&(t.prefix=void 0);const n={...t,...r.length>0?{include:r}:{}},i=this.listItems(n);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:(o={})=>this.listSegments(o.continuationToken,{maxPageSize:o.maxPageSize,...n})}}async*listHierarchySegments(t,r,n={}){let i;if(r||r===void 0)do i=await this.listBlobHierarchySegment(t,r,n),r=i.continuationToken,yield await i;while(r)}async*listItemsByHierarchy(t,r={}){let n;for await(const i of this.listHierarchySegments(t,n,r)){const o=i.segment;if(o.blobPrefixes)for(const l of o.blobPrefixes)yield{kind:"prefix",...l};for(const l of o.blobItems)yield{kind:"blob",...l}}}listBlobsByHierarchy(t,r={}){if(t==="")throw new RangeError("delimiter should contain one or more characters");const n=[];r.includeCopy&&n.push("copy"),r.includeDeleted&&n.push("deleted"),r.includeMetadata&&n.push("metadata"),r.includeSnapshots&&n.push("snapshots"),r.includeVersions&&n.push("versions"),r.includeUncommitedBlobs&&n.push("uncommittedblobs"),r.includeTags&&n.push("tags"),r.includeDeletedWithVersions&&n.push("deletedwithversions"),r.includeImmutabilityPolicy&&n.push("immutabilitypolicy"),r.includeLegalHold&&n.push("legalhold"),r.prefix===""&&(r.prefix=void 0);const i={...r,...n.length>0?{include:n}:{}},o=this.listItemsByHierarchy(t,i);return{async next(){return o.next()},[Symbol.asyncIterator](){return this},byPage:(l={})=>this.listHierarchySegments(t,l.continuationToken,{maxPageSize:l.maxPageSize,...i})}}async findBlobsByTagsSegment(t,r,n={}){return ne.withSpan("ContainerClient-findBlobsByTagsSegment",n,async i=>{const o=ve(await this.containerContext.filterBlobs({abortSignal:n.abortSignal,where:t,marker:r,maxPageSize:n.maxPageSize,tracingOptions:i.tracingOptions}));return{...o,_response:o._response,blobs:o.blobs.map(a=>{let u="";return a.tags?.blobTagSet.length===1&&(u=a.tags.blobTagSet[0].value),{...a,tags:bd(a.tags),tagValue:u}})}})}async*findBlobsByTagsSegments(t,r,n={}){let i;if(r||r===void 0)do i=await this.findBlobsByTagsSegment(t,r,n),i.blobs=i.blobs||[],r=i.continuationToken,yield i;while(r)}async*findBlobsByTagsItems(t,r={}){let n;for await(const i of this.findBlobsByTagsSegments(t,n,r))yield*i.blobs}findBlobsByTags(t,r={}){const n={...r},i=this.findBlobsByTagsItems(t,n);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:(o={})=>this.findBlobsByTagsSegments(t,o.continuationToken,{maxPageSize:o.maxPageSize,...n})}}async getAccountInfo(t={}){return ne.withSpan("ContainerClient-getAccountInfo",t,async r=>ve(await this.containerContext.getAccountInfo({abortSignal:t.abortSignal,tracingOptions:r.tracingOptions})))}getContainerNameFromUrl(){let t;try{const r=new URL(this.url);if(r.hostname.split(".")[1]==="blob"?t=r.pathname.split("/")[1]:Gy(r)?t=r.pathname.split("/")[2]:t=r.pathname.split("/")[1],t=decodeURIComponent(t),!t)throw new Error("Provided containerName is invalid.");return t}catch{throw new Error("Unable to extract containerName with provided information.")}}generateSasUrl(t){return new Promise(r=>{if(!(this.credential instanceof mt))throw new RangeError("Can only generate the SAS when the client is initialized with a shared key credential");const n=_m({containerName:this._containerName,...t},this.credential).toString();r(zd(this.url,n))})}generateSasStringToSign(t){if(!(this.credential instanceof mt))throw new RangeError("Can only generate the SAS when the client is initialized with a shared key credential");return kd({containerName:this._containerName,...t},this.credential).stringToSign}generateUserDelegationSasUrl(t,r){return new Promise(n=>{const i=_m({containerName:this._containerName,...t},r,this.accountName).toString();n(zd(this.url,i))})}generateUserDelegationSasStringToSign(t,r){return kd({containerName:this._containerName,...t},r,this.accountName).stringToSign}getBlobBatchClient(){return new nz(this.url,this.pipeline)}}class Yo{static parse(t){const r=new Yo;for(const n of t)switch(n){case"r":r.read=!0;break;case"w":r.write=!0;break;case"d":r.delete=!0;break;case"x":r.deleteVersion=!0;break;case"l":r.list=!0;break;case"a":r.add=!0;break;case"c":r.create=!0;break;case"u":r.update=!0;break;case"p":r.process=!0;break;case"t":r.tag=!0;break;case"f":r.filter=!0;break;case"i":r.setImmutabilityPolicy=!0;break;case"y":r.permanentDelete=!0;break;default:throw new RangeError(`Invalid permission character: ${n}`)}return r}static from(t){const r=new Yo;return t.read&&(r.read=!0),t.write&&(r.write=!0),t.delete&&(r.delete=!0),t.deleteVersion&&(r.deleteVersion=!0),t.filter&&(r.filter=!0),t.tag&&(r.tag=!0),t.list&&(r.list=!0),t.add&&(r.add=!0),t.create&&(r.create=!0),t.update&&(r.update=!0),t.process&&(r.process=!0),t.setImmutabilityPolicy&&(r.setImmutabilityPolicy=!0),t.permanentDelete&&(r.permanentDelete=!0),r}read=!1;write=!1;delete=!1;deleteVersion=!1;list=!1;add=!1;create=!1;update=!1;process=!1;tag=!1;filter=!1;setImmutabilityPolicy=!1;permanentDelete=!1;toString(){const t=[];return this.read&&t.push("r"),this.write&&t.push("w"),this.delete&&t.push("d"),this.deleteVersion&&t.push("x"),this.filter&&t.push("f"),this.tag&&t.push("t"),this.list&&t.push("l"),this.add&&t.push("a"),this.create&&t.push("c"),this.update&&t.push("u"),this.process&&t.push("p"),this.setImmutabilityPolicy&&t.push("i"),this.permanentDelete&&t.push("y"),t.join("")}}class pS{static parse(t){const r=new pS;for(const n of t)switch(n){case"s":r.service=!0;break;case"c":r.container=!0;break;case"o":r.object=!0;break;default:throw new RangeError(`Invalid resource type: ${n}`)}return r}service=!1;container=!1;object=!1;toString(){const t=[];return this.service&&t.push("s"),this.container&&t.push("c"),this.object&&t.push("o"),t.join("")}}class Od{static parse(t){const r=new Od;for(const n of t)switch(n){case"b":r.blob=!0;break;case"f":r.file=!0;break;case"q":r.queue=!0;break;case"t":r.table=!0;break;default:throw new RangeError(`Invalid service character: ${n}`)}return r}blob=!1;file=!1;queue=!1;table=!1;toString(){const t=[];return this.blob&&t.push("b"),this.table&&t.push("t"),this.queue&&t.push("q"),this.file&&t.push("f"),t.join("")}}function f6(e,t){return iz(e,t).sasQueryParameters}function iz(e,t){const r=e.version?e.version:Ky;if(e.permissions&&e.permissions.setImmutabilityPolicy&&r<"2020-08-04")throw RangeError("'version' must be >= '2020-08-04' when provided 'i' permission.");if(e.permissions&&e.permissions.deleteVersion&&r<"2019-10-10")throw RangeError("'version' must be >= '2019-10-10' when provided 'x' permission.");if(e.permissions&&e.permissions.permanentDelete&&r<"2019-10-10")throw RangeError("'version' must be >= '2019-10-10' when provided 'y' permission.");if(e.permissions&&e.permissions.tag&&r<"2019-12-12")throw RangeError("'version' must be >= '2019-12-12' when provided 't' permission.");if(e.permissions&&e.permissions.filter&&r<"2019-12-12")throw RangeError("'version' must be >= '2019-12-12' when provided 'f' permission.");if(e.encryptionScope&&r<"2020-12-06")throw RangeError("'version' must be >= '2020-12-06' when provided 'encryptionScope' in SAS.");const n=Yo.parse(e.permissions.toString()),i=Od.parse(e.services).toString(),o=pS.parse(e.resourceTypes).toString();let l;r>="2020-12-06"?l=[t.accountName,n,i,o,e.startsOn?Qe(e.startsOn,!1):"",Qe(e.expiresOn,!1),e.ipRange?wn(e.ipRange):"",e.protocol?e.protocol:"",r,e.encryptionScope?e.encryptionScope:"",""].join(`
`):l=[t.accountName,n,i,o,e.startsOn?Qe(e.startsOn,!1):"",Qe(e.expiresOn,!1),e.ipRange?wn(e.ipRange):"",e.protocol?e.protocol:"",r,""].join(`
`);const a=t.computeHMACSHA256(l);return{sasQueryParameters:new Hi(r,a,n.toString(),i,o,e.protocol,e.startsOn,e.expiresOn,e.ipRange,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e.encryptionScope),stringToSign:l}}class zm extends lS{serviceContext;static fromConnectionString(t,r){r=r||{};const n=oa(t);if(n.kind==="AccountConnString")if(xt){const i=new mt(n.accountName,n.accountKey);r.proxyOptions||(r.proxyOptions=na(n.proxyUri));const o=at(i,r);return new zm(n.url,o)}else throw new Error("Account connection string is only supported in Node.js environment");else if(n.kind==="SASConnString"){const i=at(new ht,r);return new zm(n.url+"?"+n.accountSas,i)}else throw new Error("Connection string must be either an Account connection string or a SAS connection string")}constructor(t,r,n){let i;Gs(r)?i=r:xt&&r instanceof mt||r instanceof ht||Dr(r)?i=at(r,n):i=at(new ht,n),super(t,i),this.serviceContext=this.storageClientContext.service}getContainerClient(t){return new h6(Ct(this.url,encodeURIComponent(t)),this.pipeline)}async createContainer(t,r={}){return ne.withSpan("BlobServiceClient-createContainer",r,async n=>{const i=this.getContainerClient(t),o=await i.create(n);return{containerClient:i,containerCreateResponse:o}})}async deleteContainer(t,r={}){return ne.withSpan("BlobServiceClient-deleteContainer",r,async n=>this.getContainerClient(t).delete(n))}async undeleteContainer(t,r,n={}){return ne.withSpan("BlobServiceClient-undeleteContainer",n,async i=>{const o=this.getContainerClient(n.destinationContainerName||t),l=o.storageClientContext.container,a=ve(await l.restore({deletedContainerName:t,deletedContainerVersion:r,tracingOptions:i.tracingOptions}));return{containerClient:o,containerUndeleteResponse:a}})}async getProperties(t={}){return ne.withSpan("BlobServiceClient-getProperties",t,async r=>ve(await this.serviceContext.getProperties({abortSignal:t.abortSignal,tracingOptions:r.tracingOptions})))}async setProperties(t,r={}){return ne.withSpan("BlobServiceClient-setProperties",r,async n=>ve(await this.serviceContext.setProperties(t,{abortSignal:r.abortSignal,tracingOptions:n.tracingOptions})))}async getStatistics(t={}){return ne.withSpan("BlobServiceClient-getStatistics",t,async r=>ve(await this.serviceContext.getStatistics({abortSignal:t.abortSignal,tracingOptions:r.tracingOptions})))}async getAccountInfo(t={}){return ne.withSpan("BlobServiceClient-getAccountInfo",t,async r=>ve(await this.serviceContext.getAccountInfo({abortSignal:t.abortSignal,tracingOptions:r.tracingOptions})))}async listContainersSegment(t,r={}){return ne.withSpan("BlobServiceClient-listContainersSegment",r,async n=>ve(await this.serviceContext.listContainersSegment({abortSignal:r.abortSignal,marker:t,...r,include:typeof r.include=="string"?[r.include]:r.include,tracingOptions:n.tracingOptions})))}async findBlobsByTagsSegment(t,r,n={}){return ne.withSpan("BlobServiceClient-findBlobsByTagsSegment",n,async i=>{const o=ve(await this.serviceContext.filterBlobs({abortSignal:n.abortSignal,where:t,marker:r,maxPageSize:n.maxPageSize,tracingOptions:i.tracingOptions}));return{...o,_response:o._response,blobs:o.blobs.map(a=>{let u="";return a.tags?.blobTagSet.length===1&&(u=a.tags.blobTagSet[0].value),{...a,tags:bd(a.tags),tagValue:u}})}})}async*findBlobsByTagsSegments(t,r,n={}){let i;if(r||r===void 0)do i=await this.findBlobsByTagsSegment(t,r,n),i.blobs=i.blobs||[],r=i.continuationToken,yield i;while(r)}async*findBlobsByTagsItems(t,r={}){let n;for await(const i of this.findBlobsByTagsSegments(t,n,r))yield*i.blobs}findBlobsByTags(t,r={}){const n={...r},i=this.findBlobsByTagsItems(t,n);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:(o={})=>this.findBlobsByTagsSegments(t,o.continuationToken,{maxPageSize:o.maxPageSize,...n})}}async*listSegments(t,r={}){let n;if(t||t===void 0)do n=await this.listContainersSegment(t,r),n.containerItems=n.containerItems||[],t=n.continuationToken,yield await n;while(t)}async*listItems(t={}){let r;for await(const n of this.listSegments(r,t))yield*n.containerItems}listContainers(t={}){t.prefix===""&&(t.prefix=void 0);const r=[];t.includeDeleted&&r.push("deleted"),t.includeMetadata&&r.push("metadata"),t.includeSystem&&r.push("system");const n={...t,...r.length>0?{include:r}:{}},i=this.listItems(n);return{next(){return i.next()},[Symbol.asyncIterator](){return this},byPage:(o={})=>this.listSegments(o.continuationToken,{maxPageSize:o.maxPageSize,...n})}}async getUserDelegationKey(t,r,n={}){return ne.withSpan("BlobServiceClient-getUserDelegationKey",n,async i=>{const o=ve(await this.serviceContext.getUserDelegationKey({startsOn:Qe(t,!1),expiresOn:Qe(r,!1)},{abortSignal:n.abortSignal,tracingOptions:i.tracingOptions})),l={signedObjectId:o.signedObjectId,signedTenantId:o.signedTenantId,signedStartsOn:new Date(o.signedStartsOn),signedExpiresOn:new Date(o.signedExpiresOn),signedService:o.signedService,signedVersion:o.signedVersion,value:o.value};return{_response:o._response,requestId:o.requestId,clientRequestId:o.clientRequestId,version:o.version,date:o.date,errorCode:o.errorCode,...l}})}getBlobBatchClient(){return new nz(this.url,this.pipeline)}generateAccountSasUrl(t,r=Yo.parse("r"),n="sco",i={}){if(!(this.credential instanceof mt))throw RangeError("Can only generate the account SAS when the client is initialized with a shared key credential");if(t===void 0){const l=new Date;t=new Date(l.getTime()+3600*1e3)}const o=f6({permissions:r,expiresOn:t,resourceTypes:n,services:Od.parse("b").toString(),...i},this.credential).toString();return zd(this.url,o)}generateSasStringToSign(t,r=Yo.parse("r"),n="sco",i={}){if(!(this.credential instanceof mt))throw RangeError("Can only generate the account SAS when the client is initialized with a shared key credential");if(t===void 0){const o=new Date;t=new Date(o.getTime()+3600*1e3)}return iz({permissions:r,expiresOn:t,resourceTypes:n,services:Od.parse("b").toString(),...i},this.credential).stringToSign}}class g6{blobServiceClient=null;containerClient=null;isInitialized=!1;async initialize(t){try{this.blobServiceClient=zm.fromConnectionString(t.connectionString),this.containerClient=this.blobServiceClient.getContainerClient(t.containerName),await this.containerClient.createIfNotExists(),this.isInitialized=!0,console.log("Azure Blob Storage initialized successfully")}catch(r){throw console.error("Failed to initialize Azure Blob Storage:",r),r}}ensureInitialized(){if(!this.isInitialized||!this.containerClient)throw new Error("Azure Blob Storage not initialized. Call initialize() first.")}getSessionBlobName(t){return`sessions/${t}.json`}getIndexBlobName(){return"session-index.json"}async saveSession(t){this.ensureInitialized();try{const r=this.getSessionBlobName(t.id),i=this.containerClient.getBlobClient(r).getBlockBlobClient(),o={...t,cloudSynced:!0,lastModified:new Date().toISOString()};await i.upload(JSON.stringify(o,null,2),JSON.stringify(o).length,{blobHTTPHeaders:{blobContentType:"application/json"},metadata:{sessionId:t.id,sessionTitle:t.title,sessionDate:t.date,lastModified:o.lastModified}}),await this.updateSessionIndex(t),console.log(`Session ${t.id} saved to Azure Blob Storage`)}catch(r){throw console.error(`Failed to save session ${t.id} to Azure Blob Storage:`,r),r}}async getSession(t){this.ensureInitialized();try{const r=this.getSessionBlobName(t),n=this.containerClient.getBlobClient(r);if(!await n.exists())return null;const i=await n.download(),o=await this.streamToString(i.readableStreamBody);return JSON.parse(o)}catch(r){return console.error(`Failed to get session ${t} from Azure Blob Storage:`,r),null}}async getAllSessions(){this.ensureInitialized();try{const t=[],r=this.containerClient.listBlobsFlat({prefix:"sessions/"});for await(const n of r)if(n.name.endsWith(".json")&&n.name!=="sessions/session-index.json")try{const o=await this.containerClient.getBlobClient(n.name).download(),l=await this.streamToString(o.readableStreamBody),a=JSON.parse(l);t.push(a)}catch(i){console.warn(`Failed to load session from blob ${n.name}:`,i)}return t.sort((n,i)=>new Date(i.date).getTime()-new Date(n.date).getTime())}catch(t){throw console.error("Failed to get all sessions from Azure Blob Storage:",t),t}}async deleteSession(t){this.ensureInitialized();try{const r=this.getSessionBlobName(t);return(await this.containerClient.getBlobClient(r).deleteIfExists()).succeeded?(await this.removeFromSessionIndex(t),console.log(`Session ${t} deleted from Azure Blob Storage`),!0):!1}catch(r){return console.error(`Failed to delete session ${t} from Azure Blob Storage:`,r),!1}}async updateSessionIndex(t){try{const r=this.getIndexBlobName(),n=this.containerClient.getBlobClient(r);let i={sessions:[]};if(await n.exists())try{const u=await n.download(),d=await this.streamToString(u.readableStreamBody);i=JSON.parse(d)}catch{console.warn("Failed to read existing index, creating new one")}const o=i.sessions.findIndex(u=>u.id===t.id),l={id:t.id,title:t.title,date:t.date,duration:t.duration,type:t.type,wordsCount:t.wordsCount,questionsCount:t.questionsCount,lastModified:new Date().toISOString()};o>=0?i.sessions[o]=l:i.sessions.push(l),i.lastUpdated=new Date().toISOString(),i.totalSessions=i.sessions.length,await n.getBlockBlobClient().upload(JSON.stringify(i,null,2),JSON.stringify(i).length,{blobHTTPHeaders:{blobContentType:"application/json"}})}catch(r){console.warn("Failed to update session index:",r)}}async removeFromSessionIndex(t){try{const r=this.getIndexBlobName(),n=this.containerClient.getBlobClient(r);if(!await n.exists())return;const i=await n.download(),o=await this.streamToString(i.readableStreamBody),l=JSON.parse(o);l.sessions=l.sessions.filter(u=>u.id!==t),l.lastUpdated=new Date().toISOString(),l.totalSessions=l.sessions.length,await n.getBlockBlobClient().upload(JSON.stringify(l,null,2),JSON.stringify(l).length,{blobHTTPHeaders:{blobContentType:"application/json"}})}catch(r){console.warn("Failed to update session index after deletion:",r)}}async getSessionIndex(){this.ensureInitialized();try{const t=this.getIndexBlobName(),r=this.containerClient.getBlobClient(t);if(!await r.exists())return{sessions:[],totalSessions:0,lastUpdated:null};const n=await r.download(),i=await this.streamToString(n.readableStreamBody);return JSON.parse(i)}catch(t){return console.error("Failed to get session index:",t),{sessions:[],totalSessions:0,lastUpdated:null}}}async streamToString(t){return new Promise((r,n)=>{const i=[];t.on("data",o=>{i.push(o.toString())}),t.on("end",()=>{r(i.join(""))}),t.on("error",n)})}async testConnection(){try{this.ensureInitialized();const t=await this.containerClient.getProperties();return console.log("Azure Blob Storage connection test successful:",t),!0}catch(t){return console.error("Azure Blob Storage connection test failed:",t),!1}}}const Hn=new g6;class v6{config=null;isCloudInitialized=!1;syncInProgress=!1;syncInterval=null;async initialize(t){if(this.config=t,t.enableCloudSync&&t.azureBlobConfig)try{await Hn.initialize(t.azureBlobConfig),this.isCloudInitialized=!0,console.log("Cloud storage initialized successfully"),t.autoSyncInterval&&t.autoSyncInterval>0&&this.startAutoSync(t.autoSyncInterval),await this.syncFromCloud()}catch(r){console.warn("Failed to initialize cloud storage, continuing with local-only:",r),this.isCloudInitialized=!1}}startAutoSync(t){this.syncInterval&&clearInterval(this.syncInterval),this.syncInterval=setInterval(async()=>{try{await this.syncToCloud()}catch(r){console.warn("Auto-sync failed:",r)}},t*60*1e3),console.log(`Auto-sync enabled with ${t} minute interval`)}async saveSession(t){if(await kt.saveSession(t),this.isCloudInitialized&&this.config?.enableCloudSync)try{await Hn.saveSession(t),await kt.updateSession(t.id,{cloudSynced:!0})}catch(r){console.warn(`Failed to save session ${t.id} to cloud:`,r),await kt.updateSession(t.id,{cloudSynced:!1})}}async getAllSessions(){const t=await kt.getAllSessions();if(!this.isCloudInitialized||!this.config?.enableCloudSync)return t;try{const r=await Hn.getAllSessions(),n=this.mergeSessions(t,r);for(const i of r){const o=t.find(l=>l.id===i.id);(!o||new Date(i.lastModified)>new Date(o.lastModified))&&await kt.saveSession(i)}return n}catch(r){return console.warn("Failed to get sessions from cloud, returning local sessions:",r),t}}async getSessionById(t){let r=await kt.getSessionById(t);if(!r&&this.isCloudInitialized&&this.config?.enableCloudSync)try{r=await Hn.getSession(t),r&&await kt.saveSession(r)}catch(n){console.warn(`Failed to get session ${t} from cloud:`,n)}return r}async deleteSession(t){let r=!1,n=!0;try{r=await kt.deleteSession(t)}catch(i){console.error(`Failed to delete session ${t} from local storage:`,i)}if(this.isCloudInitialized&&this.config?.enableCloudSync)try{n=await Hn.deleteSession(t)}catch(i){console.warn(`Failed to delete session ${t} from cloud:`,i),n=!1}return r||n}async updateSession(t,r){const n=await kt.updateSession(t,r);if(!n)return null;if(this.isCloudInitialized&&this.config?.enableCloudSync)try{await Hn.saveSession(n),await kt.updateSession(t,{cloudSynced:!0})}catch(i){console.warn(`Failed to update session ${t} in cloud:`,i),await kt.updateSession(t,{cloudSynced:!1})}return n}async syncToCloud(){if(!this.isCloudInitialized||!this.config?.enableCloudSync||this.syncInProgress)return{synced:0,errors:["Cloud sync not available or already in progress"]};this.syncInProgress=!0;const t=[];let r=0;try{const i=(await kt.getAllSessions()).filter(o=>!o.cloudSynced);console.log(`Syncing ${i.length} unsynced sessions to cloud...`);for(const o of i)try{await Hn.saveSession(o),await kt.updateSession(o.id,{cloudSynced:!0}),r++}catch(l){t.push(`Failed to sync session ${o.id}: ${l.message}`)}console.log(`Cloud sync completed: ${r} sessions synced, ${t.length} errors`)}catch(n){t.push(`Sync process failed: ${n.message}`)}finally{this.syncInProgress=!1}return{synced:r,errors:t}}async syncFromCloud(){if(!this.isCloudInitialized||!this.config?.enableCloudSync||this.syncInProgress)return{synced:0,errors:["Cloud sync not available or already in progress"]};this.syncInProgress=!0;const t=[];let r=0;try{const n=await Hn.getAllSessions(),i=await kt.getAllSessions();console.log(`Syncing ${n.length} sessions from cloud...`);for(const o of n)try{const l=i.find(a=>a.id===o.id);(!l||new Date(o.lastModified)>new Date(l.lastModified))&&(await kt.saveSession({...o,cloudSynced:!0}),r++)}catch(l){t.push(`Failed to sync session ${o.id} from cloud: ${l.message}`)}console.log(`Cloud sync from cloud completed: ${r} sessions synced, ${t.length} errors`)}catch(n){t.push(`Sync from cloud process failed: ${n.message}`)}finally{this.syncInProgress=!1}return{synced:r,errors:t}}mergeSessions(t,r){const n=new Map;return t.forEach(i=>{n.set(i.id,i)}),r.forEach(i=>{const o=n.get(i.id);(!o||new Date(i.lastModified)>new Date(o.lastModified))&&n.set(i.id,{...i,cloudSynced:!0})}),Array.from(n.values()).sort((i,o)=>new Date(o.date).getTime()-new Date(i.date).getTime())}async getStorageStats(){const t=await kt.getStorageStats();let r;if(this.isCloudInitialized&&this.config?.enableCloudSync)try{r=await Hn.getSessionIndex()}catch(o){console.warn("Failed to get cloud stats:",o)}const i=(await kt.getAllSessions()).filter(o=>!o.cloudSynced).length;return{local:t,cloud:r,sync:{isEnabled:this.config?.enableCloudSync||!1,isCloudAvailable:this.isCloudInitialized,unsyncedSessions:i}}}async exportSessions(){return await kt.exportSessions()}async importSessions(t){const r=await kt.importSessions(t);if(this.isCloudInitialized&&this.config?.enableCloudSync&&r.imported>0)try{await this.syncToCloud()}catch(n){console.warn("Failed to sync imported sessions to cloud:",n)}return r}destroy(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null)}}const Jn=new v6,y6=async()=>{try{const e="DefaultEndpointsProtocol=https;AccountName=aitranscriptorstorage;AccountKey=MwwNUjhgtMqzSnDHVJIKf53Y8f1+ayiudfrBKr5nJ3R4uVFkWmY+ONOmMld5AMSe6Z/JGa6Lg2MW+AStw6yjEg==;EndpointSuffix=core.windows.net",t="aitranscriptions";if(e){console.log("Found Azure Blob Storage configuration in environment variables"),await Jn.initialize({azureBlobConfig:{connectionString:e,containerName:t},enableCloudSync:!0,autoSyncInterval:5}),console.log("Hybrid storage initialized with cloud sync from .env");return}const r=localStorage.getItem("azureBlobConfig"),n=localStorage.getItem("enableCloudSync")==="true";if(r&&n){const i=JSON.parse(r);await Jn.initialize({azureBlobConfig:i,enableCloudSync:!0,autoSyncInterval:5}),console.log("Hybrid storage initialized with cloud sync from localStorage")}else await Jn.initialize({enableCloudSync:!1}),console.log("Local storage initialized (no cloud configuration found)")}catch(e){console.warn("Storage initialization failed, falling back to local-only:",e),await Jn.initialize({enableCloudSync:!1})}};y6();const S6=async e=>{const t={...e,id:Date.now().toString(),questionsCount:e.transcript.filter(r=>r.type==="question").length,wordsCount:e.transcript.reduce((r,n)=>r+n.content.split(" ").length,0),lastModified:new Date().toISOString(),cloudSynced:!1};return await Jn.saveSession(t),t},Mm=async()=>await Jn.getAllSessions(),C6=async e=>await Jn.getSessionById(e),x6=async(e,t)=>await Jn.updateSession(e,{...t,lastModified:new Date().toISOString()}),sz=async e=>await Jn.deleteSession(e),P6=async()=>{const e=await Mm(),t=e.length,r=e.reduce((i,o)=>i+o.wordsCount,0),n=e.reduce((i,o)=>{const l=o.duration;if(l.includes("h")){const a=l.split("h"),u=parseInt(a[0])||0,d=a[1]&&parseInt(a[1].replace("m",""))||0;return i+u*60+d}else return i+(parseInt(l.replace("m",""))||0)},0);return{totalSessions:t,totalWords:r,totalHours:Math.round(n/60*100)/100}},oz=()=>{console.log("Dummy data clearing is handled by enhanced storage system")};function gR({onNavigate:e}){const[t,r]=I.useState({totalSessions:0,totalHours:0,questionsDetected:0}),[n,i]=I.useState([]);I.useEffect(()=>{oz(),(async()=>{try{const a=await P6();r({totalSessions:a.totalSessions,totalHours:a.totalHours,questionsDetected:a.totalSessions>0?127:0});const d=(await Mm()).slice(0,3).map(m=>({id:m.id,title:m.title,date:m.date,duration:m.duration,type:m.type,wordsCount:m.wordsCount}));i(d)}catch(a){console.error("Failed to load dashboard data:",a),r({totalSessions:0,totalHours:0,questionsDetected:0}),i([])}})()},[]);const o=[{label:"Total Sessions",value:t.totalSessions.toString(),icon:ng},{label:"Questions Detected",value:t.questionsDetected.toString(),icon:WB},{label:"Total Hours",value:`${t.totalHours}h`,icon:Td}];return y.jsxs("div",{className:"min-h-screen bg-[#0F172A]",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-blue-500/20 via-blue-400/10 to-transparent blur-xl -z-10"}),y.jsxs("header",{className:"flex items-center justify-between px-8 py-6 mx-6 mt-0 bg-gradient-to-br from-[#1E293B]/90 via-[#334155]/80 to-[#475569]/70 backdrop-blur-xl border border-[#475569]/50 rounded-b-3xl shadow-2xl shadow-blue-500/20 sticky top-0 z-10",children:[y.jsx("div",{className:"flex items-center gap-3",children:y.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("dashboard"),children:y.jsx("img",{src:"/src/assets/Logo.svg",alt:"Choom.AI",className:"h-16 w-auto hover:opacity-80 transition-opacity duration-200",title:"Go to Home"})})}),y.jsx(qe,{onClick:()=>e("live"),className:"bg-[#6366F1] hover:bg-[#5B5CF6] text-white px-6 py-2",children:"Start Live Session"})]})]}),y.jsxs("main",{className:"mt-6 p-6 max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-12 mt-16",children:[y.jsxs("div",{className:"relative w-36 h-36 mx-auto mb-8 cursor-pointer transform transition-all duration-200 hover:scale-105",onClick:()=>e("live"),title:"Click to start transcription",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#6366F1]/20 via-[#5B5CF6]/15 to-[#4F46E5]/10 rounded-full animate-pulse",style:{animationDuration:"3s"}}),y.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-[#6366F1]/30 via-[#5B5CF6]/25 to-[#4F46E5]/15 rounded-full animate-pulse",style:{animationDelay:"0.5s",animationDuration:"3s"}}),y.jsx("div",{className:"absolute inset-3 bg-gradient-to-br from-[#6366F1] via-[#5B5CF6] to-[#4F46E5] rounded-full flex items-center justify-center shadow-xl animate-pulse hover:from-[#5B5CF6] hover:via-[#4F46E5] hover:to-[#4338CA] transition-all duration-200",style:{animationDelay:"1s",animationDuration:"3s"},children:y.jsx(Or,{className:"w-16 h-16 text-white drop-shadow-md"})}),y.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-[#60A5FA] rounded-full animate-ping opacity-60",style:{animationDuration:"2.5s"}}),y.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 bg-[#3B82F6] rounded-full animate-ping opacity-60",style:{animationDelay:"1.25s",animationDuration:"2.5s"}})]}),y.jsx("h2",{className:"text-4xl font-bold text-[#F8FAFC] mb-4",children:"Start Your Live Transcription"}),y.jsx("p",{className:"text-lg text-[#94A3B8] mb-8 max-w-2xl mx-auto",children:"AI-powered live audio transcription with real-time question detection and intelligent responses for lectures, meetings, and events."}),y.jsxs("div",{className:"flex items-center justify-center gap-4",children:[y.jsxs(qe,{onClick:()=>e("live"),className:"bg-[#6366F1] hover:bg-[#5B5CF6] text-white px-8 py-3 text-lg",children:[y.jsx(Or,{className:"w-5 h-5 mr-3"}),"Start Live Session"]}),y.jsxs(qe,{onClick:()=>e("sessions"),variant:"outline",className:"border-[#334155] text-[#F8FAFC] hover:bg-[#334155] px-8 py-3 text-lg",children:[y.jsx(ng,{className:"w-5 h-5 mr-3"}),"View Past Sessions"]})]})]}),y.jsxs(_i,{className:"bg-[#1E293B] border-[#334155] mb-8",children:[y.jsx(IT,{children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx(OB,{className:"text-[#F8FAFC] text-xl",children:"Recent Sessions"}),y.jsx(qe,{onClick:()=>e("sessions"),variant:"ghost",size:"sm",className:"text-[#94A3B8] hover:text-[#F8FAFC]",children:"View All Sessions"})]})}),y.jsx(zi,{className:"space-y-4",children:n.length>0?n.map(l=>y.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#0F172A] rounded-lg border border-[#334155] hover:bg-[#1E293B]/50 cursor-pointer transition-colors",onClick:()=>e("session-detail",l.id),children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(yn,{className:`px-2 py-1 text-xs ${l.type==="lecture"?"bg-[#F59E0B] text-black":l.type==="meeting"?"bg-[#06B6D4] text-black":"bg-[#8B5CF6] text-white"}`,children:l.type}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium text-[#F8FAFC] mb-1",children:l.title}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#94A3B8]",children:[y.jsx(Td,{className:"w-4 h-4"}),y.jsxs("span",{children:[l.date," at ",new Date().toTimeString().slice(0,5)]})]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-sm text-[#94A3B8] mb-1",children:["Duration: ",l.duration]}),y.jsxs(qe,{variant:"ghost",size:"sm",className:"text-[#6366F1] hover:text-[#5B5CF6] hover:bg-[#6366F1]/10",children:[y.jsx(eL,{className:"w-4 h-4 mr-1"}),"View"]})]})]},l.id)):y.jsxs("div",{className:"text-center py-8",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-[#334155] rounded-full flex items-center justify-center",children:y.jsx(ng,{className:"w-8 h-8 text-[#94A3B8]"})}),y.jsx("h3",{className:"text-[#F8FAFC] font-medium mb-2",children:"No sessions yet"}),y.jsx("p",{className:"text-[#94A3B8] mb-4",children:"Start your first transcription session to see it here"}),y.jsxs(qe,{onClick:()=>e("live"),size:"sm",className:"bg-[#6366F1] hover:bg-[#5B5CF6] text-white",children:[y.jsx(Or,{className:"w-4 h-4 mr-2"}),"Start Recording"]})]})})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map((l,a)=>y.jsx(_i,{className:"bg-[#1E293B] border-[#334155]",children:y.jsx(zi,{className:"p-6 text-center",children:y.jsxs("div",{className:"mb-4",children:[y.jsx("p",{className:"text-4xl font-bold text-[#6366F1] mb-2",children:l.value}),y.jsx("p",{className:"text-[#94A3B8] text-sm",children:l.label})]})})},a))})]})]})}function ay({className:e,type:t,...r}){return y.jsx("input",{type:t,"data-slot":"input",className:Rt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var $d=mT();const R6=Fm($d);function vR(e,[t,r]){return Math.min(r,Math.max(t,e))}function Et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function w6(e,t){const r=I.createContext(t),n=o=>{const{children:l,...a}=o,u=I.useMemo(()=>a,Object.values(a));return y.jsx(r.Provider,{value:u,children:l})};n.displayName=e+"Provider";function i(o){const l=I.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,i]}function Wd(e,t=[]){let r=[];function n(o,l){const a=I.createContext(l),u=r.length;r=[...r,l];const d=h=>{const{scope:g,children:v,...x}=h,C=g?.[e]?.[u]||a,w=I.useMemo(()=>x,Object.values(x));return y.jsx(C.Provider,{value:w,children:v})};d.displayName=o+"Provider";function m(h,g){const v=g?.[e]?.[u]||a,x=I.useContext(v);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[d,m]}const i=()=>{const o=r.map(l=>I.createContext(l));return function(a){const u=a?.[e]||o;return I.useMemo(()=>({[`__scope${e}`]:{...a,[e]:u}}),[a,u])}};return i.scopeName=e,[n,b6(i,...t)]}function b6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=n.reduce((a,{useScope:u,scopeName:d})=>{const h=u(o)[`__scope${d}`];return{...a,...h}},{});return I.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function N6(e){const t=e+"CollectionProvider",[r,n]=Wd(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:w,children:R}=C,b=Kn.useRef(null),N=Kn.useRef(new Map).current;return y.jsx(i,{scope:w,itemMap:N,collectionRef:b,children:R})};l.displayName=t;const a=e+"CollectionSlot",u=Jo(a),d=Kn.forwardRef((C,w)=>{const{scope:R,children:b}=C,N=o(a,R),T=ut(w,N.collectionRef);return y.jsx(u,{ref:T,children:b})});d.displayName=a;const m=e+"CollectionItemSlot",h="data-radix-collection-item",g=Jo(m),v=Kn.forwardRef((C,w)=>{const{scope:R,children:b,...N}=C,T=Kn.useRef(null),A=ut(w,T),k=o(m,R);return Kn.useEffect(()=>(k.itemMap.set(T,{ref:T,...N}),()=>void k.itemMap.delete(T))),y.jsx(g,{[h]:"",ref:A,children:b})});v.displayName=m;function x(C){const w=o(e+"CollectionConsumer",C);return Kn.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const N=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((k,M)=>N.indexOf(k.ref.current)-N.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:d,ItemSlot:v},x,n]}var E6=I.createContext(void 0);function T6(e){const t=I.useContext(E6);return e||t||"ltr"}var I6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=I6.reduce((e,t)=>{const r=Jo(`Primitive.${t}`),n=I.forwardRef((i,o)=>{const{asChild:l,...a}=i,u=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(u,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function az(e,t){e&&$d.flushSync(()=>e.dispatchEvent(t))}function Xn(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...r)=>t.current?.(...r),[])}function cz(e,t=globalThis?.document){const r=Xn(e);I.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var A6="DismissableLayer",cy="dismissableLayer.update",_6="dismissableLayer.pointerDownOutside",z6="dismissableLayer.focusOutside",yR,lz=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uz=I.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:a,...u}=e,d=I.useContext(lz),[m,h]=I.useState(null),g=m?.ownerDocument??globalThis?.document,[,v]=I.useState({}),x=ut(t,M=>h(M)),C=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),R=C.indexOf(w),b=m?C.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,T=b>=R,A=O6(M=>{const z=M.target,V=[...d.branches].some(K=>K.contains(z));!T||V||(i?.(M),l?.(M),M.defaultPrevented||a?.())},g),k=D6(M=>{const z=M.target;[...d.branches].some(K=>K.contains(z))||(o?.(M),l?.(M),M.defaultPrevented||a?.())},g);return cz(M=>{b===d.layers.size-1&&(n?.(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},g),I.useEffect(()=>{if(m)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(yR=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),SR(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=yR)}},[m,g,r,d]),I.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),SR())},[m,d]),I.useEffect(()=>{const M=()=>v({});return document.addEventListener(cy,M),()=>document.removeEventListener(cy,M)},[]),y.jsx(it.div,{...u,ref:x,style:{pointerEvents:N?T?"auto":"none":void 0,...e.style},onFocusCapture:Et(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Et(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Et(e.onPointerDownCapture,A.onPointerDownCapture)})});uz.displayName=A6;var M6="DismissableLayerBranch",k6=I.forwardRef((e,t)=>{const r=I.useContext(lz),n=I.useRef(null),i=ut(t,n);return I.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),y.jsx(it.div,{...e,ref:i})});k6.displayName=M6;function O6(e,t=globalThis?.document){const r=Xn(e),n=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let u=function(){dz(_6,r,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function D6(e,t=globalThis?.document){const r=Xn(e),n=I.useRef(!1);return I.useEffect(()=>{const i=o=>{o.target&&!n.current&&dz(z6,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function SR(){const e=new CustomEvent(cy);document.dispatchEvent(e)}function dz(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?az(i,o):i.dispatchEvent(o)}var vg=0;function B6(){I.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??CR()),document.body.insertAdjacentElement("beforeend",e[1]??CR()),vg++,()=>{vg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vg--}},[])}function CR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yg="focusScope.autoFocusOnMount",Sg="focusScope.autoFocusOnUnmount",xR={bubbles:!1,cancelable:!0},L6="FocusScope",mS=I.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[a,u]=I.useState(null),d=Xn(i),m=Xn(o),h=I.useRef(null),g=ut(t,C=>u(C)),v=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(n){let C=function(N){if(v.paused||!a)return;const T=N.target;a.contains(T)?h.current=T:Ei(h.current,{select:!0})},w=function(N){if(v.paused||!a)return;const T=N.relatedTarget;T!==null&&(a.contains(T)||Ei(h.current,{select:!0}))},R=function(N){if(document.activeElement===document.body)for(const A of N)A.removedNodes.length>0&&Ei(a)};document.addEventListener("focusin",C),document.addEventListener("focusout",w);const b=new MutationObserver(R);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",w),b.disconnect()}}},[n,a,v.paused]),I.useEffect(()=>{if(a){RR.add(v);const C=document.activeElement;if(!a.contains(C)){const R=new CustomEvent(yg,xR);a.addEventListener(yg,d),a.dispatchEvent(R),R.defaultPrevented||(j6($6(pz(a)),{select:!0}),document.activeElement===C&&Ei(a))}return()=>{a.removeEventListener(yg,d),setTimeout(()=>{const R=new CustomEvent(Sg,xR);a.addEventListener(Sg,m),a.dispatchEvent(R),R.defaultPrevented||Ei(C??document.body,{select:!0}),a.removeEventListener(Sg,m),RR.remove(v)},0)}}},[a,d,m,v]);const x=I.useCallback(C=>{if(!r&&!n||v.paused)return;const w=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,R=document.activeElement;if(w&&R){const b=C.currentTarget,[N,T]=q6(b);N&&T?!C.shiftKey&&R===T?(C.preventDefault(),r&&Ei(N,{select:!0})):C.shiftKey&&R===N&&(C.preventDefault(),r&&Ei(T,{select:!0})):R===b&&C.preventDefault()}},[r,n,v.paused]);return y.jsx(it.div,{tabIndex:-1,...l,ref:g,onKeyDown:x})});mS.displayName=L6;function j6(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ei(n,{select:t}),document.activeElement!==r)return}function q6(e){const t=pz(e),r=PR(t,e),n=PR(t.reverse(),e);return[r,n]}function pz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PR(e,t){for(const r of e)if(!F6(r,{upTo:t}))return r}function F6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function H6(e){return e instanceof HTMLInputElement&&"select"in e}function Ei(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&H6(e)&&t&&e.select()}}var RR=U6();function U6(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=wR(e,t),e.unshift(t)},remove(t){e=wR(e,t),e[0]?.resume()}}}function wR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function $6(e){return e.filter(t=>t.tagName!=="A")}var tr=globalThis?.document?I.useLayoutEffect:()=>{},W6=pT[" useId ".trim().toString()]||(()=>{}),V6=0;function Vo(e){const[t,r]=I.useState(W6());return tr(()=>{r(n=>n??String(V6++))},[e]),e||(t?`radix-${t}`:"")}const K6=["top","right","bottom","left"],Di=Math.min,br=Math.max,km=Math.round,dm=Math.floor,xn=e=>({x:e,y:e}),G6={left:"right",right:"left",bottom:"top",top:"bottom"},J6={start:"end",end:"start"};function ly(e,t,r){return br(e,Di(t,r))}function Yn(e,t){return typeof e=="function"?e(t):e}function Zn(e){return e.split("-")[0]}function wa(e){return e.split("-")[1]}function hS(e){return e==="x"?"y":"x"}function fS(e){return e==="y"?"height":"width"}const Q6=new Set(["top","bottom"]);function Sn(e){return Q6.has(Zn(e))?"y":"x"}function gS(e){return hS(Sn(e))}function X6(e,t,r){r===void 0&&(r=!1);const n=wa(e),i=gS(e),o=fS(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Om(l)),[l,Om(l)]}function Y6(e){const t=Om(e);return[uy(e),t,uy(t)]}function uy(e){return e.replace(/start|end/g,t=>J6[t])}const bR=["left","right"],NR=["right","left"],Z6=["top","bottom"],eU=["bottom","top"];function tU(e,t,r){switch(e){case"top":case"bottom":return r?t?NR:bR:t?bR:NR;case"left":case"right":return t?Z6:eU;default:return[]}}function rU(e,t,r,n){const i=wa(e);let o=tU(Zn(e),r==="start",n);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(uy)))),o}function Om(e){return e.replace(/left|right|bottom|top/g,t=>G6[t])}function nU(e){return{top:0,right:0,bottom:0,left:0,...e}}function mz(e){return typeof e!="number"?nU(e):{top:e,right:e,bottom:e,left:e}}function Dm(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function ER(e,t,r){let{reference:n,floating:i}=e;const o=Sn(t),l=gS(t),a=fS(l),u=Zn(t),d=o==="y",m=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,g=n[a]/2-i[a]/2;let v;switch(u){case"top":v={x:m,y:n.y-i.height};break;case"bottom":v={x:m,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:h};break;case"left":v={x:n.x-i.width,y:h};break;default:v={x:n.x,y:n.y}}switch(wa(t)){case"start":v[l]-=g*(r&&d?-1:1);break;case"end":v[l]+=g*(r&&d?-1:1);break}return v}const iU=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=r,a=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:h}=ER(d,n,u),g=n,v={},x=0;for(let C=0;C<a.length;C++){const{name:w,fn:R}=a[C],{x:b,y:N,data:T,reset:A}=await R({x:m,y:h,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:d,platform:l,elements:{reference:e,floating:t}});m=b??m,h=N??h,v={...v,[w]:{...v[w],...T}},A&&x<=50&&(x++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(d=A.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:m,y:h}=ER(d,g,u)),C=-1)}return{x:m,y:h,placement:g,strategy:i,middlewareData:v}};async function Dd(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:l,elements:a,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:g=!1,padding:v=0}=Yn(t,e),x=mz(v),w=a[g?h==="floating"?"reference":"floating":h],R=Dm(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:m,strategy:u})),b=h==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),T=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},A=Dm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:N,strategy:u}):b);return{top:(R.top-A.top+x.top)/T.y,bottom:(A.bottom-R.bottom+x.bottom)/T.y,left:(R.left-A.left+x.left)/T.x,right:(A.right-R.right+x.right)/T.x}}const sU=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:l,elements:a,middlewareData:u}=t,{element:d,padding:m=0}=Yn(e,t)||{};if(d==null)return{};const h=mz(m),g={x:r,y:n},v=gS(i),x=fS(v),C=await l.getDimensions(d),w=v==="y",R=w?"top":"left",b=w?"bottom":"right",N=w?"clientHeight":"clientWidth",T=o.reference[x]+o.reference[v]-g[v]-o.floating[x],A=g[v]-o.reference[v],k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let M=k?k[N]:0;(!M||!await(l.isElement==null?void 0:l.isElement(k)))&&(M=a.floating[N]||o.floating[x]);const z=T/2-A/2,V=M/2-C[x]/2-1,K=Di(h[R],V),ue=Di(h[b],V),we=K,H=M-C[x]-ue,ie=M/2-C[x]/2+z,oe=ly(we,ie,H),fe=!u.arrow&&wa(i)!=null&&ie!==oe&&o.reference[x]/2-(ie<we?K:ue)-C[x]/2<0,ae=fe?ie<we?ie-we:ie-H:0;return{[v]:g[v]+ae,data:{[v]:oe,centerOffset:ie-oe-ae,...fe&&{alignmentOffset:ae}},reset:fe}}}),oU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:a,platform:u,elements:d}=t,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:C=!0,...w}=Yn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const R=Zn(i),b=Sn(a),N=Zn(a)===a,T=await(u.isRTL==null?void 0:u.isRTL(d.floating)),A=g||(N||!C?[Om(a)]:Y6(a)),k=x!=="none";!g&&k&&A.push(...rU(a,C,x,T));const M=[a,...A],z=await Dd(t,w),V=[];let K=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&V.push(z[R]),h){const ie=X6(i,l,T);V.push(z[ie[0]],z[ie[1]])}if(K=[...K,{placement:i,overflows:V}],!V.every(ie=>ie<=0)){var ue,we;const ie=(((ue=o.flip)==null?void 0:ue.index)||0)+1,oe=M[ie];if(oe&&(!(h==="alignment"?b!==Sn(oe):!1)||K.every(L=>Sn(L.placement)===b?L.overflows[0]>0:!0)))return{data:{index:ie,overflows:K},reset:{placement:oe}};let fe=(we=K.filter(ae=>ae.overflows[0]<=0).sort((ae,L)=>ae.overflows[1]-L.overflows[1])[0])==null?void 0:we.placement;if(!fe)switch(v){case"bestFit":{var H;const ae=(H=K.filter(L=>{if(k){const ee=Sn(L.placement);return ee===b||ee==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(ee=>ee>0).reduce((ee,G)=>ee+G,0)]).sort((L,ee)=>L[1]-ee[1])[0])==null?void 0:H[0];ae&&(fe=ae);break}case"initialPlacement":fe=a;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}};function TR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function IR(e){return K6.some(t=>e[t]>=0)}const aU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Yn(e,t);switch(n){case"referenceHidden":{const o=await Dd(t,{...i,elementContext:"reference"}),l=TR(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:IR(l)}}}case"escaped":{const o=await Dd(t,{...i,altBoundary:!0}),l=TR(o,r.floating);return{data:{escapedOffsets:l,escaped:IR(l)}}}default:return{}}}}},hz=new Set(["left","top"]);async function cU(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Zn(r),a=wa(r),u=Sn(r)==="y",d=hz.has(l)?-1:1,m=o&&u?-1:1,h=Yn(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),u?{x:v*m,y:g*d}:{x:g*d,y:v*m}}const lU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:l,middlewareData:a}=t,u=await cU(t,e);return l===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:l}}}}},uU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:a={fn:w=>{let{x:R,y:b}=w;return{x:R,y:b}}},...u}=Yn(e,t),d={x:r,y:n},m=await Dd(t,u),h=Sn(Zn(i)),g=hS(h);let v=d[g],x=d[h];if(o){const w=g==="y"?"top":"left",R=g==="y"?"bottom":"right",b=v+m[w],N=v-m[R];v=ly(b,v,N)}if(l){const w=h==="y"?"top":"left",R=h==="y"?"bottom":"right",b=x+m[w],N=x-m[R];x=ly(b,x,N)}const C=a.fn({...t,[g]:v,[h]:x});return{...C,data:{x:C.x-r,y:C.y-n,enabled:{[g]:o,[h]:l}}}}}},dU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:l}=t,{offset:a=0,mainAxis:u=!0,crossAxis:d=!0}=Yn(e,t),m={x:r,y:n},h=Sn(i),g=hS(h);let v=m[g],x=m[h];const C=Yn(a,t),w=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(u){const N=g==="y"?"height":"width",T=o.reference[g]-o.floating[N]+w.mainAxis,A=o.reference[g]+o.reference[N]-w.mainAxis;v<T?v=T:v>A&&(v=A)}if(d){var R,b;const N=g==="y"?"width":"height",T=hz.has(Zn(i)),A=o.reference[h]-o.floating[N]+(T&&((R=l.offset)==null?void 0:R[h])||0)+(T?0:w.crossAxis),k=o.reference[h]+o.reference[N]+(T?0:((b=l.offset)==null?void 0:b[h])||0)-(T?w.crossAxis:0);x<A?x=A:x>k&&(x=k)}return{[g]:v,[h]:x}}}},pU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:l,elements:a}=t,{apply:u=()=>{},...d}=Yn(e,t),m=await Dd(t,d),h=Zn(i),g=wa(i),v=Sn(i)==="y",{width:x,height:C}=o.floating;let w,R;h==="top"||h==="bottom"?(w=h,R=g===(await(l.isRTL==null?void 0:l.isRTL(a.floating))?"start":"end")?"left":"right"):(R=h,w=g==="end"?"top":"bottom");const b=C-m.top-m.bottom,N=x-m.left-m.right,T=Di(C-m[w],b),A=Di(x-m[R],N),k=!t.middlewareData.shift;let M=T,z=A;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(z=N),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=b),k&&!g){const K=br(m.left,0),ue=br(m.right,0),we=br(m.top,0),H=br(m.bottom,0);v?z=x-2*(K!==0||ue!==0?K+ue:br(m.left,m.right)):M=C-2*(we!==0||H!==0?we+H:br(m.top,m.bottom))}await u({...t,availableWidth:z,availableHeight:M});const V=await l.getDimensions(a.floating);return x!==V.width||C!==V.height?{reset:{rects:!0}}:{}}}};function eh(){return typeof window<"u"}function ba(e){return fz(e)?(e.nodeName||"").toLowerCase():"#document"}function Nr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function En(e){var t;return(t=(fz(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fz(e){return eh()?e instanceof Node||e instanceof Nr(e).Node:!1}function tn(e){return eh()?e instanceof Element||e instanceof Nr(e).Element:!1}function bn(e){return eh()?e instanceof HTMLElement||e instanceof Nr(e).HTMLElement:!1}function AR(e){return!eh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nr(e).ShadowRoot}const mU=new Set(["inline","contents"]);function Vd(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=rn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!mU.has(i)}const hU=new Set(["table","td","th"]);function fU(e){return hU.has(ba(e))}const gU=[":popover-open",":modal"];function th(e){return gU.some(t=>{try{return e.matches(t)}catch{return!1}})}const vU=["transform","translate","scale","rotate","perspective"],yU=["transform","translate","scale","rotate","perspective","filter"],SU=["paint","layout","strict","content"];function vS(e){const t=yS(),r=tn(e)?rn(e):e;return vU.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||yU.some(n=>(r.willChange||"").includes(n))||SU.some(n=>(r.contain||"").includes(n))}function CU(e){let t=Bi(e);for(;bn(t)&&!Zo(t);){if(vS(t))return t;if(th(t))return null;t=Bi(t)}return null}function yS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xU=new Set(["html","body","#document"]);function Zo(e){return xU.has(ba(e))}function rn(e){return Nr(e).getComputedStyle(e)}function rh(e){return tn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bi(e){if(ba(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AR(e)&&e.host||En(e);return AR(t)?t.host:t}function gz(e){const t=Bi(e);return Zo(t)?e.ownerDocument?e.ownerDocument.body:e.body:bn(t)&&Vd(t)?t:gz(t)}function Bd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=gz(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),l=Nr(i);if(o){const a=dy(l);return t.concat(l,l.visualViewport||[],Vd(i)?i:[],a&&r?Bd(a):[])}return t.concat(i,Bd(i,[],r))}function dy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vz(e){const t=rn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=bn(e),o=i?e.offsetWidth:r,l=i?e.offsetHeight:n,a=km(r)!==o||km(n)!==l;return a&&(r=o,n=l),{width:r,height:n,$:a}}function SS(e){return tn(e)?e:e.contextElement}function Ko(e){const t=SS(e);if(!bn(t))return xn(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=vz(t);let l=(o?km(r.width):r.width)/n,a=(o?km(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const PU=xn(0);function yz(e){const t=Nr(e);return!yS()||!t.visualViewport?PU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function RU(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Nr(e)?!1:t}function $s(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=SS(e);let l=xn(1);t&&(n?tn(n)&&(l=Ko(n)):l=Ko(e));const a=RU(o,r,n)?yz(o):xn(0);let u=(i.left+a.x)/l.x,d=(i.top+a.y)/l.y,m=i.width/l.x,h=i.height/l.y;if(o){const g=Nr(o),v=n&&tn(n)?Nr(n):n;let x=g,C=dy(x);for(;C&&n&&v!==x;){const w=Ko(C),R=C.getBoundingClientRect(),b=rn(C),N=R.left+(C.clientLeft+parseFloat(b.paddingLeft))*w.x,T=R.top+(C.clientTop+parseFloat(b.paddingTop))*w.y;u*=w.x,d*=w.y,m*=w.x,h*=w.y,u+=N,d+=T,x=Nr(C),C=dy(x)}}return Dm({width:m,height:h,x:u,y:d})}function CS(e,t){const r=rh(e).scrollLeft;return t?t.left+r:$s(En(e)).left+r}function Sz(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:CS(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function wU(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",l=En(n),a=t?th(t.floating):!1;if(n===l||a&&o)return r;let u={scrollLeft:0,scrollTop:0},d=xn(1);const m=xn(0),h=bn(n);if((h||!h&&!o)&&((ba(n)!=="body"||Vd(l))&&(u=rh(n)),bn(n))){const v=$s(n);d=Ko(n),m.x=v.x+n.clientLeft,m.y=v.y+n.clientTop}const g=l&&!h&&!o?Sz(l,u,!0):xn(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+m.x+g.x,y:r.y*d.y-u.scrollTop*d.y+m.y+g.y}}function bU(e){return Array.from(e.getClientRects())}function NU(e){const t=En(e),r=rh(e),n=e.ownerDocument.body,i=br(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=br(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+CS(e);const a=-r.scrollTop;return rn(n).direction==="rtl"&&(l+=br(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:a}}function EU(e,t){const r=Nr(e),n=En(e),i=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,a=0,u=0;if(i){o=i.width,l=i.height;const d=yS();(!d||d&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:o,height:l,x:a,y:u}}const TU=new Set(["absolute","fixed"]);function IU(e,t){const r=$s(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=bn(e)?Ko(e):xn(1),l=e.clientWidth*o.x,a=e.clientHeight*o.y,u=i*o.x,d=n*o.y;return{width:l,height:a,x:u,y:d}}function _R(e,t,r){let n;if(t==="viewport")n=EU(e,r);else if(t==="document")n=NU(En(e));else if(tn(t))n=IU(t,r);else{const i=yz(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Dm(n)}function Cz(e,t){const r=Bi(e);return r===t||!tn(r)||Zo(r)?!1:rn(r).position==="fixed"||Cz(r,t)}function AU(e,t){const r=t.get(e);if(r)return r;let n=Bd(e,[],!1).filter(a=>tn(a)&&ba(a)!=="body"),i=null;const o=rn(e).position==="fixed";let l=o?Bi(e):e;for(;tn(l)&&!Zo(l);){const a=rn(l),u=vS(l);!u&&a.position==="fixed"&&(i=null),(o?!u&&!i:!u&&a.position==="static"&&!!i&&TU.has(i.position)||Vd(l)&&!u&&Cz(e,l))?n=n.filter(m=>m!==l):i=a,l=Bi(l)}return t.set(e,n),n}function _U(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?th(t)?[]:AU(t,this._c):[].concat(r),n],a=l[0],u=l.reduce((d,m)=>{const h=_R(t,m,i);return d.top=br(h.top,d.top),d.right=Di(h.right,d.right),d.bottom=Di(h.bottom,d.bottom),d.left=br(h.left,d.left),d},_R(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function zU(e){const{width:t,height:r}=vz(e);return{width:t,height:r}}function MU(e,t,r){const n=bn(t),i=En(t),o=r==="fixed",l=$s(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const u=xn(0);function d(){u.x=CS(i)}if(n||!n&&!o)if((ba(t)!=="body"||Vd(i))&&(a=rh(t)),n){const v=$s(t,!0,o,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else i&&d();o&&!n&&i&&d();const m=i&&!n&&!o?Sz(i,a):xn(0),h=l.left+a.scrollLeft-u.x-m.x,g=l.top+a.scrollTop-u.y-m.y;return{x:h,y:g,width:l.width,height:l.height}}function Cg(e){return rn(e).position==="static"}function zR(e,t){if(!bn(e)||rn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return En(e)===r&&(r=r.ownerDocument.body),r}function xz(e,t){const r=Nr(e);if(th(e))return r;if(!bn(e)){let i=Bi(e);for(;i&&!Zo(i);){if(tn(i)&&!Cg(i))return i;i=Bi(i)}return r}let n=zR(e,t);for(;n&&fU(n)&&Cg(n);)n=zR(n,t);return n&&Zo(n)&&Cg(n)&&!vS(n)?r:n||CU(e)||r}const kU=async function(e){const t=this.getOffsetParent||xz,r=this.getDimensions,n=await r(e.floating);return{reference:MU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function OU(e){return rn(e).direction==="rtl"}const DU={convertOffsetParentRelativeRectToViewportRelativeRect:wU,getDocumentElement:En,getClippingRect:_U,getOffsetParent:xz,getElementRects:kU,getClientRects:bU,getDimensions:zU,getScale:Ko,isElement:tn,isRTL:OU};function Pz(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function BU(e,t){let r=null,n;const i=En(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function l(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const d=e.getBoundingClientRect(),{left:m,top:h,width:g,height:v}=d;if(a||t(),!g||!v)return;const x=dm(h),C=dm(i.clientWidth-(m+g)),w=dm(i.clientHeight-(h+v)),R=dm(m),N={rootMargin:-x+"px "+-C+"px "+-w+"px "+-R+"px",threshold:br(0,Di(1,u))||1};let T=!0;function A(k){const M=k[0].intersectionRatio;if(M!==u){if(!T)return l();M?l(!1,M):n=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!Pz(d,e.getBoundingClientRect())&&l(),T=!1}try{r=new IntersectionObserver(A,{...N,root:i.ownerDocument})}catch{r=new IntersectionObserver(A,N)}r.observe(e)}return l(!0),o}function LU(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=SS(e),m=i||o?[...d?Bd(d):[],...Bd(t)]:[];m.forEach(R=>{i&&R.addEventListener("scroll",r,{passive:!0}),o&&R.addEventListener("resize",r)});const h=d&&a?BU(d,r):null;let g=-1,v=null;l&&(v=new ResizeObserver(R=>{let[b]=R;b&&b.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=v)==null||N.observe(t)})),r()}),d&&!u&&v.observe(d),v.observe(t));let x,C=u?$s(e):null;u&&w();function w(){const R=$s(e);C&&!Pz(C,R)&&r(),C=R,x=requestAnimationFrame(w)}return r(),()=>{var R;m.forEach(b=>{i&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),h?.(),(R=v)==null||R.disconnect(),v=null,u&&cancelAnimationFrame(x)}}const jU=lU,qU=uU,FU=oU,HU=pU,UU=aU,MR=sU,$U=dU,WU=(e,t,r)=>{const n=new Map,i={platform:DU,...r},o={...i.platform,_c:n};return iU(e,t,{...i,platform:o})};var VU=typeof document<"u",KU=function(){},Cm=VU?I.useLayoutEffect:KU;function Bm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Bm(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Bm(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Rz(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kR(e,t){const r=Rz(e);return Math.round(t*r)/r}function xg(e){const t=I.useRef(e);return Cm(()=>{t.current=e}),t}function GU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:a=!0,whileElementsMounted:u,open:d}=e,[m,h]=I.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=I.useState(n);Bm(g,n)||v(n);const[x,C]=I.useState(null),[w,R]=I.useState(null),b=I.useCallback(L=>{L!==k.current&&(k.current=L,C(L))},[]),N=I.useCallback(L=>{L!==M.current&&(M.current=L,R(L))},[]),T=o||x,A=l||w,k=I.useRef(null),M=I.useRef(null),z=I.useRef(m),V=u!=null,K=xg(u),ue=xg(i),we=xg(d),H=I.useCallback(()=>{if(!k.current||!M.current)return;const L={placement:t,strategy:r,middleware:g};ue.current&&(L.platform=ue.current),WU(k.current,M.current,L).then(ee=>{const G={...ee,isPositioned:we.current!==!1};ie.current&&!Bm(z.current,G)&&(z.current=G,$d.flushSync(()=>{h(G)}))})},[g,t,r,ue,we]);Cm(()=>{d===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[d]);const ie=I.useRef(!1);Cm(()=>(ie.current=!0,()=>{ie.current=!1}),[]),Cm(()=>{if(T&&(k.current=T),A&&(M.current=A),T&&A){if(K.current)return K.current(T,A,H);H()}},[T,A,H,K,V]);const oe=I.useMemo(()=>({reference:k,floating:M,setReference:b,setFloating:N}),[b,N]),fe=I.useMemo(()=>({reference:T,floating:A}),[T,A]),ae=I.useMemo(()=>{const L={position:r,left:0,top:0};if(!fe.floating)return L;const ee=kR(fe.floating,m.x),G=kR(fe.floating,m.y);return a?{...L,transform:"translate("+ee+"px, "+G+"px)",...Rz(fe.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ee,top:G}},[r,a,fe.floating,m.x,m.y]);return I.useMemo(()=>({...m,update:H,refs:oe,elements:fe,floatingStyles:ae}),[m,H,oe,fe,ae])}const JU=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?MR({element:n.current,padding:i}).fn(r):{}:n?MR({element:n,padding:i}).fn(r):{}}}},QU=(e,t)=>({...jU(e),options:[e,t]}),XU=(e,t)=>({...qU(e),options:[e,t]}),YU=(e,t)=>({...$U(e),options:[e,t]}),ZU=(e,t)=>({...FU(e),options:[e,t]}),e5=(e,t)=>({...HU(e),options:[e,t]}),t5=(e,t)=>({...UU(e),options:[e,t]}),r5=(e,t)=>({...JU(e),options:[e,t]});var n5="Arrow",wz=I.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return y.jsx(it.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});wz.displayName=n5;var i5=wz;function bz(e){const[t,r]=I.useState(void 0);return tr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,a;if("borderBoxSize"in o){const u=o.borderBoxSize,d=Array.isArray(u)?u[0]:u;l=d.inlineSize,a=d.blockSize}else l=e.offsetWidth,a=e.offsetHeight;r({width:l,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var xS="Popper",[Nz,Ez]=Wd(xS),[s5,Tz]=Nz(xS),Iz=e=>{const{__scopePopper:t,children:r}=e,[n,i]=I.useState(null);return y.jsx(s5,{scope:t,anchor:n,onAnchorChange:i,children:r})};Iz.displayName=xS;var Az="PopperAnchor",_z=I.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,o=Tz(Az,r),l=I.useRef(null),a=ut(t,l);return I.useEffect(()=>{o.onAnchorChange(n?.current||l.current)}),n?null:y.jsx(it.div,{...i,ref:a})});_z.displayName=Az;var PS="PopperContent",[o5,a5]=Nz(PS),zz=I.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:x,...C}=e,w=Tz(PS,r),[R,b]=I.useState(null),N=ut(t,X=>b(X)),[T,A]=I.useState(null),k=bz(T),M=k?.width??0,z=k?.height??0,V=n+(o!=="center"?"-"+o:""),K=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},ue=Array.isArray(d)?d:[d],we=ue.length>0,H={padding:K,boundary:ue.filter(l5),altBoundary:we},{refs:ie,floatingStyles:oe,placement:fe,isPositioned:ae,middlewareData:L}=GU({strategy:"fixed",placement:V,whileElementsMounted:(...X)=>LU(...X,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[QU({mainAxis:i+z,alignmentAxis:l}),u&&XU({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?YU():void 0,...H}),u&&ZU({...H}),e5({...H,apply:({elements:X,rects:Ne,availableWidth:Ae,availableHeight:De})=>{const{width:He,height:Je}=Ne.reference,wt=X.floating.style;wt.setProperty("--radix-popper-available-width",`${Ae}px`),wt.setProperty("--radix-popper-available-height",`${De}px`),wt.setProperty("--radix-popper-anchor-width",`${He}px`),wt.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),T&&r5({element:T,padding:a}),u5({arrowWidth:M,arrowHeight:z}),g&&t5({strategy:"referenceHidden",...H})]}),[ee,G]=Oz(fe),D=Xn(x);tr(()=>{ae&&D?.()},[ae,D]);const $=L.arrow?.x,ge=L.arrow?.y,Ce=L.arrow?.centerOffset!==0,[ke,Oe]=I.useState();return tr(()=>{R&&Oe(window.getComputedStyle(R).zIndex)},[R]),y.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:ae?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:y.jsx(o5,{scope:r,placedSide:ee,onArrowChange:A,arrowX:$,arrowY:ge,shouldHideArrow:Ce,children:y.jsx(it.div,{"data-side":ee,"data-align":G,...C,ref:N,style:{...C.style,animation:ae?void 0:"none"}})})})});zz.displayName=PS;var Mz="PopperArrow",c5={top:"bottom",right:"left",bottom:"top",left:"right"},kz=I.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,o=a5(Mz,n),l=c5[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(i5,{...i,ref:r,style:{...i.style,display:"block"}})})});kz.displayName=Mz;function l5(e){return e!==null}var u5=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,a=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[d,m]=Oz(r),h={start:"0%",center:"50%",end:"100%"}[m],g=(i.arrow?.x??0)+a/2,v=(i.arrow?.y??0)+u/2;let x="",C="";return d==="bottom"?(x=l?h:`${g}px`,C=`${-u}px`):d==="top"?(x=l?h:`${g}px`,C=`${n.floating.height+u}px`):d==="right"?(x=`${-u}px`,C=l?h:`${v}px`):d==="left"&&(x=`${n.floating.width+u}px`,C=l?h:`${v}px`),{data:{x,y:C}}}});function Oz(e){const[t,r="center"]=e.split("-");return[t,r]}var d5=Iz,p5=_z,m5=zz,h5=kz,f5="Portal",RS=I.forwardRef((e,t)=>{const{container:r,...n}=e,[i,o]=I.useState(!1);tr(()=>o(!0),[]);const l=r||i&&globalThis?.document?.body;return l?R6.createPortal(y.jsx(it.div,{...n,ref:t}),l):null});RS.displayName=f5;var g5=pT[" useInsertionEffect ".trim().toString()]||tr;function Lm({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,o,l]=v5({defaultProp:t,onChange:r}),a=e!==void 0,u=a?e:i;{const m=I.useRef(e!==void 0);I.useEffect(()=>{const h=m.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=a},[a,n])}const d=I.useCallback(m=>{if(a){const h=y5(m)?m(e):m;h!==e&&l.current?.(h)}else o(m)},[a,e,o,l]);return[u,d]}function v5({defaultProp:e,onChange:t}){const[r,n]=I.useState(e),i=I.useRef(r),o=I.useRef(t);return g5(()=>{o.current=t},[t]),I.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,n,o]}function y5(e){return typeof e=="function"}function Dz(e){const t=I.useRef({value:e,previous:e});return I.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Bz=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),S5="VisuallyHidden",C5=I.forwardRef((e,t)=>y.jsx(it.span,{...e,ref:t,style:{...Bz,...e.style}}));C5.displayName=S5;var x5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oo=new WeakMap,pm=new WeakMap,mm={},Pg=0,Lz=function(e){return e&&(e.host||Lz(e.parentNode))},P5=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Lz(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},R5=function(e,t,r,n){var i=P5(t,Array.isArray(e)?e:[e]);mm[r]||(mm[r]=new WeakMap);var o=mm[r],l=[],a=new Set,u=new Set(i),d=function(h){!h||a.has(h)||(a.add(h),d(h.parentNode))};i.forEach(d);var m=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(g){if(a.has(g))m(g);else try{var v=g.getAttribute(n),x=v!==null&&v!=="false",C=(Oo.get(g)||0)+1,w=(o.get(g)||0)+1;Oo.set(g,C),o.set(g,w),l.push(g),C===1&&x&&pm.set(g,!0),w===1&&g.setAttribute(r,"true"),x||g.setAttribute(n,"true")}catch(R){console.error("aria-hidden: cannot operate on ",g,R)}})};return m(t),a.clear(),Pg++,function(){l.forEach(function(h){var g=Oo.get(h)-1,v=o.get(h)-1;Oo.set(h,g),o.set(h,v),g||(pm.has(h)||h.removeAttribute(n),pm.delete(h)),v||h.removeAttribute(r)}),Pg--,Pg||(Oo=new WeakMap,Oo=new WeakMap,pm=new WeakMap,mm={})}},jz=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=x5(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),R5(n,i,r,"aria-hidden")):function(){return null}},vn=function(){return vn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},vn.apply(this,arguments)};function qz(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function w5(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var xm="right-scroll-bar-position",Pm="width-before-scroll-bar",b5="with-scroll-bars-hidden",N5="--removed-body-scroll-bar-size";function Rg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function E5(e,t){var r=I.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var T5=typeof window<"u"?I.useLayoutEffect:I.useEffect,OR=new WeakMap;function I5(e,t){var r=E5(null,function(n){return e.forEach(function(i){return Rg(i,n)})});return T5(function(){var n=OR.get(r);if(n){var i=new Set(n),o=new Set(e),l=r.current;i.forEach(function(a){o.has(a)||Rg(a,null)}),o.forEach(function(a){i.has(a)||Rg(a,l)})}OR.set(r,e)},[e]),r}function A5(e){return e}function _5(e,t){t===void 0&&(t=A5);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var l=t(o,n);return r.push(l),function(){r=r.filter(function(a){return a!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var a=r;r=[],a.forEach(o),l=r}var u=function(){var m=l;l=[],m.forEach(o)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(m){l.push(m),d()},filter:function(m){return l=l.filter(m),r}}}};return i}function z5(e){e===void 0&&(e={});var t=_5(null);return t.options=vn({async:!0,ssr:!1},e),t}var Fz=function(e){var t=e.sideCar,r=qz(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return I.createElement(n,vn({},r))};Fz.isSideCarExport=!0;function M5(e,t){return e.useMedium(t),Fz}var Hz=z5(),wg=function(){},nh=I.forwardRef(function(e,t){var r=I.useRef(null),n=I.useState({onScrollCapture:wg,onWheelCapture:wg,onTouchMoveCapture:wg}),i=n[0],o=n[1],l=e.forwardProps,a=e.children,u=e.className,d=e.removeScrollBar,m=e.enabled,h=e.shards,g=e.sideCar,v=e.noRelative,x=e.noIsolation,C=e.inert,w=e.allowPinchZoom,R=e.as,b=R===void 0?"div":R,N=e.gapMode,T=qz(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,k=I5([r,t]),M=vn(vn({},T),i);return I.createElement(I.Fragment,null,m&&I.createElement(A,{sideCar:Hz,removeScrollBar:d,shards:h,noRelative:v,noIsolation:x,inert:C,setCallbacks:o,allowPinchZoom:!!w,lockRef:r,gapMode:N}),l?I.cloneElement(I.Children.only(a),vn(vn({},M),{ref:k})):I.createElement(b,vn({},M,{className:u,ref:k}),a))});nh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nh.classNames={fullWidth:Pm,zeroRight:xm};var k5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function O5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=k5();return t&&e.setAttribute("nonce",t),e}function D5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function B5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var L5=function(){var e=0,t=null;return{add:function(r){e==0&&(t=O5())&&(D5(t,r),B5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},j5=function(){var e=L5();return function(t,r){I.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Uz=function(){var e=j5(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},q5={left:0,top:0,right:0,gap:0},bg=function(e){return parseInt(e||"",10)||0},F5=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[bg(r),bg(n),bg(i)]},H5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return q5;var t=F5(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},U5=Uz(),Go="data-scroll-locked",$5=function(e,t,r,n){var i=e.left,o=e.top,l=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(b5,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Go,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xm,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Pm,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(xm," .").concat(xm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Pm," .").concat(Pm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Go,`] {
    `).concat(N5,": ").concat(a,`px;
  }
`)},DR=function(){var e=parseInt(document.body.getAttribute(Go)||"0",10);return isFinite(e)?e:0},W5=function(){I.useEffect(function(){return document.body.setAttribute(Go,(DR()+1).toString()),function(){var e=DR()-1;e<=0?document.body.removeAttribute(Go):document.body.setAttribute(Go,e.toString())}},[])},V5=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;W5();var o=I.useMemo(function(){return H5(i)},[i]);return I.createElement(U5,{styles:$5(o,!t,i,r?"":"!important")})},py=!1;if(typeof window<"u")try{var hm=Object.defineProperty({},"passive",{get:function(){return py=!0,!0}});window.addEventListener("test",hm,hm),window.removeEventListener("test",hm,hm)}catch{py=!1}var Do=py?{passive:!1}:!1,K5=function(e){return e.tagName==="TEXTAREA"},$z=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!K5(e)&&r[t]==="visible")},G5=function(e){return $z(e,"overflowY")},J5=function(e){return $z(e,"overflowX")},BR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Wz(e,n);if(i){var o=Vz(e,n),l=o[1],a=o[2];if(l>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Q5=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},X5=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Wz=function(e,t){return e==="v"?G5(t):J5(t)},Vz=function(e,t){return e==="v"?Q5(t):X5(t)},Y5=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z5=function(e,t,r,n,i){var o=Y5(e,window.getComputedStyle(t).direction),l=o*n,a=r.target,u=t.contains(a),d=!1,m=l>0,h=0,g=0;do{if(!a)break;var v=Vz(e,a),x=v[0],C=v[1],w=v[2],R=C-w-o*x;(x||R)&&Wz(e,a)&&(h+=R,g+=x);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!u&&a!==document.body||u&&(t.contains(a)||t===a));return(m&&Math.abs(h)<1||!m&&Math.abs(g)<1)&&(d=!0),d},fm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},LR=function(e){return[e.deltaX,e.deltaY]},jR=function(e){return e&&"current"in e?e.current:e},e$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},r$=0,Bo=[];function n$(e){var t=I.useRef([]),r=I.useRef([0,0]),n=I.useRef(),i=I.useState(r$++)[0],o=I.useState(Uz)[0],l=I.useRef(e);I.useEffect(function(){l.current=e},[e]),I.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var C=w5([e.lockRef.current],(e.shards||[]).map(jR),!0).filter(Boolean);return C.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=I.useCallback(function(C,w){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var R=fm(C),b=r.current,N="deltaX"in C?C.deltaX:b[0]-R[0],T="deltaY"in C?C.deltaY:b[1]-R[1],A,k=C.target,M=Math.abs(N)>Math.abs(T)?"h":"v";if("touches"in C&&M==="h"&&k.type==="range")return!1;var z=BR(M,k);if(!z)return!0;if(z?A=M:(A=M==="v"?"h":"v",z=BR(M,k)),!z)return!1;if(!n.current&&"changedTouches"in C&&(N||T)&&(n.current=A),!A)return!0;var V=n.current||A;return Z5(V,w,C,V==="h"?N:T)},[]),u=I.useCallback(function(C){var w=C;if(!(!Bo.length||Bo[Bo.length-1]!==o)){var R="deltaY"in w?LR(w):fm(w),b=t.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&e$(A.delta,R)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var N=(l.current.shards||[]).map(jR).filter(Boolean).filter(function(A){return A.contains(w.target)}),T=N.length>0?a(w,N[0]):!l.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),d=I.useCallback(function(C,w,R,b){var N={name:C,delta:w,target:R,should:b,shadowParent:i$(R)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(T){return T!==N})},1)},[]),m=I.useCallback(function(C){r.current=fm(C),n.current=void 0},[]),h=I.useCallback(function(C){d(C.type,LR(C),C.target,a(C,e.lockRef.current))},[]),g=I.useCallback(function(C){d(C.type,fm(C),C.target,a(C,e.lockRef.current))},[]);I.useEffect(function(){return Bo.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Do),document.addEventListener("touchmove",u,Do),document.addEventListener("touchstart",m,Do),function(){Bo=Bo.filter(function(C){return C!==o}),document.removeEventListener("wheel",u,Do),document.removeEventListener("touchmove",u,Do),document.removeEventListener("touchstart",m,Do)}},[]);var v=e.removeScrollBar,x=e.inert;return I.createElement(I.Fragment,null,x?I.createElement(o,{styles:t$(i)}):null,v?I.createElement(V5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function i$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const s$=M5(Hz,n$);var wS=I.forwardRef(function(e,t){return I.createElement(nh,vn({},e,{ref:t,sideCar:s$}))});wS.classNames=nh.classNames;var o$=[" ","Enter","ArrowUp","ArrowDown"],a$=[" ","Enter"],Ws="Select",[ih,sh,c$]=N6(Ws),[Na,WK]=Wd(Ws,[c$,Ez]),oh=Ez(),[l$,Ui]=Na(Ws),[u$,d$]=Na(Ws),Kz=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:o,value:l,defaultValue:a,onValueChange:u,dir:d,name:m,autoComplete:h,disabled:g,required:v,form:x}=e,C=oh(t),[w,R]=I.useState(null),[b,N]=I.useState(null),[T,A]=I.useState(!1),k=T6(d),[M,z]=Lm({prop:n,defaultProp:i??!1,onChange:o,caller:Ws}),[V,K]=Lm({prop:l,defaultProp:a,onChange:u,caller:Ws}),ue=I.useRef(null),we=w?x||!!w.closest("form"):!0,[H,ie]=I.useState(new Set),oe=Array.from(H).map(fe=>fe.props.value).join(";");return y.jsx(d5,{...C,children:y.jsxs(l$,{required:v,scope:t,trigger:w,onTriggerChange:R,valueNode:b,onValueNodeChange:N,valueNodeHasChildren:T,onValueNodeHasChildrenChange:A,contentId:Vo(),value:V,onValueChange:K,open:M,onOpenChange:z,dir:k,triggerPointerDownPosRef:ue,disabled:g,children:[y.jsx(ih.Provider,{scope:t,children:y.jsx(u$,{scope:e.__scopeSelect,onNativeOptionAdd:I.useCallback(fe=>{ie(ae=>new Set(ae).add(fe))},[]),onNativeOptionRemove:I.useCallback(fe=>{ie(ae=>{const L=new Set(ae);return L.delete(fe),L})},[]),children:r})}),we?y.jsxs(fM,{"aria-hidden":!0,required:v,tabIndex:-1,name:m,autoComplete:h,value:V,onChange:fe=>K(fe.target.value),disabled:g,form:x,children:[V===void 0?y.jsx("option",{value:""}):null,Array.from(H)]},oe):null]})})};Kz.displayName=Ws;var Gz="SelectTrigger",Jz=I.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,o=oh(r),l=Ui(Gz,r),a=l.disabled||n,u=ut(t,l.onTriggerChange),d=sh(r),m=I.useRef("touch"),[h,g,v]=vM(C=>{const w=d().filter(N=>!N.disabled),R=w.find(N=>N.value===l.value),b=yM(w,C,R);b!==void 0&&l.onValueChange(b.value)}),x=C=>{a||(l.onOpenChange(!0),v()),C&&(l.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return y.jsx(p5,{asChild:!0,...o,children:y.jsx(it.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":gM(l.value)?"":void 0,...i,ref:u,onClick:Et(i.onClick,C=>{C.currentTarget.focus(),m.current!=="mouse"&&x(C)}),onPointerDown:Et(i.onPointerDown,C=>{m.current=C.pointerType;const w=C.target;w.hasPointerCapture(C.pointerId)&&w.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(x(C),C.preventDefault())}),onKeyDown:Et(i.onKeyDown,C=>{const w=h.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&g(C.key),!(w&&C.key===" ")&&o$.includes(C.key)&&(x(),C.preventDefault())})})})});Jz.displayName=Gz;var Qz="SelectValue",Xz=I.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:l="",...a}=e,u=Ui(Qz,r),{onValueNodeHasChildrenChange:d}=u,m=o!==void 0,h=ut(t,u.onValueNodeChange);return tr(()=>{d(m)},[d,m]),y.jsx(it.span,{...a,ref:h,style:{pointerEvents:"none"},children:gM(u.value)?y.jsx(y.Fragment,{children:l}):o})});Xz.displayName=Qz;var p$="SelectIcon",Yz=I.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return y.jsx(it.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});Yz.displayName=p$;var m$="SelectPortal",Zz=e=>y.jsx(RS,{asChild:!0,...e});Zz.displayName=m$;var Vs="SelectContent",eM=I.forwardRef((e,t)=>{const r=Ui(Vs,e.__scopeSelect),[n,i]=I.useState();if(tr(()=>{i(new DocumentFragment)},[]),!r.open){const o=n;return o?$d.createPortal(y.jsx(tM,{scope:e.__scopeSelect,children:y.jsx(ih.Slot,{scope:e.__scopeSelect,children:y.jsx("div",{children:e.children})})}),o):null}return y.jsx(rM,{...e,ref:t})});eM.displayName=Vs;var Yr=10,[tM,$i]=Na(Vs),h$="SelectContentImpl",f$=Jo("SelectContent.RemoveScroll"),rM=I.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:a,sideOffset:u,align:d,alignOffset:m,arrowPadding:h,collisionBoundary:g,collisionPadding:v,sticky:x,hideWhenDetached:C,avoidCollisions:w,...R}=e,b=Ui(Vs,r),[N,T]=I.useState(null),[A,k]=I.useState(null),M=ut(t,X=>T(X)),[z,V]=I.useState(null),[K,ue]=I.useState(null),we=sh(r),[H,ie]=I.useState(!1),oe=I.useRef(!1);I.useEffect(()=>{if(N)return jz(N)},[N]),B6();const fe=I.useCallback(X=>{const[Ne,...Ae]=we().map(Je=>Je.ref.current),[De]=Ae.slice(-1),He=document.activeElement;for(const Je of X)if(Je===He||(Je?.scrollIntoView({block:"nearest"}),Je===Ne&&A&&(A.scrollTop=0),Je===De&&A&&(A.scrollTop=A.scrollHeight),Je?.focus(),document.activeElement!==He))return},[we,A]),ae=I.useCallback(()=>fe([z,N]),[fe,z,N]);I.useEffect(()=>{H&&ae()},[H,ae]);const{onOpenChange:L,triggerPointerDownPosRef:ee}=b;I.useEffect(()=>{if(N){let X={x:0,y:0};const Ne=De=>{X={x:Math.abs(Math.round(De.pageX)-(ee.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(ee.current?.y??0))}},Ae=De=>{X.x<=10&&X.y<=10?De.preventDefault():N.contains(De.target)||L(!1),document.removeEventListener("pointermove",Ne),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[N,L,ee]),I.useEffect(()=>{const X=()=>L(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[L]);const[G,D]=vM(X=>{const Ne=we().filter(He=>!He.disabled),Ae=Ne.find(He=>He.ref.current===document.activeElement),De=yM(Ne,X,Ae);De&&setTimeout(()=>De.ref.current.focus())}),$=I.useCallback((X,Ne,Ae)=>{const De=!oe.current&&!Ae;(b.value!==void 0&&b.value===Ne||De)&&(V(X),De&&(oe.current=!0))},[b.value]),ge=I.useCallback(()=>N?.focus(),[N]),Ce=I.useCallback((X,Ne,Ae)=>{const De=!oe.current&&!Ae;(b.value!==void 0&&b.value===Ne||De)&&ue(X)},[b.value]),ke=n==="popper"?my:nM,Oe=ke===my?{side:a,sideOffset:u,align:d,alignOffset:m,arrowPadding:h,collisionBoundary:g,collisionPadding:v,sticky:x,hideWhenDetached:C,avoidCollisions:w}:{};return y.jsx(tM,{scope:r,content:N,viewport:A,onViewportChange:k,itemRefCallback:$,selectedItem:z,onItemLeave:ge,itemTextRefCallback:Ce,focusSelectedItem:ae,selectedItemText:K,position:n,isPositioned:H,searchRef:G,children:y.jsx(wS,{as:f$,allowPinchZoom:!0,children:y.jsx(mS,{asChild:!0,trapped:b.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:Et(i,X=>{b.trigger?.focus({preventScroll:!0}),X.preventDefault()}),children:y.jsx(uz,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:y.jsx(ke,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:X=>X.preventDefault(),...R,...Oe,onPlaced:()=>ie(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Et(R.onKeyDown,X=>{const Ne=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!Ne&&X.key.length===1&&D(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let De=we().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(X.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const He=X.target,Je=De.indexOf(He);De=De.slice(Je+1)}setTimeout(()=>fe(De)),X.preventDefault()}})})})})})})});rM.displayName=h$;var g$="SelectItemAlignedPosition",nM=I.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,o=Ui(Vs,r),l=$i(Vs,r),[a,u]=I.useState(null),[d,m]=I.useState(null),h=ut(t,M=>m(M)),g=sh(r),v=I.useRef(!1),x=I.useRef(!0),{viewport:C,selectedItem:w,selectedItemText:R,focusSelectedItem:b}=l,N=I.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&d&&C&&w&&R){const M=o.trigger.getBoundingClientRect(),z=d.getBoundingClientRect(),V=o.valueNode.getBoundingClientRect(),K=R.getBoundingClientRect();if(o.dir!=="rtl"){const He=K.left-z.left,Je=V.left-He,wt=M.left-Je,nr=M.width+wt,an=Math.max(nr,z.width),jr=window.innerWidth-Yr,cr=vR(Je,[Yr,Math.max(Yr,jr-an)]);a.style.minWidth=nr+"px",a.style.left=cr+"px"}else{const He=z.right-K.right,Je=window.innerWidth-V.right-He,wt=window.innerWidth-M.right-Je,nr=M.width+wt,an=Math.max(nr,z.width),jr=window.innerWidth-Yr,cr=vR(Je,[Yr,Math.max(Yr,jr-an)]);a.style.minWidth=nr+"px",a.style.right=cr+"px"}const ue=g(),we=window.innerHeight-Yr*2,H=C.scrollHeight,ie=window.getComputedStyle(d),oe=parseInt(ie.borderTopWidth,10),fe=parseInt(ie.paddingTop,10),ae=parseInt(ie.borderBottomWidth,10),L=parseInt(ie.paddingBottom,10),ee=oe+fe+H+L+ae,G=Math.min(w.offsetHeight*5,ee),D=window.getComputedStyle(C),$=parseInt(D.paddingTop,10),ge=parseInt(D.paddingBottom,10),Ce=M.top+M.height/2-Yr,ke=we-Ce,Oe=w.offsetHeight/2,X=w.offsetTop+Oe,Ne=oe+fe+X,Ae=ee-Ne;if(Ne<=Ce){const He=ue.length>0&&w===ue[ue.length-1].ref.current;a.style.bottom="0px";const Je=d.clientHeight-C.offsetTop-C.offsetHeight,wt=Math.max(ke,Oe+(He?ge:0)+Je+ae),nr=Ne+wt;a.style.height=nr+"px"}else{const He=ue.length>0&&w===ue[0].ref.current;a.style.top="0px";const wt=Math.max(Ce,oe+C.offsetTop+(He?$:0)+Oe)+Ae;a.style.height=wt+"px",C.scrollTop=Ne-Ce+C.offsetTop}a.style.margin=`${Yr}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=we+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,o.trigger,o.valueNode,a,d,C,w,R,o.dir,n]);tr(()=>N(),[N]);const[T,A]=I.useState();tr(()=>{d&&A(window.getComputedStyle(d).zIndex)},[d]);const k=I.useCallback(M=>{M&&x.current===!0&&(N(),b?.(),x.current=!1)},[N,b]);return y.jsx(y$,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:y.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:y.jsx(it.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});nM.displayName=g$;var v$="SelectPopperPosition",my=I.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Yr,...o}=e,l=oh(r);return y.jsx(m5,{...l,...o,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});my.displayName=v$;var[y$,bS]=Na(Vs,{}),hy="SelectViewport",iM=I.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,o=$i(hy,r),l=bS(hy,r),a=ut(t,o.onViewportChange),u=I.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),y.jsx(ih.Slot,{scope:r,children:y.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Et(i.onScroll,d=>{const m=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=l;if(g?.current&&h){const v=Math.abs(u.current-m.scrollTop);if(v>0){const x=window.innerHeight-Yr*2,C=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),R=Math.max(C,w);if(R<x){const b=R+v,N=Math.min(x,b),T=b-N;h.style.height=N+"px",h.style.bottom==="0px"&&(m.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});iM.displayName=hy;var sM="SelectGroup",[S$,C$]=Na(sM),x$=I.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Vo();return y.jsx(S$,{scope:r,id:i,children:y.jsx(it.div,{role:"group","aria-labelledby":i,...n,ref:t})})});x$.displayName=sM;var oM="SelectLabel",P$=I.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=C$(oM,r);return y.jsx(it.div,{id:i.id,...n,ref:t})});P$.displayName=oM;var jm="SelectItem",[R$,aM]=Na(jm),cM=I.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...l}=e,a=Ui(jm,r),u=$i(jm,r),d=a.value===n,[m,h]=I.useState(o??""),[g,v]=I.useState(!1),x=ut(t,b=>u.itemRefCallback?.(b,n,i)),C=Vo(),w=I.useRef("touch"),R=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(R$,{scope:r,value:n,disabled:i,textId:C,isSelected:d,onItemTextChange:I.useCallback(b=>{h(N=>N||(b?.textContent??"").trim())},[]),children:y.jsx(ih.ItemSlot,{scope:r,value:n,disabled:i,textValue:m,children:y.jsx(it.div,{role:"option","aria-labelledby":C,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:x,onFocus:Et(l.onFocus,()=>v(!0)),onBlur:Et(l.onBlur,()=>v(!1)),onClick:Et(l.onClick,()=>{w.current!=="mouse"&&R()}),onPointerUp:Et(l.onPointerUp,()=>{w.current==="mouse"&&R()}),onPointerDown:Et(l.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:Et(l.onPointerMove,b=>{w.current=b.pointerType,i?u.onItemLeave?.():w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Et(l.onPointerLeave,b=>{b.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Et(l.onKeyDown,b=>{u.searchRef?.current!==""&&b.key===" "||(a$.includes(b.key)&&R(),b.key===" "&&b.preventDefault())})})})})});cM.displayName=jm;var Sd="SelectItemText",lM=I.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...o}=e,l=Ui(Sd,r),a=$i(Sd,r),u=aM(Sd,r),d=d$(Sd,r),[m,h]=I.useState(null),g=ut(t,R=>h(R),u.onItemTextChange,R=>a.itemTextRefCallback?.(R,u.value,u.disabled)),v=m?.textContent,x=I.useMemo(()=>y.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:C,onNativeOptionRemove:w}=d;return tr(()=>(C(x),()=>w(x)),[C,w,x]),y.jsxs(y.Fragment,{children:[y.jsx(it.span,{id:u.textId,...o,ref:g}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?$d.createPortal(o.children,l.valueNode):null]})});lM.displayName=Sd;var uM="SelectItemIndicator",dM=I.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return aM(uM,r).isSelected?y.jsx(it.span,{"aria-hidden":!0,...n,ref:t}):null});dM.displayName=uM;var fy="SelectScrollUpButton",pM=I.forwardRef((e,t)=>{const r=$i(fy,e.__scopeSelect),n=bS(fy,e.__scopeSelect),[i,o]=I.useState(!1),l=ut(t,n.onScrollButtonChange);return tr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=u.scrollTop>0;o(d)};const u=r.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?y.jsx(hM,{...e,ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=r;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});pM.displayName=fy;var gy="SelectScrollDownButton",mM=I.forwardRef((e,t)=>{const r=$i(gy,e.__scopeSelect),n=bS(gy,e.__scopeSelect),[i,o]=I.useState(!1),l=ut(t,n.onScrollButtonChange);return tr(()=>{if(r.viewport&&r.isPositioned){let a=function(){const d=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<d;o(m)};const u=r.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?y.jsx(hM,{...e,ref:l,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=r;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});mM.displayName=gy;var hM=I.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,o=$i("SelectScrollButton",r),l=I.useRef(null),a=sh(r),u=I.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return I.useEffect(()=>()=>u(),[u]),tr(()=>{a().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),y.jsx(it.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Et(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Et(i.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Et(i.onPointerLeave,()=>{u()})})}),w$="SelectSeparator",b$=I.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return y.jsx(it.div,{"aria-hidden":!0,...n,ref:t})});b$.displayName=w$;var vy="SelectArrow",N$=I.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=oh(r),o=Ui(vy,r),l=$i(vy,r);return o.open&&l.position==="popper"?y.jsx(h5,{...i,...n,ref:t}):null});N$.displayName=vy;var E$="SelectBubbleInput",fM=I.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=I.useRef(null),o=ut(n,i),l=Dz(t);return I.useEffect(()=>{const a=i.current;if(!a)return;const u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==t&&m){const h=new Event("change",{bubbles:!0});m.call(a,t),a.dispatchEvent(h)}},[l,t]),y.jsx(it.select,{...r,style:{...Bz,...r.style},ref:o,defaultValue:t})});fM.displayName=E$;function gM(e){return e===""||e===void 0}function vM(e){const t=Xn(e),r=I.useRef(""),n=I.useRef(0),i=I.useCallback(l=>{const a=r.current+l;t(a),(function u(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(a)},[t]),o=I.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function yM(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let l=T$(e,Math.max(o,0));i.length===1&&(l=l.filter(d=>d!==r));const u=l.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function T$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var I$=Kz,A$=Jz,_$=Xz,z$=Yz,M$=Zz,k$=eM,O$=iM,D$=cM,B$=lM,L$=dM,j$=pM,q$=mM;function qR({...e}){return y.jsx(I$,{"data-slot":"select",...e})}function FR({...e}){return y.jsx(_$,{"data-slot":"select-value",...e})}function HR({className:e,size:t="default",children:r,...n}){return y.jsxs(A$,{"data-slot":"select-trigger","data-size":t,className:Rt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,y.jsx(z$,{asChild:!0,children:y.jsx(Hm,{className:"size-4 opacity-50"})})]})}function UR({className:e,children:t,position:r="popper",...n}){return y.jsx(M$,{children:y.jsxs(k$,{"data-slot":"select-content",className:Rt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[y.jsx(F$,{}),y.jsx(O$,{className:Rt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),y.jsx(H$,{})]})})}function bi({className:e,children:t,...r}){return y.jsxs(D$,{"data-slot":"select-item",className:Rt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(L$,{children:y.jsx(KB,{className:"size-4"})})}),y.jsx(B$,{children:t})]})}function F$({className:e,...t}){return y.jsx(j$,{"data-slot":"select-scroll-up-button",className:Rt("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(_y,{className:"size-4"})})}function H$({className:e,...t}){return y.jsx(q$,{"data-slot":"select-scroll-down-button",className:Rt("flex cursor-default items-center justify-center py-1",e),...t,children:y.jsx(Hm,{className:"size-4"})})}function $R({onNavigate:e}){const[t,r]=I.useState(""),[n,i]=I.useState("all"),[o,l]=I.useState("date-desc"),[a,u]=I.useState([]);I.useEffect(()=>{oz(),(async()=>{try{const C=(await Mm()).map(w=>({id:w.id,title:w.title,date:w.date,time:w.startTime,duration:w.duration,type:w.type==="other"?"lecture":w.type,summary:w.summary||"No summary available",questionsCount:w.questionsCount,wordsCount:w.wordsCount}));u(C)}catch(x){console.error("Failed to load sessions:",x),u([])}})()},[]);const d=async v=>{if(window.confirm("Are you sure you want to delete this session?"))try{if(await sz(v)){const w=(await Mm()).map(R=>({id:R.id,title:R.title,date:R.date,time:R.startTime,duration:R.duration,type:R.type==="other"?"lecture":R.type,summary:R.summary||"No summary available",questionsCount:R.questionsCount,wordsCount:R.wordsCount}));u(w)}}catch(x){console.error("Failed to delete session:",x),alert("Failed to delete session. Please try again.")}},m=a.filter(v=>{const x=v.title.toLowerCase().includes(t.toLowerCase())||v.summary.toLowerCase().includes(t.toLowerCase()),C=n==="all"||v.type===n;return x&&C}).sort((v,x)=>{switch(o){case"date-desc":return new Date(x.date).getTime()-new Date(v.date).getTime();case"date-asc":return new Date(v.date).getTime()-new Date(x.date).getTime();case"duration-desc":return parseInt(x.duration)-parseInt(v.duration);case"title-asc":return v.title.localeCompare(x.title);default:return 0}}),h=v=>{switch(v){case"lecture":return"🎓";case"meeting":return"🏢";case"interview":return"🎤";default:return"📄"}},g=v=>{switch(v){case"lecture":return"bg-blue-500";case"meeting":return"bg-green-500";case"interview":return"bg-purple-500";default:return"bg-gray-500"}};return y.jsxs("div",{className:"min-h-screen bg-[#0F172A]",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-blue-500/20 via-blue-400/10 to-transparent blur-xl -z-10"}),y.jsxs("header",{className:"flex items-center justify-between px-8 py-6 mx-6 mt-0 bg-gradient-to-br from-[#1E293B]/90 via-[#334155]/80 to-[#475569]/70 backdrop-blur-xl border border-[#475569]/50 rounded-b-3xl shadow-2xl shadow-blue-500/20 sticky top-0 z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(qe,{variant:"ghost",size:"sm",onClick:()=>e("dashboard"),className:"text-[#F8FAFC] hover:text-[#F8FAFC] hover:bg-[#334155]",children:[y.jsx(xd,{className:"w-4 h-4 mr-2"}),"Back"]}),y.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("dashboard"),children:y.jsx("img",{src:"/src/assets/Logo.svg",alt:"Choom.AI",className:"h-16 w-auto hover:opacity-80 transition-opacity duration-200",title:"Go to Home"})}),y.jsxs("div",{className:"ml-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-[#F8FAFC]",children:"Past Sessions"}),y.jsx("p",{className:"text-[#94A3B8] text-sm",children:"View and manage your transcription history"})]})]}),y.jsxs(qe,{onClick:()=>e("live"),size:"lg",className:"bg-gradient-to-r from-[#6366F1] to-[#8B5CF6] hover:from-[#5B5CF6] hover:to-[#7C3AED] text-white shadow-lg hover:shadow-xl transition-all duration-200 font-semibold px-6 py-3",children:[y.jsx(Or,{className:"w-5 h-5 mr-2"}),"Start New Session"]})]})]}),y.jsx("div",{className:"mt-6 mx-6",children:y.jsx("div",{className:"bg-gradient-to-r from-[#334155]/60 via-[#475569]/50 to-[#334155]/60 backdrop-blur-sm rounded-2xl border border-[#64748B]/30 shadow-lg p-6",children:y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-6xl mx-auto",children:[y.jsxs("div",{className:"relative flex-1",children:[y.jsx(Gv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#94A3B8] w-4 h-4"}),y.jsx(ay,{placeholder:"Search sessions...",value:t,onChange:v=>r(v.target.value),className:"pl-10 bg-[#0F172A] border-[#334155] text-[#F8FAFC] placeholder-[#94A3B8]"})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs(qR,{value:n,onValueChange:i,children:[y.jsxs(HR,{className:"w-[140px] bg-[#0F172A] border-[#334155] text-[#F8FAFC]",children:[y.jsx(nL,{className:"w-4 h-4 mr-2"}),y.jsx(FR,{})]}),y.jsxs(UR,{className:"bg-[#1E293B] border-[#334155]",children:[y.jsx(bi,{value:"all",className:"text-[#F8FAFC] focus:bg-[#334155]",children:"All Types"}),y.jsx(bi,{value:"lecture",className:"text-[#F8FAFC] focus:bg-[#334155]",children:"🎓 Lectures"}),y.jsx(bi,{value:"meeting",className:"text-[#F8FAFC] focus:bg-[#334155]",children:"🏢 Meetings"}),y.jsx(bi,{value:"interview",className:"text-[#F8FAFC] focus:bg-[#334155]",children:"🎤 Interviews"})]})]}),y.jsxs(qR,{value:o,onValueChange:l,children:[y.jsx(HR,{className:"w-[160px] bg-[#0F172A] border-[#334155] text-[#F8FAFC]",children:y.jsx(FR,{})}),y.jsxs(UR,{className:"bg-[#1E293B] border-[#334155]",children:[y.jsx(bi,{value:"date-desc",className:"text-[#F8FAFC] focus:bg-[#334155]",children:"Newest First"}),y.jsx(bi,{value:"date-asc",className:"text-[#F8FAFC] focus:bg-[#334155]",children:"Oldest First"}),y.jsx(bi,{value:"duration-desc",className:"text-[#F8FAFC] focus:bg-[#334155]",children:"Longest First"}),y.jsx(bi,{value:"title-asc",className:"text-[#F8FAFC] focus:bg-[#334155]",children:"Title A-Z"})]})]})]})]})})}),y.jsxs("div",{className:"mx-6 mt-4 px-4 py-2 text-sm text-[#94A3B8] bg-[#1E293B]/30 rounded-lg",children:["Showing ",m.length," of ",a.length," sessions"]}),y.jsx("main",{className:"p-6 max-w-6xl mx-auto",children:y.jsxs("div",{className:"space-y-4",children:[m.map(v=>y.jsxs(_i,{className:"bg-[#1E293B] border-[#334155] hover:bg-[#334155] transition-colors",children:[y.jsx(IT,{className:"pb-3",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsxs(yn,{className:`${g(v.type)} text-white text-xs`,children:[h(v.type)," ",v.type]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#94A3B8]",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(_T,{className:"w-4 h-4"}),y.jsxs("span",{children:[v.date," at ",v.time]})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Td,{className:"w-4 h-4"}),y.jsx("span",{children:v.duration})]})]})]}),y.jsx("h3",{className:"font-semibold text-[#F8FAFC] mb-2",children:v.title}),y.jsx("p",{className:"text-[#94A3B8] text-sm line-clamp-2",children:v.summary})]})})}),y.jsx(zi,{children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex gap-6 text-sm text-[#94A3B8]",children:[y.jsxs("span",{children:[v.questionsCount," questions"]}),y.jsxs("span",{children:[v.wordsCount.toLocaleString()," words"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(qe,{size:"sm",variant:"ghost",className:"text-[#94A3B8] hover:text-[#F8FAFC] hover:bg-[#334155]",children:y.jsx(qs,{className:"w-4 h-4"})}),y.jsx(qe,{size:"sm",variant:"ghost",className:"text-red-400 hover:text-red-300 hover:bg-[#334155]",onClick:()=>d(v.id),children:y.jsx(zT,{className:"w-4 h-4"})}),y.jsxs(qe,{size:"sm",onClick:()=>e("session-detail",v.id),className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white",children:[y.jsx(uL,{className:"w-4 h-4 mr-1"}),"View"]})]})]})})]},v.id)),m.length===0&&y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-[#334155] rounded-full flex items-center justify-center",children:y.jsx(Gv,{className:"w-8 h-8 text-[#94A3B8]"})}),y.jsx("h3",{className:"text-[#F8FAFC] font-medium mb-2",children:"No sessions found"}),y.jsx("p",{className:"text-[#94A3B8]",children:"Try adjusting your search or filters"})]})]})})]})}const Uo={azure:{speech:{key:"icapjK1GgFOPjjIx4afJeA7Khpxy0GYjK27n5av8zy8uBSZXYauIJQQJ99BHACYeBjFXJ3w3AAAYACOGYviy",region:"eastus"},openai:{apiKey:"EiJn5T0OxykR5DpORDbaClOqpRMDYYkcNRdw9teqdKr5ZpG0nI3wJQQJ99BHACHYHv6XJ3w3AAAAACOGQruB",endpoint:"https://noah-medu5nq4-eastus2.cognitiveservices.azure.com"}}};var hs={},fs={},pc={},gs={},yt={},Ng={},vs={},Eg={},mc={},gm={},WR;function SM(){if(WR)return gm;WR=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.default=r;let e;const t=new Uint8Array(16);function r(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return gm}var Lo={},hc={},fc={},VR;function U$(){if(VR)return fc;VR=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return fc.default=e,fc}var KR;function ah(){if(KR)return hc;KR=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.default=void 0;var e=t(U$());function t(i){return i&&i.__esModule?i:{default:i}}function r(i){return typeof i=="string"&&e.default.test(i)}var n=r;return hc.default=n,hc}var GR;function ch(){if(GR)return Lo;GR=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.default=void 0,Lo.unsafeStringify=n;var e=t(ah());function t(l){return l&&l.__esModule?l:{default:l}}const r=[];for(let l=0;l<256;++l)r.push((l+256).toString(16).slice(1));function n(l,a=0){return r[l[a+0]]+r[l[a+1]]+r[l[a+2]]+r[l[a+3]]+"-"+r[l[a+4]]+r[l[a+5]]+"-"+r[l[a+6]]+r[l[a+7]]+"-"+r[l[a+8]]+r[l[a+9]]+"-"+r[l[a+10]]+r[l[a+11]]+r[l[a+12]]+r[l[a+13]]+r[l[a+14]]+r[l[a+15]]}function i(l,a=0){const u=n(l,a);if(!(0,e.default)(u))throw TypeError("Stringified UUID is invalid");return u}var o=i;return Lo.default=o,Lo}var JR;function $$(){if(JR)return mc;JR=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.default=void 0;var e=r(SM()),t=ch();function r(d){return d&&d.__esModule?d:{default:d}}let n,i,o=0,l=0;function a(d,m,h){let g=m&&h||0;const v=m||new Array(16);d=d||{};let x=d.node||n,C=d.clockseq!==void 0?d.clockseq:i;if(x==null||C==null){const A=d.random||(d.rng||e.default)();x==null&&(x=n=[A[0]|1,A[1],A[2],A[3],A[4],A[5]]),C==null&&(C=i=(A[6]<<8|A[7])&16383)}let w=d.msecs!==void 0?d.msecs:Date.now(),R=d.nsecs!==void 0?d.nsecs:l+1;const b=w-o+(R-l)/1e4;if(b<0&&d.clockseq===void 0&&(C=C+1&16383),(b<0||w>o)&&d.nsecs===void 0&&(R=0),R>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=w,l=R,i=C,w+=122192928e5;const N=((w&268435455)*1e4+R)%4294967296;v[g++]=N>>>24&255,v[g++]=N>>>16&255,v[g++]=N>>>8&255,v[g++]=N&255;const T=w/4294967296*1e4&268435455;v[g++]=T>>>8&255,v[g++]=T&255,v[g++]=T>>>24&15|16,v[g++]=T>>>16&255,v[g++]=C>>>8|128,v[g++]=C&255;for(let A=0;A<6;++A)v[g+A]=x[A];return m||(0,t.unsafeStringify)(v)}var u=a;return mc.default=u,mc}var gc={},Ni={},vc={},QR;function CM(){if(QR)return vc;QR=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.default=void 0;var e=t(ah());function t(i){return i&&i.__esModule?i:{default:i}}function r(i){if(!(0,e.default)(i))throw TypeError("Invalid UUID");let o;const l=new Uint8Array(16);return l[0]=(o=parseInt(i.slice(0,8),16))>>>24,l[1]=o>>>16&255,l[2]=o>>>8&255,l[3]=o&255,l[4]=(o=parseInt(i.slice(9,13),16))>>>8,l[5]=o&255,l[6]=(o=parseInt(i.slice(14,18),16))>>>8,l[7]=o&255,l[8]=(o=parseInt(i.slice(19,23),16))>>>8,l[9]=o&255,l[10]=(o=parseInt(i.slice(24,36),16))/1099511627776&255,l[11]=o/4294967296&255,l[12]=o>>>24&255,l[13]=o>>>16&255,l[14]=o>>>8&255,l[15]=o&255,l}var n=r;return vc.default=n,vc}var XR;function xM(){if(XR)return Ni;XR=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.URL=Ni.DNS=void 0,Ni.default=l;var e=ch(),t=r(CM());function r(a){return a&&a.__esModule?a:{default:a}}function n(a){a=unescape(encodeURIComponent(a));const u=[];for(let d=0;d<a.length;++d)u.push(a.charCodeAt(d));return u}const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ni.DNS=i;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ni.URL=o;function l(a,u,d){function m(h,g,v,x){var C;if(typeof h=="string"&&(h=n(h)),typeof g=="string"&&(g=(0,t.default)(g)),((C=g)===null||C===void 0?void 0:C.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let w=new Uint8Array(16+h.length);if(w.set(g),w.set(h,g.length),w=d(w),w[6]=w[6]&15|u,w[8]=w[8]&63|128,v){x=x||0;for(let R=0;R<16;++R)v[x+R]=w[R];return v}return(0,e.unsafeStringify)(w)}try{m.name=a}catch{}return m.DNS=i,m.URL=o,m}return Ni}var yc={},YR;function W$(){if(YR)return yc;YR=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.default=void 0;function e(v){if(typeof v=="string"){const x=unescape(encodeURIComponent(v));v=new Uint8Array(x.length);for(let C=0;C<x.length;++C)v[C]=x.charCodeAt(C)}return t(n(i(v),v.length*8))}function t(v){const x=[],C=v.length*32,w="0123456789abcdef";for(let R=0;R<C;R+=8){const b=v[R>>5]>>>R%32&255,N=parseInt(w.charAt(b>>>4&15)+w.charAt(b&15),16);x.push(N)}return x}function r(v){return(v+64>>>9<<4)+14+1}function n(v,x){v[x>>5]|=128<<x%32,v[r(x)-1]=x;let C=1732584193,w=-271733879,R=-1732584194,b=271733878;for(let N=0;N<v.length;N+=16){const T=C,A=w,k=R,M=b;C=u(C,w,R,b,v[N],7,-680876936),b=u(b,C,w,R,v[N+1],12,-389564586),R=u(R,b,C,w,v[N+2],17,606105819),w=u(w,R,b,C,v[N+3],22,-1044525330),C=u(C,w,R,b,v[N+4],7,-176418897),b=u(b,C,w,R,v[N+5],12,1200080426),R=u(R,b,C,w,v[N+6],17,-1473231341),w=u(w,R,b,C,v[N+7],22,-45705983),C=u(C,w,R,b,v[N+8],7,1770035416),b=u(b,C,w,R,v[N+9],12,-1958414417),R=u(R,b,C,w,v[N+10],17,-42063),w=u(w,R,b,C,v[N+11],22,-1990404162),C=u(C,w,R,b,v[N+12],7,1804603682),b=u(b,C,w,R,v[N+13],12,-40341101),R=u(R,b,C,w,v[N+14],17,-1502002290),w=u(w,R,b,C,v[N+15],22,1236535329),C=d(C,w,R,b,v[N+1],5,-165796510),b=d(b,C,w,R,v[N+6],9,-1069501632),R=d(R,b,C,w,v[N+11],14,643717713),w=d(w,R,b,C,v[N],20,-373897302),C=d(C,w,R,b,v[N+5],5,-701558691),b=d(b,C,w,R,v[N+10],9,38016083),R=d(R,b,C,w,v[N+15],14,-660478335),w=d(w,R,b,C,v[N+4],20,-405537848),C=d(C,w,R,b,v[N+9],5,568446438),b=d(b,C,w,R,v[N+14],9,-1019803690),R=d(R,b,C,w,v[N+3],14,-187363961),w=d(w,R,b,C,v[N+8],20,1163531501),C=d(C,w,R,b,v[N+13],5,-1444681467),b=d(b,C,w,R,v[N+2],9,-51403784),R=d(R,b,C,w,v[N+7],14,1735328473),w=d(w,R,b,C,v[N+12],20,-1926607734),C=m(C,w,R,b,v[N+5],4,-378558),b=m(b,C,w,R,v[N+8],11,-2022574463),R=m(R,b,C,w,v[N+11],16,1839030562),w=m(w,R,b,C,v[N+14],23,-35309556),C=m(C,w,R,b,v[N+1],4,-1530992060),b=m(b,C,w,R,v[N+4],11,1272893353),R=m(R,b,C,w,v[N+7],16,-155497632),w=m(w,R,b,C,v[N+10],23,-1094730640),C=m(C,w,R,b,v[N+13],4,681279174),b=m(b,C,w,R,v[N],11,-358537222),R=m(R,b,C,w,v[N+3],16,-722521979),w=m(w,R,b,C,v[N+6],23,76029189),C=m(C,w,R,b,v[N+9],4,-640364487),b=m(b,C,w,R,v[N+12],11,-421815835),R=m(R,b,C,w,v[N+15],16,530742520),w=m(w,R,b,C,v[N+2],23,-995338651),C=h(C,w,R,b,v[N],6,-198630844),b=h(b,C,w,R,v[N+7],10,1126891415),R=h(R,b,C,w,v[N+14],15,-1416354905),w=h(w,R,b,C,v[N+5],21,-57434055),C=h(C,w,R,b,v[N+12],6,1700485571),b=h(b,C,w,R,v[N+3],10,-1894986606),R=h(R,b,C,w,v[N+10],15,-1051523),w=h(w,R,b,C,v[N+1],21,-2054922799),C=h(C,w,R,b,v[N+8],6,1873313359),b=h(b,C,w,R,v[N+15],10,-30611744),R=h(R,b,C,w,v[N+6],15,-1560198380),w=h(w,R,b,C,v[N+13],21,1309151649),C=h(C,w,R,b,v[N+4],6,-145523070),b=h(b,C,w,R,v[N+11],10,-1120210379),R=h(R,b,C,w,v[N+2],15,718787259),w=h(w,R,b,C,v[N+9],21,-343485551),C=o(C,T),w=o(w,A),R=o(R,k),b=o(b,M)}return[C,w,R,b]}function i(v){if(v.length===0)return[];const x=v.length*8,C=new Uint32Array(r(x));for(let w=0;w<x;w+=8)C[w>>5]|=(v[w/8]&255)<<w%32;return C}function o(v,x){const C=(v&65535)+(x&65535);return(v>>16)+(x>>16)+(C>>16)<<16|C&65535}function l(v,x){return v<<x|v>>>32-x}function a(v,x,C,w,R,b){return o(l(o(o(x,v),o(w,b)),R),C)}function u(v,x,C,w,R,b,N){return a(x&C|~x&w,v,x,R,b,N)}function d(v,x,C,w,R,b,N){return a(x&w|C&~w,v,x,R,b,N)}function m(v,x,C,w,R,b,N){return a(x^C^w,v,x,R,b,N)}function h(v,x,C,w,R,b,N){return a(C^(x|~w),v,x,R,b,N)}var g=e;return yc.default=g,yc}var ZR;function V$(){if(ZR)return gc;ZR=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.default=void 0;var e=r(xM()),t=r(W$());function r(o){return o&&o.__esModule?o:{default:o}}var i=(0,e.default)("v3",48,t.default);return gc.default=i,gc}var Sc={},Cc={},ew;function K$(){if(ew)return Cc;ew=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return Cc.default=t,Cc}var tw;function G$(){if(tw)return Sc;tw=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.default=void 0;var e=n(K$()),t=n(SM()),r=ch();function n(l){return l&&l.__esModule?l:{default:l}}function i(l,a,u){if(e.default.randomUUID&&!a&&!l)return e.default.randomUUID();l=l||{};const d=l.random||(l.rng||t.default)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,a){u=u||0;for(let m=0;m<16;++m)a[u+m]=d[m];return a}return(0,r.unsafeStringify)(d)}var o=i;return Sc.default=o,Sc}var xc={},Pc={},rw;function J$(){if(rw)return Pc;rw=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.default=void 0;function e(i,o,l,a){switch(i){case 0:return o&l^~o&a;case 1:return o^l^a;case 2:return o&l^o&a^l&a;case 3:return o^l^a}}function t(i,o){return i<<o|i>>>32-o}function r(i){const o=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof i=="string"){const m=unescape(encodeURIComponent(i));i=[];for(let h=0;h<m.length;++h)i.push(m.charCodeAt(h))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const a=i.length/4+2,u=Math.ceil(a/16),d=new Array(u);for(let m=0;m<u;++m){const h=new Uint32Array(16);for(let g=0;g<16;++g)h[g]=i[m*64+g*4]<<24|i[m*64+g*4+1]<<16|i[m*64+g*4+2]<<8|i[m*64+g*4+3];d[m]=h}d[u-1][14]=(i.length-1)*8/Math.pow(2,32),d[u-1][14]=Math.floor(d[u-1][14]),d[u-1][15]=(i.length-1)*8&4294967295;for(let m=0;m<u;++m){const h=new Uint32Array(80);for(let R=0;R<16;++R)h[R]=d[m][R];for(let R=16;R<80;++R)h[R]=t(h[R-3]^h[R-8]^h[R-14]^h[R-16],1);let g=l[0],v=l[1],x=l[2],C=l[3],w=l[4];for(let R=0;R<80;++R){const b=Math.floor(R/20),N=t(g,5)+e(b,v,x,C)+w+o[b]+h[R]>>>0;w=C,C=x,x=t(v,30)>>>0,v=g,g=N}l[0]=l[0]+g>>>0,l[1]=l[1]+v>>>0,l[2]=l[2]+x>>>0,l[3]=l[3]+C>>>0,l[4]=l[4]+w>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,l[0]&255,l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,l[1]&255,l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,l[2]&255,l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,l[3]&255,l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,l[4]&255]}var n=r;return Pc.default=n,Pc}var nw;function Q$(){if(nw)return xc;nw=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.default=void 0;var e=r(xM()),t=r(J$());function r(o){return o&&o.__esModule?o:{default:o}}var i=(0,e.default)("v5",80,t.default);return xc.default=i,xc}var Rc={},iw;function X$(){if(iw)return Rc;iw=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.default=void 0;var e="00000000-0000-0000-0000-000000000000";return Rc.default=e,Rc}var wc={},sw;function Y$(){if(sw)return wc;sw=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.default=void 0;var e=t(ah());function t(i){return i&&i.__esModule?i:{default:i}}function r(i){if(!(0,e.default)(i))throw TypeError("Invalid UUID");return parseInt(i.slice(14,15),16)}var n=r;return wc.default=n,wc}var ow;function Z$(){return ow||(ow=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return l.default}});var t=m($$()),r=m(V$()),n=m(G$()),i=m(Q$()),o=m(X$()),l=m(Y$()),a=m(ah()),u=m(ch()),d=m(CM());function m(h){return h&&h.__esModule?h:{default:h}}})(Eg)),Eg}var aw;function ro(){if(aw)return vs;aw=1,Object.defineProperty(vs,"__esModule",{value:!0}),vs.createNoDashGuid=vs.createGuid=void 0;const e=Z$(),t=()=>(0,e.v4)();vs.createGuid=t;const r=()=>t().replace(new RegExp("-","g"),"").toUpperCase();return vs.createNoDashGuid=r,vs}var cw;function Kd(){return cw||(cw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformEvent=e.EventType=void 0;const t=ro();(function(n){n[n.Debug=0]="Debug",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.None=4]="None"})(e.EventType||(e.EventType={}));class r{constructor(i,o){this.privName=i,this.privEventId=(0,t.createNoDashGuid)(),this.privEventTime=new Date().toISOString(),this.privEventType=o,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}e.PlatformEvent=r})(Ng)),Ng}var lw;function e8(){if(lw)return yt;lw=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.AudioStreamNodeErrorEvent=yt.AudioStreamNodeDetachedEvent=yt.AudioStreamNodeAttachedEvent=yt.AudioStreamNodeAttachingEvent=yt.AudioStreamNodeEvent=yt.AudioSourceErrorEvent=yt.AudioSourceOffEvent=yt.AudioSourceReadyEvent=yt.AudioSourceInitializingEvent=yt.AudioSourceEvent=void 0;const e=Kd();class t extends e.PlatformEvent{constructor(g,v,x=e.EventType.Info){super(g,x),this.privAudioSourceId=v}get audioSourceId(){return this.privAudioSourceId}}yt.AudioSourceEvent=t;class r extends t{constructor(g){super("AudioSourceInitializingEvent",g)}}yt.AudioSourceInitializingEvent=r;class n extends t{constructor(g){super("AudioSourceReadyEvent",g)}}yt.AudioSourceReadyEvent=n;class i extends t{constructor(g){super("AudioSourceOffEvent",g)}}yt.AudioSourceOffEvent=i;class o extends t{constructor(g,v){super("AudioSourceErrorEvent",g,e.EventType.Error),this.privError=v}get error(){return this.privError}}yt.AudioSourceErrorEvent=o;class l extends t{constructor(g,v,x){super(g,v),this.privAudioNodeId=x}get audioNodeId(){return this.privAudioNodeId}}yt.AudioStreamNodeEvent=l;class a extends l{constructor(g,v){super("AudioStreamNodeAttachingEvent",g,v)}}yt.AudioStreamNodeAttachingEvent=a;class u extends l{constructor(g,v){super("AudioStreamNodeAttachedEvent",g,v)}}yt.AudioStreamNodeAttachedEvent=u;class d extends l{constructor(g,v){super("AudioStreamNodeDetachedEvent",g,v)}}yt.AudioStreamNodeDetachedEvent=d;class m extends l{constructor(g,v,x){super("AudioStreamNodeErrorEvent",g,v),this.privError=x}get error(){return this.privError}}return yt.AudioStreamNodeErrorEvent=m,yt}var St={},uw;function t8(){if(uw)return St;uw=1,Object.defineProperty(St,"__esModule",{value:!0}),St.ConnectionRedirectEvent=St.ConnectionMessageSentEvent=St.ConnectionMessageReceivedEvent=St.ConnectionEstablishErrorEvent=St.ConnectionErrorEvent=St.ConnectionClosedEvent=St.ConnectionEstablishedEvent=St.ConnectionStartEvent=St.ConnectionEvent=St.ServiceEvent=void 0;const e=Kd();class t extends e.PlatformEvent{constructor(g,v,x=e.EventType.Info){super(g,x),this.privJsonResult=v}get jsonString(){return this.privJsonResult}}St.ServiceEvent=t;class r extends e.PlatformEvent{constructor(g,v,x=e.EventType.Info){super(g,x),this.privConnectionId=v}get connectionId(){return this.privConnectionId}}St.ConnectionEvent=r;class n extends r{constructor(g,v,x){super("ConnectionStartEvent",g),this.privUri=v,this.privHeaders=x}get uri(){return this.privUri}get headers(){return this.privHeaders}}St.ConnectionStartEvent=n;class i extends r{constructor(g){super("ConnectionEstablishedEvent",g)}}St.ConnectionEstablishedEvent=i;class o extends r{constructor(g,v,x){super("ConnectionClosedEvent",g,e.EventType.Debug),this.privReason=x,this.privStatusCode=v}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}St.ConnectionClosedEvent=o;class l extends r{constructor(g,v,x){super("ConnectionErrorEvent",g,e.EventType.Debug),this.privMessage=v,this.privType=x}get message(){return this.privMessage}get type(){return this.privType}}St.ConnectionErrorEvent=l;class a extends r{constructor(g,v,x){super("ConnectionEstablishErrorEvent",g,e.EventType.Error),this.privStatusCode=v,this.privReason=x}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}St.ConnectionEstablishErrorEvent=a;class u extends r{constructor(g,v,x){super("ConnectionMessageReceivedEvent",g),this.privNetworkReceivedTime=v,this.privMessage=x}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}}St.ConnectionMessageReceivedEvent=u;class d extends r{constructor(g,v,x){super("ConnectionMessageSentEvent",g),this.privNetworkSentTime=v,this.privMessage=x}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}St.ConnectionMessageSentEvent=d;class m extends r{constructor(g,v,x,C){super("ConnectionRedirectEvent",g,e.EventType.Info),this.privRedirectUrl=v,this.privOriginalUrl=x,this.privContext=C}get redirectUrl(){return this.privRedirectUrl}get originalUrl(){return this.privOriginalUrl}get context(){return this.privContext}}return St.ConnectionRedirectEvent=m,St}var Tg={},Un={},dw;function Tn(){if(dw)return Un;dw=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.ObjectDisposedError=Un.InvalidOperationError=Un.ArgumentNullError=void 0;class e extends Error{constructor(i){super(i),this.name="ArgumentNull",this.message=i}}Un.ArgumentNullError=e;class t extends Error{constructor(i){super(i),this.name="InvalidOperation",this.message=i}}Un.InvalidOperationError=t;class r extends Error{constructor(i,o){super(o),this.name=i+"ObjectDisposed",this.message=o}}return Un.ObjectDisposedError=r,Un}var pw;function PM(){return pw||(pw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionMessage=e.MessageType=void 0;const t=Tn(),r=ro();var n;(function(o){o[o.Text=0]="Text",o[o.Binary=1]="Binary"})(n=e.MessageType||(e.MessageType={}));class i{constructor(l,a,u,d){if(this.privBody=null,l===n.Text&&a&&typeof a!="string")throw new t.InvalidOperationError("Payload must be a string");if(l===n.Binary&&a&&!(a instanceof ArrayBuffer))throw new t.InvalidOperationError("Payload must be ArrayBuffer");switch(this.privMessageType=l,this.privBody=a,this.privHeaders=u||{},this.privId=d||(0,r.createNoDashGuid)(),this.messageType){case n.Binary:this.privSize=this.binaryBody!==null?this.binaryBody.byteLength:0;break;case n.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===n.Binary)throw new t.InvalidOperationError("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===n.Text)throw new t.InvalidOperationError("Not supported for text message");return this.privBody}get id(){return this.privId}}e.ConnectionMessage=i})(Tg)),Tg}var bc={},mw;function r8(){if(mw)return bc;mw=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.ConnectionOpenResponse=void 0;let e=class{constructor(r,n){this.privStatusCode=r,this.privReason=n}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}};return bc.ConnectionOpenResponse=e,bc}var Nc={},hw;function n8(){if(hw)return Nc;hw=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.DeferralMap=void 0;let e=class{constructor(){this.privMap={}}add(r,n){this.privMap[r]=n}getId(r){return this.privMap[r]}complete(r,n){try{this.privMap[r].resolve(n)}catch(i){this.privMap[r].reject(i)}finally{this.privMap[r]=void 0}}};return Nc.DeferralMap=e,Nc}var ys={},fw;function RM(){if(fw)return ys;fw=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.SendingAgentContextMessageEvent=ys.DialogEvent=void 0;const e=Kd();class t extends e.PlatformEvent{constructor(i,o=e.EventType.Info){super(i,o)}}ys.DialogEvent=t;class r extends t{constructor(i){super("SendingAgentContextMessageEvent"),this.privAgentConfig=i}get agentConfig(){return this.privAgentConfig}}return ys.SendingAgentContextMessageEvent=r,ys}var Ec={},Tc={},gw;function wM(){if(gw)return Tc;gw=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.EventSource=void 0;const e=Tn(),t=ro();let r=class{constructor(i){this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=i}onEvent(i){if(this.isDisposed())throw new e.ObjectDisposedError("EventSource");if(this.metadata)for(const o in this.metadata)o&&i.metadata&&(i.metadata[o]||(i.metadata[o]=this.metadata[o]));for(const o in this.privEventListeners)o&&this.privEventListeners[o]&&this.privEventListeners[o](i)}attach(i){const o=(0,t.createNoDashGuid)();return this.privEventListeners[o]=i,{detach:()=>(delete this.privEventListeners[o],Promise.resolve())}}attachListener(i){return this.attach(o=>i.onEvent(o))}attachConsoleListener(i){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach(o=>i.onEvent(o)),this.privConsoleListener}isDisposed(){return this.privIsDisposed}dispose(){this.privEventListeners=null,this.privIsDisposed=!0}get metadata(){return this.privMetadata}};return Tc.EventSource=r,Tc}var vw;function i8(){if(vw)return Ec;vw=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.Events=void 0;const e=Tn(),t=wM();let r=class yy{static setEventSource(i){if(!i)throw new e.ArgumentNullError("eventSource");yy.privInstance=i}static get instance(){return yy.privInstance}};return Ec.Events=r,r.privInstance=new t.EventSource,Ec}var Ig={},yw;function s8(){return yw||(yw=1,Object.defineProperty(Ig,"__esModule",{value:!0})),Ig}var Ag={},Sw;function o8(){return Sw||(Sw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionState=void 0,(function(t){t[t.None=0]="None",t[t.Connected=1]="Connected",t[t.Connecting=2]="Connecting",t[t.Disconnected=3]="Disconnected"})(e.ConnectionState||(e.ConnectionState={}))})(Ag)),Ag}var _g={},Cw;function a8(){return Cw||(Cw=1,Object.defineProperty(_g,"__esModule",{value:!0})),_g}var zg={},xw;function c8(){return xw||(xw=1,Object.defineProperty(zg,"__esModule",{value:!0})),zg}var Mg={},Pw;function l8(){return Pw||(Pw=1,Object.defineProperty(Mg,"__esModule",{value:!0})),Mg}var kg={},Rw;function u8(){return Rw||(Rw=1,Object.defineProperty(kg,"__esModule",{value:!0})),kg}var Og={},ww;function d8(){return ww||(ww=1,Object.defineProperty(Og,"__esModule",{value:!0})),Og}var Dg={},bw;function p8(){return bw||(bw=1,Object.defineProperty(Dg,"__esModule",{value:!0})),Dg}var Bg={},Nw;function m8(){return Nw||(Nw=1,Object.defineProperty(Bg,"__esModule",{value:!0})),Bg}var Lg={},Ew;function h8(){return Ew||(Ew=1,Object.defineProperty(Lg,"__esModule",{value:!0})),Lg}var Ic={},Tw;function bM(){if(Tw)return Ic;Tw=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.List=void 0;const e=Tn();let t=class Ls{constructor(n){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],n)for(const i of n)this.privList.push(i)}get(n){return this.throwIfDisposed(),this.privList[n]}first(){return this.get(0)}last(){return this.get(this.length()-1)}add(n){this.throwIfDisposed(),this.insertAt(this.privList.length,n)}insertAt(n,i){this.throwIfDisposed(),n===0?this.privList.unshift(i):n===this.privList.length?this.privList.push(i):this.privList.splice(n,0,i),this.triggerSubscriptions(this.privAddSubscriptions)}removeFirst(){return this.throwIfDisposed(),this.removeAt(0)}removeLast(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}removeAt(n){return this.throwIfDisposed(),this.remove(n,1)[0]}remove(n,i){this.throwIfDisposed();const o=this.privList.splice(n,i);return this.triggerSubscriptions(this.privRemoveSubscriptions),o}clear(){this.throwIfDisposed(),this.remove(0,this.length())}length(){return this.throwIfDisposed(),this.privList.length}onAdded(n){this.throwIfDisposed();const i=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[i]=n,{detach:()=>(delete this.privAddSubscriptions[i],Promise.resolve())}}onRemoved(n){this.throwIfDisposed();const i=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[i]=n,{detach:()=>(delete this.privRemoveSubscriptions[i],Promise.resolve())}}onDisposed(n){this.throwIfDisposed();const i=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[i]=n,{detach:()=>(delete this.privDisposedSubscriptions[i],Promise.resolve())}}join(n){return this.throwIfDisposed(),this.privList.join(n)}toArray(){const n=Array();return this.privList.forEach(i=>{n.push(i)}),n}any(n){return this.throwIfDisposed(),n?this.where(n).length()>0:this.length()>0}all(n){return this.throwIfDisposed(),this.where(n).length()===this.length()}forEach(n){this.throwIfDisposed();for(let i=0;i<this.length();i++)n(this.privList[i],i)}select(n){this.throwIfDisposed();const i=[];for(let o=0;o<this.privList.length;o++)i.push(n(this.privList[o],o));return new Ls(i)}where(n){this.throwIfDisposed();const i=new Ls;for(let o=0;o<this.privList.length;o++)n(this.privList[o],o)&&i.add(this.privList[o]);return i}orderBy(n){this.throwIfDisposed();const o=this.toArray().sort(n);return new Ls(o)}orderByDesc(n){return this.throwIfDisposed(),this.orderBy((i,o)=>n(o,i))}clone(){return this.throwIfDisposed(),new Ls(this.toArray())}concat(n){return this.throwIfDisposed(),new Ls(this.privList.concat(n.toArray()))}concatArray(n){return this.throwIfDisposed(),new Ls(this.privList.concat(n))}isDisposed(){return this.privList==null}dispose(n){this.isDisposed()||(this.privDisposeReason=n,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}throwIfDisposed(){if(this.isDisposed())throw new e.ObjectDisposedError("List",this.privDisposeReason)}triggerSubscriptions(n){if(n)for(const i in n)i&&n[i]()}};return Ic.List=t,Ic}var jg={},Iw;function NM(){return Iw||(Iw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.marshalPromiseToCallbacks=e.Sink=e.Deferred=e.PromiseResultEventSource=e.PromiseResult=e.PromiseState=void 0;var t;(function(a){a[a.None=0]="None",a[a.Resolved=1]="Resolved",a[a.Rejected=2]="Rejected"})(t=e.PromiseState||(e.PromiseState={}));class r{constructor(u){this.throwIfError=()=>{if(this.isError)throw this.error},u.on(d=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!1,this.privResult=d)},d=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!0,this.privError=d)})}get isCompleted(){return this.privIsCompleted}get isError(){return this.privIsError}get error(){return this.privError}get result(){return this.privResult}}e.PromiseResult=r;class n{constructor(){this.setResult=u=>{this.privOnSetResult(u)},this.setError=u=>{this.privOnSetError(u)},this.on=(u,d)=>{this.privOnSetResult=u,this.privOnSetError=d}}}e.PromiseResultEventSource=n;class i{constructor(){this.resolve=u=>(this.privResolve(u),this),this.reject=u=>(this.privReject(u),this),this.privPromise=new Promise((u,d)=>{this.privResolve=u,this.privReject=d})}get promise(){return this.privPromise}}e.Deferred=i;class o{constructor(){this.privState=t.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.privPromiseResultEvents=new n,this.privPromiseResult=new r(this.privPromiseResultEvents)}get state(){return this.privState}get result(){return this.privPromiseResult}resolve(u){if(this.privState!==t.None)throw new Error("'Cannot resolve a completed promise'");this.privState=t.Resolved,this.privPromiseResultEvents.setResult(u);for(let d=0;d<this.privSuccessHandlers.length;d++)this.executeSuccessCallback(u,this.privSuccessHandlers[d],this.privErrorHandlers[d]);this.detachHandlers()}reject(u){if(this.privState!==t.None)throw new Error("'Cannot reject a completed promise'");this.privState=t.Rejected,this.privPromiseResultEvents.setError(u);for(const d of this.privErrorHandlers)this.executeErrorCallback(u,d);this.detachHandlers()}on(u,d){u==null&&(u=()=>{}),this.privState===t.None?(this.privSuccessHandlers.push(u),this.privErrorHandlers.push(d)):(this.privState===t.Resolved?this.executeSuccessCallback(this.privPromiseResult.result,u,d):this.privState===t.Rejected&&this.executeErrorCallback(this.privPromiseResult.error,d),this.detachHandlers())}executeSuccessCallback(u,d,m){try{d(u)}catch(h){this.executeErrorCallback(`'Unhandled callback error: ${h}'`,m)}}executeErrorCallback(u,d){if(d)try{d(u)}catch(m){throw new Error(`'Unhandled callback error: ${m}. InnerError: ${u}'`)}else throw new Error(`'Unhandled error: ${u}'`)}detachHandlers(){this.privErrorHandlers=[],this.privSuccessHandlers=[]}}e.Sink=o;function l(a,u,d){a.then(m=>{try{u&&u(m)}catch(h){if(d)try{if(h instanceof Error){const g=h;d(g.name+": "+g.message)}else d(h)}catch{}}},m=>{if(d)try{if(m instanceof Error){const h=m;d(h.name+": "+h.message)}else d(m)}catch{}})}e.marshalPromiseToCallbacks=l})(jg)),jg}var Ac={},Aw;function EM(){if(Aw)return Ac;Aw=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.Queue=void 0;const e=Tn(),t=bM(),r=NM();var n;(function(o){o[o.Dequeue=0]="Dequeue",o[o.Peek=1]="Peek"})(n||(n={}));let i=class{constructor(l){this.privPromiseStore=new t.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=l||new t.List,this.privDetachables=[],this.privSubscribers=new t.List,this.privDetachables.push(this.privList.onAdded(()=>this.drain()))}enqueue(l){this.throwIfDispose(),this.enqueueFromPromise(new Promise(a=>a(l)))}enqueueFromPromise(l){this.throwIfDispose(),l.then(a=>{this.privList.add(a)},()=>{})}dequeue(){this.throwIfDispose();const l=new r.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:l,type:n.Dequeue}),this.drain()),l.promise}peek(){this.throwIfDispose();const l=new r.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:l,type:n.Peek}),this.drain()),l.promise}length(){return this.throwIfDispose(),this.privList.length()}isDisposed(){return this.privSubscribers==null}async drainAndDispose(l,a){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=a,this.privIsDisposing=!0;const u=this.privSubscribers;if(u){for(;u.length()>0;)u.removeFirst().deferral.resolve(void 0);this.privSubscribers===u&&(this.privSubscribers=u)}for(const d of this.privDetachables)await d.detach();if(this.privPromiseStore.length()>0&&l){const d=[];return this.privPromiseStore.toArray().forEach(m=>{d.push(m)}),Promise.all(d).finally(()=>{this.privSubscribers=null,this.privList.forEach(m=>{l(m)}),this.privList=null}).then()}else this.privSubscribers=null,this.privList=null}}async dispose(l){await this.drainAndDispose(null,l)}drain(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const l=this.privSubscribers,a=this.privList;if(l&&a){for(;a.length()>0&&l.length()>0&&!this.privIsDisposing;){const u=l.removeFirst();if(u.type===n.Peek)u.deferral.resolve(a.first());else{const d=a.removeFirst();u.deferral.resolve(d)}}this.privSubscribers===l&&(this.privSubscribers=l),this.privList===a&&(this.privList=a)}this.privIsDrainInProgress=!1}}throwIfDispose(){if(this.isDisposed())throw this.privDisposeReason?new e.InvalidOperationError(this.privDisposeReason):new e.ObjectDisposedError("Queue");if(this.privIsDisposing)throw new e.InvalidOperationError("Queue disposing")}};return Ac.Queue=i,Ac}var _c={},_w;function f8(){if(_w)return _c;_w=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.RawWebsocketMessage=void 0;const e=PM(),t=Tn(),r=ro();let n=class{constructor(o,l,a){if(this.privPayload=null,!l)throw new t.ArgumentNullError("payload");if(o===e.MessageType.Binary&&Object.getPrototypeOf(l).constructor.name!=="ArrayBuffer")throw new t.InvalidOperationError("Payload must be ArrayBuffer");if(o===e.MessageType.Text&&typeof l!="string")throw new t.InvalidOperationError("Payload must be a string");this.privMessageType=o,this.privPayload=l,this.privId=a||(0,r.createNoDashGuid)()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===e.MessageType.Binary)throw new t.InvalidOperationError("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===e.MessageType.Text)throw new t.InvalidOperationError("Not supported for text message");return this.privPayload}get id(){return this.privId}};return _c.RawWebsocketMessage=n,_c}var zc={},zw;function g8(){if(zw)return zc;zw=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.RiffPcmEncoder=void 0;let e=class{constructor(r,n){this.privActualSampleRate=r,this.privDesiredSampleRate=n}encode(r){const n=this.downSampleAudioFrame(r,this.privActualSampleRate,this.privDesiredSampleRate);if(!n)return null;const i=n.length*2,o=new ArrayBuffer(i),l=new DataView(o);return this.floatTo16BitPCM(l,0,n),o}setString(r,n,i){for(let o=0;o<i.length;o++)r.setUint8(n+o,i.charCodeAt(o))}floatTo16BitPCM(r,n,i){for(let o=0;o<i.length;o++,n+=2){const l=Math.max(-1,Math.min(1,i[o]));r.setInt16(n,l<0?l*32768:l*32767,!0)}}downSampleAudioFrame(r,n,i){if(!r)return null;if(i===n||i>n)return r;const o=n/i,l=Math.round(r.length/o),a=new Float32Array(l);let u=0,d=0;for(;d<l;){const m=Math.round((d+1)*o);let h=0,g=0;for(;u<m&&u<r.length;)h+=r[u++],g++;a[d++]=h/g}return a}};return zc.RiffPcmEncoder=e,zc}var Mc={},Mw;function v8(){if(Mw)return Mc;Mw=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.Stream=void 0;const e=Tn(),t=ro(),r=EM();let n=class{constructor(o){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=o||(0,t.createNoDashGuid)(),this.privReaderQueue=new r.Queue}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(o){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(o)}catch{}}read(){if(this.privIsReadEnded)throw new e.InvalidOperationError("Stream read has already finished");return this.privReaderQueue.dequeue().then(async o=>((o===void 0||o.isEnd)&&await this.privReaderQueue.dispose("End of stream reached"),o))}readEnded(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new r.Queue)}throwIfClosed(){if(this.privIsWriteEnded)throw new e.InvalidOperationError("Stream closed")}};return Mc.Stream=n,Mc}var qg={},kw;function NS(){return kw||(kw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TranslationStatus=void 0,(function(t){t[t.Success=0]="Success",t[t.Error=1]="Error"})(e.TranslationStatus||(e.TranslationStatus={}))})(qg)),qg}var kc={},Ow;function y8(){if(Ow)return kc;Ow=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.ChunkedArrayBufferStream=void 0;const e=_e();let t=class extends e.Stream{constructor(n,i){super(i),this.privTargetChunkSize=Math.round(n),this.privNextBufferReadyBytes=0}writeStreamChunk(n){if(n.isEnd||this.privNextBufferReadyBytes===0&&n.buffer.byteLength===this.privTargetChunkSize){super.writeStreamChunk(n);return}let i=0;for(;i<n.buffer.byteLength;){this.privNextBufferToWrite===void 0&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=n.timeReceived);const o=Math.min(n.buffer.byteLength-i,this.privTargetChunkSize-this.privNextBufferReadyBytes),l=new Uint8Array(this.privNextBufferToWrite),a=new Uint8Array(n.buffer.slice(i,o+i));l.set(a,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=o,i+=o,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){this.privNextBufferReadyBytes!==0&&!this.isClosed&&super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}};return kc.ChunkedArrayBufferStream=t,kc}var Fg={},Dw;function S8(){return Dw||(Dw=1,Object.defineProperty(Fg,"__esModule",{value:!0})),Fg}var Oc={},Bw;function C8(){if(Bw)return Oc;Bw=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.Timeout=void 0;let e=class Ti{static load(){const r=new Map([[0,()=>{}]]),n=new Map,o="data:text/javascript;base64,"+btoa(`!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id "'.concat(e,'".'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error('The given method "'.concat(e.method,'" is not supported'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);`),l=new Worker(o);return l.addEventListener("message",({data:d})=>{if(Ti.isCallNotification(d)){const{params:{timerId:m}}=d,h=r.get(m);if(typeof h=="number"){const g=n.get(h);if(g===void 0||g!==m)throw new Error("The timer is in an undefined state.")}else if(typeof h<"u")h(),r.delete(m);else throw new Error("The timer is in an undefined state.")}else if(Ti.isClearResponse(d)){const{id:m}=d,h=n.get(m);if(h===void 0)throw new Error("The timer is in an undefined state.");n.delete(m),r.delete(h)}else{const{error:{message:m}}=d;throw new Error(m)}}),{clearTimeout:d=>{const m=Math.random();n.set(m,d),r.set(d,m),l.postMessage({id:m,method:"clear",params:{timerId:d}})},setTimeout:(d,m)=>{const h=Math.random();return r.set(h,d),l.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:h}}),h}}}static loadWorkerTimers(){return()=>(Ti.workerTimers!==null||(Ti.workerTimers=Ti.load()),Ti.workerTimers)}static isCallNotification(r){return r.method!==void 0&&r.method==="call"}static isClearResponse(r){return r.error===null&&typeof r.id=="number"}};return Oc.Timeout=e,e.workerTimers=null,e.clearTimeout=t=>e.timers().clearTimeout(t),e.setTimeout=(t,r)=>e.timers().setTimeout(t,r),e.timers=e.loadWorkerTimers(),Oc}var Ke={},Lw;function x8(){if(Lw)return Ke;Lw=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.OCSPCacheUpdateErrorEvent=Ke.OCSPResponseRetrievedEvent=Ke.OCSPCacheFetchErrorEvent=Ke.OCSPVerificationFailedEvent=Ke.OCSPCacheHitEvent=Ke.OCSPCacheEntryNeedsRefreshEvent=Ke.OCSPCacheEntryExpiredEvent=Ke.OCSPWSUpgradeStartedEvent=Ke.OCSPStapleReceivedEvent=Ke.OCSPCacheUpdateCompleteEvent=Ke.OCSPDiskCacheStoreEvent=Ke.OCSPMemoryCacheStoreEvent=Ke.OCSPCacheUpdateNeededEvent=Ke.OCSPDiskCacheHitEvent=Ke.OCSPCacheMissEvent=Ke.OCSPMemoryCacheHitEvent=Ke.OCSPEvent=void 0;const e=Kd();class t extends e.PlatformEvent{constructor(N,T,A){super(N,T),this.privSignature=A}}Ke.OCSPEvent=t;class r extends t{constructor(N){super("OCSPMemoryCacheHitEvent",e.EventType.Debug,N)}}Ke.OCSPMemoryCacheHitEvent=r;class n extends t{constructor(N){super("OCSPCacheMissEvent",e.EventType.Debug,N)}}Ke.OCSPCacheMissEvent=n;class i extends t{constructor(N){super("OCSPDiskCacheHitEvent",e.EventType.Debug,N)}}Ke.OCSPDiskCacheHitEvent=i;class o extends t{constructor(N){super("OCSPCacheUpdateNeededEvent",e.EventType.Debug,N)}}Ke.OCSPCacheUpdateNeededEvent=o;class l extends t{constructor(N){super("OCSPMemoryCacheStoreEvent",e.EventType.Debug,N)}}Ke.OCSPMemoryCacheStoreEvent=l;class a extends t{constructor(N){super("OCSPDiskCacheStoreEvent",e.EventType.Debug,N)}}Ke.OCSPDiskCacheStoreEvent=a;class u extends t{constructor(N){super("OCSPCacheUpdateCompleteEvent",e.EventType.Debug,N)}}Ke.OCSPCacheUpdateCompleteEvent=u;class d extends t{constructor(){super("OCSPStapleReceivedEvent",e.EventType.Debug,"")}}Ke.OCSPStapleReceivedEvent=d;class m extends t{constructor(N){super("OCSPWSUpgradeStartedEvent",e.EventType.Debug,N)}}Ke.OCSPWSUpgradeStartedEvent=m;class h extends t{constructor(N,T){super("OCSPCacheEntryExpiredEvent",e.EventType.Debug,N),this.privExpireTime=T}}Ke.OCSPCacheEntryExpiredEvent=h;class g extends t{constructor(N,T,A){super("OCSPCacheEntryNeedsRefreshEvent",e.EventType.Debug,N),this.privExpireTime=A,this.privStartTime=T}}Ke.OCSPCacheEntryNeedsRefreshEvent=g;class v extends t{constructor(N,T,A){super("OCSPCacheHitEvent",e.EventType.Debug,N),this.privExpireTime=A,this.privExpireTimeString=new Date(A).toLocaleDateString(),this.privStartTime=T,this.privStartTimeString=new Date(T).toLocaleTimeString()}}Ke.OCSPCacheHitEvent=v;class x extends t{constructor(N,T){super("OCSPVerificationFailedEvent",e.EventType.Debug,N),this.privError=T}}Ke.OCSPVerificationFailedEvent=x;class C extends t{constructor(N,T){super("OCSPCacheFetchErrorEvent",e.EventType.Debug,N),this.privError=T}}Ke.OCSPCacheFetchErrorEvent=C;class w extends t{constructor(N){super("OCSPResponseRetrievedEvent",e.EventType.Debug,N)}}Ke.OCSPResponseRetrievedEvent=w;class R extends t{constructor(N,T){super("OCSPCacheUpdateErrorEvent",e.EventType.Debug,N),this.privError=T}}return Ke.OCSPCacheUpdateErrorEvent=R,Ke}var Dc={},jw;function P8(){if(jw)return Dc;jw=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.BackgroundEvent=void 0;const e=_e();class t extends e.PlatformEvent{constructor(n){super("BackgroundEvent",e.EventType.Error),this.privError=n}get error(){return this.privError}}return Dc.BackgroundEvent=t,Dc}var qw;function _e(){return qw||(qw=1,(function(e){var t=gs&&gs.__createBinding||(Object.create?(function(i,o,l,a){a===void 0&&(a=l),Object.defineProperty(i,a,{enumerable:!0,get:function(){return o[l]}})}):(function(i,o,l,a){a===void 0&&(a=l),i[a]=o[l]})),r=gs&&gs.__exportStar||function(i,o){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&t(o,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.TranslationStatus=void 0,r(e8(),e),r(t8(),e),r(PM(),e),r(r8(),e),r(n8(),e),r(RM(),e),r(Tn(),e),r(i8(),e),r(wM(),e),r(ro(),e),r(s8(),e),r(o8(),e),r(a8(),e),r(c8(),e),r(l8(),e),r(u8(),e),r(d8(),e),r(p8(),e),r(m8(),e),r(h8(),e),r(bM(),e),r(Kd(),e),r(NM(),e),r(EM(),e),r(f8(),e),r(g8(),e),r(v8(),e);var n=NS();Object.defineProperty(e,"TranslationStatus",{enumerable:!0,get:function(){return n.TranslationStatus}}),r(y8(),e),r(S8(),e),r(C8(),e),r(x8(),e),r(P8(),e)})(gs)),gs}var Bc={},Fw;function ar(){if(Fw)return Bc;Fw=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.HeaderNames=void 0;let e=class{};return Bc.HeaderNames=e,e.AuthKey="Ocp-Apim-Subscription-Key",e.Authorization="Authorization",e.SpIDAuthKey="Apim-Subscription-Id",e.ConnectionId="X-ConnectionId",e.ContentType="Content-Type",e.CustomCommandsAppId="X-CommandsAppId",e.Path="Path",e.RequestId="X-RequestId",e.RequestStreamId="X-StreamId",e.RequestTimestamp="X-Timestamp",Bc}var Lc={},Hw;function ES(){if(Hw)return Lc;Hw=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.AuthInfo=void 0;class e{constructor(r,n){this.privHeaderName=r,this.privToken=n}get headerName(){return this.privHeaderName}get token(){return this.privToken}}return Lc.AuthInfo=e,Lc}var Uw;function R8(){if(Uw)return pc;Uw=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.CognitiveSubscriptionKeyAuthentication=void 0;const e=_e(),t=ar(),r=ES();let n=class{constructor(o){if(!o)throw new e.ArgumentNullError("subscriptionKey");this.privAuthInfo=new r.AuthInfo(t.HeaderNames.AuthKey,o)}fetch(o){return Promise.resolve(this.privAuthInfo)}fetchOnExpiry(o){return Promise.resolve(this.privAuthInfo)}};return pc.CognitiveSubscriptionKeyAuthentication=n,pc}var jc={},$w;function w8(){if($w)return jc;$w=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.CognitiveTokenAuthentication=void 0;const e=_e(),t=ES(),r=ar();let n=class Sy{constructor(o,l){if(!o)throw new e.ArgumentNullError("fetchCallback");if(!l)throw new e.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=o,this.privFetchOnExpiryCallback=l}fetch(o){return this.privFetchCallback(o).then(l=>new t.AuthInfo(r.HeaderNames.Authorization,l===void 0?void 0:Sy.privTokenPrefix+l))}fetchOnExpiry(o){return this.privFetchOnExpiryCallback(o).then(l=>new t.AuthInfo(r.HeaderNames.Authorization,l===void 0?void 0:Sy.privTokenPrefix+l))}};return jc.CognitiveTokenAuthentication=n,n.privTokenPrefix="Bearer ",jc}var Hg={},Ww;function b8(){return Ww||(Ww=1,Object.defineProperty(Hg,"__esModule",{value:!0})),Hg}var Ug={},Vw;function N8(){return Vw||(Vw=1,Object.defineProperty(Ug,"__esModule",{value:!0})),Ug}var qc={},Ss={},Jr={};const E8={},T8=Object.freeze(Object.defineProperty({__proto__:null,default:E8},Symbol.toStringTag,{value:"Module"})),js=jD(T8);var $g={},Kw;function TM(){return Kw||(Kw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0;const t=_e();Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return t.EventType}})})($g)),$g}var Fc={},Gw;function je(){if(Gw)return Fc;Gw=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.Contracts=void 0;let e=class Ii{static throwIfNullOrUndefined(r,n){if(r==null)throw new Error("throwIfNullOrUndefined:"+n)}static throwIfNull(r,n){if(r===null)throw new Error("throwIfNull:"+n)}static throwIfNullOrWhitespace(r,n){if(Ii.throwIfNullOrUndefined(r,n),(""+r).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+n)}static throwIfNullOrTooLong(r,n,i){if(Ii.throwIfNullOrUndefined(r,n),(""+r).length>i)throw new Error("throwIfNullOrTooLong:"+n+" (more than "+i.toString()+" characters)")}static throwIfNullOrTooShort(r,n,i){if(Ii.throwIfNullOrUndefined(r,n),(""+r).length<i)throw new Error("throwIfNullOrTooShort:"+n+" (less than "+i.toString()+" characters)")}static throwIfDisposed(r){if(r)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(r,n){if(Ii.throwIfNullOrUndefined(r,n),r.length===0)throw new Error("throwIfArrayEmptyOrWhitespace:"+n);for(const i of r)Ii.throwIfNullOrWhitespace(i,n)}static throwIfFileDoesNotExist(r,n){Ii.throwIfNullOrWhitespace(r,n)}static throwIfNotUndefined(r,n){if(r!==void 0)throw new Error("throwIfNotUndefined:"+n)}static throwIfNumberOutOfRange(r,n,i,o){if(Ii.throwIfNullOrUndefined(r,n),r<i||r>o)throw new Error("throwIfNumberOutOfRange:"+n+" (must be between "+i.toString()+" and "+o.toString()+")")}};return Fc.Contracts=e,Fc}var Jw;function I8(){if(Jw)return Jr;Jw=1;var e=Jr&&Jr.__createBinding||(Object.create?(function(a,u,d,m){m===void 0&&(m=d),Object.defineProperty(a,m,{enumerable:!0,get:function(){return u[d]}})}):(function(a,u,d,m){m===void 0&&(m=d),a[m]=u[d]})),t=Jr&&Jr.__setModuleDefault||(Object.create?(function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}):function(a,u){a.default=u}),r=Jr&&Jr.__importStar||function(a){if(a&&a.__esModule)return a;var u={};if(a!=null)for(var d in a)d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)&&e(u,a,d);return t(u,a),u};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.ConsoleLoggingListener=void 0;const n=r(js),i=TM(),o=je();let l=class{constructor(u=i.LogLevel.None){this.privLogPath=void 0,this.privEnableConsoleOutput=!0,this.privLogLevelFilter=u}set logPath(u){o.Contracts.throwIfNullOrUndefined(n.openSync,`
File System access not available`),this.privLogPath=u}set enableConsoleOutput(u){this.privEnableConsoleOutput=u}onEvent(u){if(u.eventType>=this.privLogLevelFilter){const d=this.toString(u);if(this.logCallback&&this.logCallback(d),this.privLogPath&&n.writeFileSync(this.privLogPath,d+`
`,{flag:"a+"}),this.privEnableConsoleOutput)switch(u.eventType){case i.LogLevel.Debug:console.debug(d);break;case i.LogLevel.Info:console.info(d);break;case i.LogLevel.Warning:console.warn(d);break;case i.LogLevel.Error:console.error(d);break;default:console.log(d);break}}}toString(u){const d=[`${u.eventTime}`,`${u.name}`],m=u;for(const h in m)if(h&&u.hasOwnProperty(h)&&h!=="eventTime"&&h!=="eventType"&&h!=="eventId"&&h!=="name"&&h!=="constructor"){const g=m[h];let v="<NULL>";g!=null&&(typeof g=="number"||typeof g=="string"?v=g.toString():v=JSON.stringify(g)),d.push(`${h}: ${v}`)}return d.join(" | ")}};return Jr.ConsoleLoggingListener=l,Jr}var Wg={},Qw;function A8(){return Qw||(Qw=1,Object.defineProperty(Wg,"__esModule",{value:!0})),Wg}var Vg={},Kg={},Xw;function no(){return Xw||(Xw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AudioStreamFormatImpl=e.AudioStreamFormat=e.AudioFormatTag=void 0;var t;(function(i){i[i.PCM=1]="PCM",i[i.MuLaw=2]="MuLaw",i[i.Siren=3]="Siren",i[i.MP3=4]="MP3",i[i.SILKSkype=5]="SILKSkype",i[i.OGG_OPUS=6]="OGG_OPUS",i[i.WEBM_OPUS=7]="WEBM_OPUS",i[i.ALaw=8]="ALaw",i[i.FLAC=9]="FLAC",i[i.OPUS=10]="OPUS",i[i.AMR_WB=11]="AMR_WB",i[i.G722=12]="G722"})(t=e.AudioFormatTag||(e.AudioFormatTag={}));class r{static getDefaultInputFormat(){return n.getDefaultInputFormat()}static getWaveFormat(o,l,a,u){return new n(o,l,a,u)}static getWaveFormatPCM(o,l,a){return new n(o,l,a)}}e.AudioStreamFormat=r;class n extends r{constructor(o=16e3,l=16,a=1,u=t.PCM){super();let d=!0;switch(u){case t.PCM:this.formatTag=1;break;case t.ALaw:this.formatTag=6;break;case t.MuLaw:this.formatTag=7;break;default:d=!1}if(this.bitsPerSample=l,this.samplesPerSec=o,this.channels=a,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),d){this.privHeader=new ArrayBuffer(44);const m=new DataView(this.privHeader);this.setString(m,0,"RIFF"),m.setUint32(4,0,!0),this.setString(m,8,"WAVEfmt "),m.setUint32(16,16,!0),m.setUint16(20,this.formatTag,!0),m.setUint16(22,this.channels,!0),m.setUint32(24,this.samplesPerSec,!0),m.setUint32(28,this.avgBytesPerSec,!0),m.setUint16(32,this.channels*(this.bitsPerSample/8),!0),m.setUint16(34,this.bitsPerSample,!0),this.setString(m,36,"data"),m.setUint32(40,0,!0)}}static getDefaultInputFormat(){return new n}static getAudioContext(o){const l=window.AudioContext||window.webkitAudioContext||!1;if(l)return o!==void 0&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new l({sampleRate:o}):new l;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}setString(o,l,a){for(let u=0;u<a.length;u++)o.setUint8(l+u,a.charCodeAt(u))}}e.AudioStreamFormatImpl=n})(Kg)),Kg}var Yw;function _8(){return Yw||(Yw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MicAudioSource=e.AudioWorkletSourceURLPropertyName=void 0;const t=Se(),r=_e(),n=no();e.AudioWorkletSourceURLPropertyName="MICROPHONE-WorkletSourceUrl";class i{constructor(l,a,u,d){this.privRecorder=l,this.deviceId=a,this.privStreams={},this.privOutputChunkSize=i.AUDIOFORMAT.avgBytesPerSec/10,this.privId=u||(0,r.createNoDashGuid)(),this.privEvents=new r.EventSource,this.privMediaStream=d||null,this.privIsClosing=!1}get format(){return Promise.resolve(i.AUDIOFORMAT)}turnOn(){if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new r.Deferred;try{this.createAudioContext()}catch(u){if(u instanceof Error){const d=u;this.privInitializeDeferral.reject(d.name+": "+d.message)}else this.privInitializeDeferral.reject(u);return this.privInitializeDeferral.promise}const l=window.navigator;let a=l.getUserMedia||l.webkitGetUserMedia||l.mozGetUserMedia||l.msGetUserMedia;if(l.mediaDevices&&(a=(u,d,m)=>{l.mediaDevices.getUserMedia(u).then(d).catch(m)}),a){const u=()=>{this.onEvent(new r.AudioSourceInitializingEvent(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()):a({audio:this.deviceId?{deviceId:this.deviceId}:!0,video:!1},d=>{this.privMediaStream=d,this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()},d=>{const m=`Error occurred during microphone initialization: ${d}`;this.privInitializeDeferral.reject(m),this.onEvent(new r.AudioSourceErrorEvent(this.privId,m))})};this.privContext.state==="suspended"?this.privContext.resume().then(u).catch(d=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${d}`)}):u()}else{const u="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(u),this.onEvent(new r.AudioSourceErrorEvent(u,""))}return this.privInitializeDeferral.promise}id(){return this.privId}attach(l){return this.onEvent(new r.AudioStreamNodeAttachingEvent(this.privId,l)),this.listen(l).then(a=>(this.onEvent(new r.AudioStreamNodeAttachedEvent(this.privId,l)),{detach:async()=>(a.readEnded(),delete this.privStreams[l],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,l)),this.turnOff()),id:()=>l,read:()=>a.read()}))}detach(l){l&&this.privStreams[l]&&(this.privStreams[l].close(),delete this.privStreams[l],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,l)))}async turnOff(){for(const l in this.privStreams)if(l){const a=this.privStreams[l];a&&a.close()}this.onEvent(new r.AudioSourceOffEvent(this.privId)),this.privInitializeDeferral&&(await this.privInitializeDeferral,this.privInitializeDeferral=null),await this.destroyAudioContext()}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then(l=>({bitspersample:i.AUDIOFORMAT.bitsPerSample,channelcount:i.AUDIOFORMAT.channels,connectivity:t.connectivity.Unknown,manufacturer:"Speech SDK",model:l,samplerate:i.AUDIOFORMAT.samplesPerSec,type:t.type.Microphones}))}setProperty(l,a){if(l===e.AudioWorkletSourceURLPropertyName)this.privRecorder.setWorkletUrl(a);else throw new Error("Property '"+l+"' is not supported on Microphone.")}getMicrophoneLabel(){const l="microphone";if(this.privMicrophoneLabel!==void 0)return Promise.resolve(this.privMicrophoneLabel);if(this.privMediaStream===void 0||!this.privMediaStream.active)return Promise.resolve(l);this.privMicrophoneLabel=l;const a=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(a===void 0)return Promise.resolve(this.privMicrophoneLabel);const u=new r.Deferred;return navigator.mediaDevices.enumerateDevices().then(d=>{for(const m of d)if(m.deviceId===a){this.privMicrophoneLabel=m.label;break}u.resolve(this.privMicrophoneLabel)},()=>u.resolve(this.privMicrophoneLabel)),u.promise}async listen(l){await this.turnOn();const a=new r.ChunkedArrayBufferStream(this.privOutputChunkSize,l);this.privStreams[l]=a;try{this.privRecorder.record(this.privContext,this.privMediaStream,a)}catch(d){throw this.onEvent(new r.AudioStreamNodeErrorEvent(this.privId,l,d)),d}return a}onEvent(l){this.privEvents.onEvent(l),r.Events.instance.onEvent(l)}createAudioContext(){this.privContext||(this.privContext=n.AudioStreamFormatImpl.getAudioContext(i.AUDIOFORMAT.samplesPerSec))}async destroyAudioContext(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let l=!1;"close"in this.privContext&&(l=!0),l?this.privIsClosing||(this.privIsClosing=!0,await this.privContext.close(),this.privContext=null,this.privIsClosing=!1):this.privContext!==null&&this.privContext.state==="running"&&await this.privContext.suspend()}}e.MicAudioSource=i,i.AUDIOFORMAT=n.AudioStreamFormat.getDefaultInputFormat()})(Vg)),Vg}var Hc={},Zw;function z8(){if(Zw)return Hc;Zw=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.FileAudioSource=void 0;const e=Se(),t=_e(),r=no();let n=class{constructor(o,l,a){this.privStreams={},this.privHeaderEnd=44,this.privId=a||(0,t.createNoDashGuid)(),this.privEvents=new t.EventSource,this.privSource=o,typeof window<"u"&&typeof Blob<"u"&&this.privSource instanceof Blob?this.privFilename=o.name:this.privFilename=l||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}turnOn(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){const o=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new t.AudioSourceErrorEvent(o,"")),Promise.reject(o)}this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}id(){return this.privId}async attach(o){this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,o));const l=await this.upload(o);return this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,o)),Promise.resolve({detach:async()=>{l.readEnded(),delete this.privStreams[o],this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,o)),await this.turnOff()},id:()=>o,read:()=>l.read()})}detach(o){o&&this.privStreams[o]&&(this.privStreams[o].close(),delete this.privStreams[o],this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,o)))}turnOff(){for(const o in this.privStreams)if(o){const l=this.privStreams[o];l&&!l.isClosed&&l.close()}return this.onEvent(new t.AudioSourceOffEvent(this.privId)),Promise.resolve()}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then(o=>Promise.resolve({bitspersample:o.bitsPerSample,channelcount:o.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:o.samplesPerSec,type:e.type.File}))}readHeader(){const l=this.privSource.slice(0,4296),a=new t.Deferred,u=d=>{const m=new DataView(d),h=R=>String.fromCharCode(m.getUint8(R),m.getUint8(R+1),m.getUint8(R+2),m.getUint8(R+3));if(h(0)!=="RIFF"){a.reject("Invalid WAV header in file, RIFF was not found");return}if(h(8)!=="WAVE"||h(12)!=="fmt "){a.reject("Invalid WAV header in file, WAVEfmt was not found");return}const g=m.getInt32(16,!0),v=m.getUint16(22,!0),x=m.getUint32(24,!0),C=m.getUint16(34,!0);let w=36+Math.max(g-16,0);for(;h(w)!=="data";w+=2)if(w>4288){a.reject("Invalid WAV header in file, data block was not found");return}this.privHeaderEnd=w+8,a.resolve(r.AudioStreamFormat.getWaveFormatPCM(x,C,v))};if(typeof window<"u"&&typeof Blob<"u"&&l instanceof Blob){const d=new FileReader;d.onload=m=>{const h=m.target.result;u(h)},d.readAsArrayBuffer(l)}else{const d=l;u(d.buffer.slice(d.byteOffset,d.byteOffset+d.byteLength))}return a.promise}async upload(o){const l=a=>{const u=`Error occurred while processing '${this.privFilename}'. ${a}`;throw this.onEvent(new t.AudioStreamNodeErrorEvent(this.privId,o,u)),new Error(u)};try{await this.turnOn();const a=await this.privAudioFormatPromise,u=new t.ChunkedArrayBufferStream(a.avgBytesPerSec/10,o);this.privStreams[o]=u;const d=this.privSource.slice(this.privHeaderEnd),m=h=>{u.isClosed||(u.writeStreamChunk({buffer:h,isEnd:!1,timeReceived:Date.now()}),u.close())};if(typeof window<"u"&&typeof Blob<"u"&&d instanceof Blob){const h=new FileReader;h.onerror=g=>l(g.toString()),h.onload=g=>{const v=g.target.result;m(v)},h.readAsArrayBuffer(d)}else{const h=d;m(h.buffer.slice(h.byteOffset,h.byteOffset+h.byteLength))}return u}catch(a){l(a)}}onEvent(o){this.privEvents.onEvent(o),t.Events.instance.onEvent(o)}};return Hc.FileAudioSource=n,Hc}var Uc={},eb;function M8(){if(eb)return Uc;eb=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.PcmRecorder=void 0;const e=_e();class t{constructor(n){this.privStopInputOnRelease=n}record(n,i,o){const a=new e.RiffPcmEncoder(n.sampleRate,16e3),u=n.createMediaStreamSource(i),d=()=>{const h=(()=>{let g=0;try{return n.createScriptProcessor(g,1,1)}catch{g=2048;let x=n.sampleRate;for(;g<16384&&x>=32e3;)g<<=1,x>>=1;return n.createScriptProcessor(g,1,1)}})();h.onaudioprocess=g=>{const v=g.inputBuffer.getChannelData(0);if(o&&!o.isClosed){const x=a.encode(v);x&&o.writeStreamChunk({buffer:x,isEnd:!1,timeReceived:Date.now()})}},u.connect(h),h.connect(n.destination),this.privMediaResources={scriptProcessorNode:h,source:u,stream:i}},m=!!this.privSpeechProcessorScript&&this.privSpeechProcessorScript.toLowerCase()==="ignore";if(n.audioWorklet&&!m){if(!this.privSpeechProcessorScript){const h=`class SP extends AudioWorkletProcessor {
                    constructor(options) {
                      super(options);
                    }
                    process(inputs, outputs) {
                      const input = inputs[0];
                      const output = [];
                      for (let channel = 0; channel < input.length; channel += 1) {
                        output[channel] = input[channel];
                      }
                      this.port.postMessage(output[0]);
                      return true;
                    }
                  }
                  registerProcessor('speech-processor', SP);`,g=new Blob([h],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(g)}n.audioWorklet.addModule(this.privSpeechProcessorScript).then(()=>{const h=new AudioWorkletNode(n,"speech-processor");h.port.onmessage=g=>{const v=g.data;if(o&&!o.isClosed){const x=a.encode(v);x&&o.writeStreamChunk({buffer:x,isEnd:!1,timeReceived:Date.now()})}},u.connect(h),h.connect(n.destination),this.privMediaResources={scriptProcessorNode:h,source:u,stream:i}}).catch(()=>{d()})}else try{d()}catch(h){throw new Error(`Unable to start audio worklet node for PCMRecorder: ${h}`)}}releaseMediaResources(n){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(n.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach(i=>i.stop()),this.privMediaResources.source=null))}setWorkletUrl(n){this.privSpeechProcessorScript=n}}return Uc.PcmRecorder=t,Uc}var $c={},xr={},tb;function IM(){if(tb)return xr;tb=1;var e=xr&&xr.__createBinding||(Object.create?(function(g,v,x,C){C===void 0&&(C=x),Object.defineProperty(g,C,{enumerable:!0,get:function(){return v[x]}})}):(function(g,v,x,C){C===void 0&&(C=x),g[C]=v[x]})),t=xr&&xr.__setModuleDefault||(Object.create?(function(g,v){Object.defineProperty(g,"default",{enumerable:!0,value:v})}):function(g,v){g.default=v}),r=xr&&xr.__importStar||function(g){if(g&&g.__esModule)return g;var v={};if(g!=null)for(var x in g)x!=="default"&&Object.prototype.hasOwnProperty.call(g,x)&&e(v,g,x);return t(v,g),v},n=xr&&xr.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(xr,"__esModule",{value:!0}),xr.WebsocketMessageAdapter=void 0;const i=r(js),o=r(js),l=n(js),a=n(js),u=n(js),d=ar(),m=_e();let h=class Cy{constructor(v,x,C,w,R,b){if(!v)throw new m.ArgumentNullError("uri");if(!C)throw new m.ArgumentNullError("messageFormatter");this.proxyInfo=w,this.privConnectionEvents=new m.EventSource,this.privConnectionId=x,this.privMessageFormatter=C,this.privConnectionState=m.ConnectionState.None,this.privUri=v,this.privHeaders=R,this.privEnableCompression=b,this.privHeaders[d.HeaderNames.ConnectionId]=this.privConnectionId,this.privHeaders.connectionId=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}open(){if(this.privConnectionState===m.ConnectionState.Disconnected)return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new m.Deferred,this.privCertificateValidatedDeferral=new m.Deferred,this.privConnectionState=m.ConnectionState.Connecting;try{if(typeof WebSocket<"u"&&!Cy.forceNpmWebSocket)this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);else{let x=new URL(this.privUri).protocol;x?.toLocaleLowerCase()==="wss:"?x="https:":x?.toLocaleLowerCase()==="ws:"&&(x="http:");const C={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression,followRedirects:x.toLocaleLowerCase()==="https:"};this.privCertificateValidatedDeferral.resolve(),C.agent=this.getAgent(),C.agent.protocol=x,this.privWebsocketClient=new u.default(this.privUri,C),this.privWebsocketClient.on("redirect",w=>{const R=new m.ConnectionRedirectEvent(this.privConnectionId,w,this.privUri,`Getting redirect URL from endpoint ${this.privUri} with redirect URL '${w}'`);m.Events.instance.onEvent(R)})}this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new m.Queue,this.privDisconnectDeferral=new m.Deferred,this.privSendMessageQueue=new m.Queue,this.processSendQueue().catch(v=>{m.Events.instance.onEvent(new m.BackgroundEvent(v))})}catch(v){return this.privConnectionEstablishDeferral.resolve(new m.ConnectionOpenResponse(500,v)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new m.ConnectionStartEvent(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=()=>{this.privCertificateValidatedDeferral.promise.then(()=>{this.privConnectionState=m.ConnectionState.Connected,this.onEvent(new m.ConnectionEstablishedEvent(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new m.ConnectionOpenResponse(200,""))},v=>{this.privConnectionEstablishDeferral.reject(v)})},this.privWebsocketClient.onerror=v=>{this.onEvent(new m.ConnectionErrorEvent(this.privConnectionId,v.message,v.type)),this.privLastErrorReceived=v.message},this.privWebsocketClient.onclose=v=>{this.privConnectionState===m.ConnectionState.Connecting?(this.privConnectionState=m.ConnectionState.Disconnected,this.privConnectionEstablishDeferral.resolve(new m.ConnectionOpenResponse(v.code,v.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=m.ConnectionState.Disconnected,this.privWebsocketClient=null,this.onEvent(new m.ConnectionClosedEvent(this.privConnectionId,v.code,v.reason))),this.onClose(v.code,v.reason).catch(x=>{m.Events.instance.onEvent(new m.BackgroundEvent(x))})},this.privWebsocketClient.onmessage=v=>{const x=new Date().toISOString();if(this.privConnectionState===m.ConnectionState.Connected){const C=new m.Deferred;if(this.privReceivingMessageQueue.enqueueFromPromise(C.promise),v.data instanceof ArrayBuffer){const w=new m.RawWebsocketMessage(m.MessageType.Binary,v.data);this.privMessageFormatter.toConnectionMessage(w).then(R=>{this.onEvent(new m.ConnectionMessageReceivedEvent(this.privConnectionId,x,R)),C.resolve(R)},R=>{C.reject(`Invalid binary message format. Error: ${R}`)})}else{const w=new m.RawWebsocketMessage(m.MessageType.Text,v.data);this.privMessageFormatter.toConnectionMessage(w).then(R=>{this.onEvent(new m.ConnectionMessageReceivedEvent(this.privConnectionId,x,R)),C.resolve(R)},R=>{C.reject(`Invalid text message format. Error: ${R}`)})}}},this.privConnectionEstablishDeferral.promise}send(v){if(this.privConnectionState!==m.ConnectionState.Connected)return Promise.reject(`Cannot send on connection that is in ${m.ConnectionState[this.privConnectionState]} state`);const x=new m.Deferred,C=new m.Deferred;return this.privSendMessageQueue.enqueueFromPromise(C.promise),this.privMessageFormatter.fromConnectionMessage(v).then(w=>{C.resolve({Message:v,RawWebsocketMessage:w,sendStatusDeferral:x})},w=>{C.reject(`Error formatting the message. ${w}`)}),x.promise}read(){return this.privConnectionState!==m.ConnectionState.Connected?Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue()}close(v){if(this.privWebsocketClient)this.privConnectionState!==m.ConnectionState.Disconnected&&this.privWebsocketClient.close(1e3,v||"Normal closure by client");else return Promise.resolve();return this.privDisconnectDeferral.promise}get events(){return this.privConnectionEvents}sendRawMessage(v){try{if(!v)return Promise.resolve();if(this.onEvent(new m.ConnectionMessageSentEvent(this.privConnectionId,new Date().toISOString(),v.Message)),this.isWebsocketOpen)this.privWebsocketClient.send(v.RawWebsocketMessage.payload);else return Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+v.Message.id+" "+new Error().stack);return Promise.resolve()}catch(x){return Promise.reject(`websocket send error: ${x}`)}}async onClose(v,x){const C=`Connection closed. ${v}: ${x}`;this.privConnectionState=m.ConnectionState.Disconnected,this.privDisconnectDeferral.resolve(),await this.privReceivingMessageQueue.drainAndDispose(()=>{},C),await this.privSendMessageQueue.drainAndDispose(w=>{w.sendStatusDeferral.reject(C)},C)}async processSendQueue(){for(;;){const x=await this.privSendMessageQueue.dequeue();if(!x)return;try{await this.sendRawMessage(x),x.sendStatusDeferral.resolve()}catch(C){x.sendStatusDeferral.reject(C)}}}onEvent(v){this.privConnectionEvents.onEvent(v),m.Events.instance.onEvent(v)}getAgent(){const v=new l.default.Agent(this.createConnection);return this.proxyInfo!==void 0&&this.proxyInfo.HostName!==void 0&&this.proxyInfo.Port>0&&(v.proxyInfo=this.proxyInfo),v}static GetProxyAgent(v){const x={host:v.HostName,port:v.Port};return v.UserName?x.headers={"Proxy-Authentication":"Basic "+Buffer.from(`${v.UserName}:${v.Password===void 0?"":v.Password}`).toString("base64")}:x.headers={},x.headers.requestOCSP="true",new a.default(x)}createConnection(v,x){let C;if(x={...x,requestOCSP:!0,servername:x.host},this.proxyInfo){const R=Cy.GetProxyAgent(this.proxyInfo);C=new Promise((b,N)=>{R.callback(v,x,(T,A)=>{T?N(T):b(A)})})}else x.secureEndpoint?C=Promise.resolve(o.connect(x)):C=Promise.resolve(i.connect(x));return C}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}};return xr.WebsocketMessageAdapter=h,h.forceNpmWebSocket=!1,xr}var rb;function k8(){if(rb)return $c;rb=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.WebsocketConnection=void 0;const e=_e(),t=IM();let r=class{constructor(i,o,l,a,u,d=!1,m){if(this.privIsDisposed=!1,!i)throw new e.ArgumentNullError("uri");if(!a)throw new e.ArgumentNullError("messageFormatter");this.privMessageFormatter=a;let h="",g=0;if(o){for(const v in o)if(v){h+=g===0&&i.indexOf("?")===-1?"?":"&";const x=encodeURIComponent(v);h+=x;let C=o[v];C&&(C=encodeURIComponent(C),h+=`=${C}`),g++}}if(l){for(const v in l)if(v){h+=g===0&&i.indexOf("?")===-1?"?":"&";const x=encodeURIComponent(l[v]);h+=`${v}=${x}`,g++}}this.privUri=i+h,this.privId=m||(0,e.createNoDashGuid)(),this.privConnectionMessageAdapter=new t.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,u,l,d)}async dispose(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&await this.privConnectionMessageAdapter.close()}isDisposed(){return this.privIsDisposed}get id(){return this.privId}get uri(){return this.privUri}state(){return this.privConnectionMessageAdapter.state}open(){return this.privConnectionMessageAdapter.open()}send(i){return this.privConnectionMessageAdapter.send(i)}read(){return this.privConnectionMessageAdapter.read()}get events(){return this.privConnectionMessageAdapter.events}};return $c.WebsocketConnection=r,$c}var Wc={},nb;function O8(){if(nb)return Wc;nb=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.ReplayableAudioNode=void 0;let e=class{constructor(n,i){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=n,this.privBytesPerSecond=i}id(){return this.privAudioNode.id()}read(){if(this.privReplay&&this.privBuffers.length!==0){const n=this.privReplayOffset-this.privBufferStartOffset;let i=Math.round(n*this.privBytesPerSecond*1e-7);i%2!==0&&i++;let o=0;for(;o<this.privBuffers.length&&i>=this.privBuffers[o].chunk.buffer.byteLength;)i-=this.privBuffers[o++].chunk.buffer.byteLength;if(o<this.privBuffers.length){const l=this.privBuffers[o].chunk.buffer.slice(i);return this.privReplayOffset+=l.byteLength/this.privBytesPerSecond*1e7,o===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:l,isEnd:!1,timeReceived:this.privBuffers[o].chunk.timeReceived})}}return this.privAudioNode.read().then(n=>(n&&n.buffer&&this.privBuffers&&(this.privBuffers.push(new t(n,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=n.buffer.byteLength),n))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&this.privBuffers.length!==0&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(n){if(this.privBuffers===void 0||this.privBuffers.length===0)return;this.privLastShrinkOffset=n;const i=n-this.privBufferStartOffset;let o=Math.round(i*this.privBytesPerSecond*1e-7),l=0;for(;l<this.privBuffers.length&&o>=this.privBuffers[l].chunk.buffer.byteLength;)o-=this.privBuffers[l++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(n-o/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(l)}findTimeAtOffset(n){if(n<this.privBufferStartOffset||this.privBuffers===void 0)return 0;for(const i of this.privBuffers){const o=i.byteOffset/this.privBytesPerSecond*1e7,l=o+i.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(n>=o&&n<=l)return i.chunk.timeReceived}return 0}};Wc.ReplayableAudioNode=e;class t{constructor(n,i,o){this.chunk=n,this.serial=i,this.byteOffset=o}}return Wc}var Vc={},Gg={},$n={},Qr={},ib;function AM(){if(ib)return Qr;ib=1;var e=Qr&&Qr.__createBinding||(Object.create?(function(l,a,u,d){d===void 0&&(d=u),Object.defineProperty(l,d,{enumerable:!0,get:function(){return a[u]}})}):(function(l,a,u,d){d===void 0&&(d=u),l[d]=a[u]})),t=Qr&&Qr.__setModuleDefault||(Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a}),r=Qr&&Qr.__importStar||function(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var u in l)u!=="default"&&Object.prototype.hasOwnProperty.call(l,u)&&e(a,l,u);return t(a,l),a};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.AudioFileWriter=void 0;const n=r(js),i=je();let o=class{constructor(a){i.Contracts.throwIfNullOrUndefined(n.openSync,`
File System access not available, please use Push or PullAudioOutputStream`),this.privFd=n.openSync(a,"w")}set format(a){i.Contracts.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=a;let u=0;this.privAudioFormat.hasHeader&&(u=this.privAudioFormat.header.byteLength),this.privFd!==void 0&&(this.privWriteStream=n.createWriteStream("",{fd:this.privFd,start:u,autoClose:!1}))}write(a){i.Contracts.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),this.privWriteStream!==void 0&&this.privWriteStream.write(new Uint8Array(a.slice(0)))}close(){this.privFd!==void 0&&(this.privWriteStream.on("finish",()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),n.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),n.closeSync(this.privFd),this.privFd=void 0}),this.privWriteStream.end())}id(){return this.privId}};return Qr.AudioFileWriter=o,Qr}var Pr={},sb;function _M(){if(sb)return Pr;sb=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.PullAudioInputStreamImpl=Pr.PullAudioInputStream=Pr.PushAudioInputStreamImpl=Pr.PushAudioInputStream=Pr.AudioInputStream=void 0;const e=Se(),t=_e(),r=ro(),n=Z(),i=no();let o=class{constructor(){}static createPushStream(h){return l.create(h)}static createPullStream(h,g){return u.create(h,g)}};Pr.AudioInputStream=o;class l extends o{static create(h){return new a(h)}}Pr.PushAudioInputStream=l;class a extends l{constructor(h){super(),h===void 0?this.privFormat=i.AudioStreamFormatImpl.getDefaultInputFormat():this.privFormat=h,this.privEvents=new t.EventSource,this.privId=(0,r.createNoDashGuid)(),this.privStream=new t.ChunkedArrayBufferStream(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(h){this.privStream.writeStreamChunk({buffer:h,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}turnOn(){this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}async attach(h){this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,h)),await this.turnOn();const g=this.privStream;return this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,h)),{detach:async()=>(this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,h)),this.turnOff()),id:()=>h,read:()=>g.read()}}detach(h){this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,h))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:e.type.Stream})}onEvent(h){this.privEvents.onEvent(h),t.Events.instance.onEvent(h)}toBuffer(h){const g=Buffer.alloc(h.byteLength),v=new Uint8Array(h);for(let x=0;x<g.length;++x)g[x]=v[x];return g}}Pr.PushAudioInputStreamImpl=a;class u extends o{constructor(){super()}static create(h,g){return new d(h,g)}}Pr.PullAudioInputStream=u;class d extends u{constructor(h,g){super(),g===void 0?this.privFormat=n.AudioStreamFormat.getDefaultInputFormat():this.privFormat=g,this.privEvents=new t.EventSource,this.privId=(0,r.createNoDashGuid)(),this.privCallback=h,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}turnOn(){this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}async attach(h){return this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,h)),await this.turnOn(),this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,h)),{detach:()=>(this.privCallback.close(),this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,h)),this.turnOff()),id:()=>h,read:()=>{let g=0,v;for(;g<this.privBufferSize;){const x=new ArrayBuffer(this.privBufferSize-g),C=this.privCallback.read(x);if(v===void 0?v=x:new Int8Array(v).set(new Int8Array(x),g),C===0)break;g+=C}return Promise.resolve({buffer:v.slice(0,g),isEnd:this.privIsClosed||g===0,timeReceived:Date.now()})}}}detach(h){this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,h))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:e.type.Stream})}onEvent(h){this.privEvents.onEvent(h),t.Events.instance.onEvent(h)}}return Pr.PullAudioInputStreamImpl=d,Pr}var Rr={},Kc={},Jg={},ob;function zM(){return ob||(ob=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechSynthesisOutputFormat=void 0,(function(t){t[t.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",t[t.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",t[t.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",t[t.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",t[t.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",t[t.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",t[t.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",t[t.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",t[t.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",t[t.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",t[t.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",t[t.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",t[t.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",t[t.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",t[t.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",t[t.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",t[t.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",t[t.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",t[t.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",t[t.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",t[t.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",t[t.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",t[t.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",t[t.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",t[t.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",t[t.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",t[t.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",t[t.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",t[t.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",t[t.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",t[t.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",t[t.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",t[t.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus",t[t.Raw22050Hz16BitMonoPcm=33]="Raw22050Hz16BitMonoPcm",t[t.Riff22050Hz16BitMonoPcm=34]="Riff22050Hz16BitMonoPcm",t[t.Raw44100Hz16BitMonoPcm=35]="Raw44100Hz16BitMonoPcm",t[t.Riff44100Hz16BitMonoPcm=36]="Riff44100Hz16BitMonoPcm",t[t.AmrWb16000Hz=37]="AmrWb16000Hz",t[t.G72216Khz64Kbps=38]="G72216Khz64Kbps"})(e.SpeechSynthesisOutputFormat||(e.SpeechSynthesisOutputFormat={}))})(Jg)),Jg}var ab;function Gd(){if(ab)return Kc;ab=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.AudioOutputFormatImpl=void 0;const e=zM(),t=no();class r extends t.AudioStreamFormatImpl{constructor(i,o,l,a,u,d,m,h,g){super(l,d,o,i),this.formatTag=i,this.avgBytesPerSec=a,this.blockAlign=u,this.priAudioFormatString=m,this.priRequestAudioFormatString=h,this.priHasHeader=g}static fromSpeechSynthesisOutputFormat(i){return i===void 0?r.getDefaultOutputFormat():r.fromSpeechSynthesisOutputFormatString(r.SpeechSynthesisOutputFormatToString[i])}static fromSpeechSynthesisOutputFormatString(i){switch(i){case"raw-8khz-8bit-mono-mulaw":return new r(t.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,i,i,!1);case"riff-16khz-16kbps-mono-siren":return new r(t.AudioFormatTag.Siren,1,16e3,2e3,40,0,i,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new r(t.AudioFormatTag.Siren,1,16e3,2e3,40,0,i,i,!1);case"audio-16khz-32kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,16e3,4096,2,16,i,i,!1);case"audio-16khz-128kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,16e3,16384,2,16,i,i,!1);case"audio-16khz-64kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,16e3,8192,2,16,i,i,!1);case"audio-24khz-48kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,24e3,6144,2,16,i,i,!1);case"audio-24khz-96kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,24e3,12288,2,16,i,i,!1);case"audio-24khz-160kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,24e3,20480,2,16,i,i,!1);case"raw-16khz-16bit-mono-truesilk":return new r(t.AudioFormatTag.SILKSkype,1,16e3,32e3,2,16,i,i,!1);case"riff-8khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,8e3,16e3,2,16,i,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,24e3,48e3,2,16,i,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new r(t.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,i,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,16e3,32e3,2,16,i,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,24e3,48e3,2,16,i,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,8e3,16e3,2,16,i,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new r(t.AudioFormatTag.OGG_OPUS,1,16e3,8192,2,16,i,i,!1);case"ogg-24khz-16bit-mono-opus":return new r(t.AudioFormatTag.OGG_OPUS,1,24e3,8192,2,16,i,i,!1);case"raw-48khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,48e3,96e3,2,16,i,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,48e3,96e3,2,16,i,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,48e3,12288,2,16,i,i,!1);case"audio-48khz-192kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,48e3,24576,2,16,i,i,!1);case"ogg-48khz-16bit-mono-opus":return new r(t.AudioFormatTag.OGG_OPUS,1,48e3,12e3,2,16,i,i,!1);case"webm-16khz-16bit-mono-opus":return new r(t.AudioFormatTag.WEBM_OPUS,1,16e3,4e3,2,16,i,i,!1);case"webm-24khz-16bit-mono-opus":return new r(t.AudioFormatTag.WEBM_OPUS,1,24e3,6e3,2,16,i,i,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new r(t.AudioFormatTag.WEBM_OPUS,1,24e3,3e3,2,16,i,i,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new r(t.AudioFormatTag.OPUS,1,16e3,4e3,2,16,i,i,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new r(t.AudioFormatTag.OPUS,1,24e3,6e3,2,16,i,i,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new r(t.AudioFormatTag.OPUS,1,24e3,3e3,2,16,i,i,!1);case"audio-24khz-16bit-mono-flac":return new r(t.AudioFormatTag.FLAC,1,24e3,24e3,2,16,i,i,!1);case"audio-48khz-16bit-mono-flac":return new r(t.AudioFormatTag.FLAC,1,48e3,3e4,2,16,i,i,!1);case"raw-24khz-16bit-mono-truesilk":return new r(t.AudioFormatTag.SILKSkype,1,24e3,48e3,2,16,i,i,!1);case"raw-8khz-8bit-mono-alaw":return new r(t.AudioFormatTag.ALaw,1,8e3,8e3,1,8,i,i,!1);case"riff-8khz-8bit-mono-alaw":return new r(t.AudioFormatTag.ALaw,1,8e3,8e3,1,8,i,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,22050,44100,2,16,i,i,!1);case"riff-22050hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,22050,44100,2,16,i,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,44100,88200,2,16,i,i,!1);case"riff-44100hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,44100,88200,2,16,i,"raw-44100hz-16bit-mono-pcm",!0);case"amr-wb-16000h":return new r(t.AudioFormatTag.AMR_WB,1,16e3,3052,2,16,i,i,!1);case"g722-16khz-64kbps":return new r(t.AudioFormatTag.G722,1,16e3,8e3,2,16,i,i,!1);case"riff-16khz-16bit-mono-pcm":default:return new r(t.AudioFormatTag.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return r.fromSpeechSynthesisOutputFormatString(typeof window<"u"?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(i){if(this.priHasHeader){const o=new DataView(this.privHeader);o.setUint32(4,i+this.privHeader.byteLength-8,!0),o.setUint32(40,i,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}addHeader(i){if(!this.hasHeader)return i;this.updateHeader(i.byteLength);const o=new Uint8Array(i.byteLength+this.header.byteLength);return o.set(new Uint8Array(this.header),0),o.set(new Uint8Array(i),this.header.byteLength),o.buffer}}return Kc.AudioOutputFormatImpl=r,r.SpeechSynthesisOutputFormatToString={[e.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[e.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[e.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[e.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[e.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[e.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus]:"ogg-48khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus]:"webm-16khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus]:"webm-24khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus]:"webm-24khz-16bit-24kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk]:"raw-24khz-16bit-mono-truesilk",[e.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw]:"raw-8khz-8bit-mono-alaw",[e.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw]:"riff-8khz-8bit-mono-alaw",[e.SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus]:"audio-16khz-16bit-32kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus]:"audio-24khz-16bit-48kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus]:"audio-24khz-16bit-24kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm]:"raw-22050hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm]:"riff-22050hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm]:"raw-44100hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm]:"riff-44100hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.AmrWb16000Hz]:"amr-wb-16000hz",[e.SpeechSynthesisOutputFormat.G72216Khz64Kbps]:"g722-16khz-64kbps"},Kc}var cb;function Ea(){if(cb)return Rr;cb=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.PushAudioOutputStreamImpl=Rr.PushAudioOutputStream=Rr.PullAudioOutputStreamImpl=Rr.PullAudioOutputStream=Rr.AudioOutputStream=void 0;const e=_e(),t=je(),r=Gd();let n=class{constructor(){}static createPullStream(){return i.create()}};Rr.AudioOutputStream=n;class i extends n{static create(){return new o}}Rr.PullAudioOutputStream=i;class o extends i{constructor(){super(),this.privId=(0,e.createNoDashGuid)(),this.privStream=new e.Stream}set format(d){d==null&&(this.privFormat=r.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privFormat=d}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}async read(d){const m=new Int8Array(d);let h=0;if(this.privLastChunkView!==void 0){if(this.privLastChunkView.length>d.byteLength)return m.set(this.privLastChunkView.slice(0,d.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(d.byteLength),Promise.resolve(d.byteLength);m.set(this.privLastChunkView),h=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;h<d.byteLength&&!this.privStream.isReadEnded;){const g=await this.privStream.read();if(g!==void 0&&!g.isEnd){let v;g.buffer.byteLength>d.byteLength-h?(v=g.buffer.slice(0,d.byteLength-h),this.privLastChunkView=new Int8Array(g.buffer.slice(d.byteLength-h))):v=g.buffer,m.set(new Int8Array(v),h),h+=v.byteLength}else this.privStream.readEnded()}return h}write(d){t.Contracts.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:d,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}Rr.PullAudioOutputStreamImpl=o;class l extends n{constructor(){super()}static create(d){return new a(d)}}Rr.PushAudioOutputStream=l;class a extends l{constructor(d){super(),this.privId=(0,e.createNoDashGuid)(),this.privCallback=d}set format(d){}write(d){this.privCallback.write&&this.privCallback.write(d)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}return Rr.PushAudioOutputStreamImpl=a,Rr}var lb;function kM(){if(lb)return $n;lb=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.AudioOutputConfigImpl=$n.AudioConfigImpl=$n.AudioConfig=void 0;const e=Wt(),t=je(),r=Z(),n=AM(),i=_M(),o=Ea();let l=class MM{static fromDefaultMicrophoneInput(){const m=new e.PcmRecorder(!0);return new a(new e.MicAudioSource(m))}static fromMicrophoneInput(m){const h=new e.PcmRecorder(!0);return new a(new e.MicAudioSource(h,m))}static fromWavFileInput(m,h="unnamedBuffer.wav"){return new a(new e.FileAudioSource(m,h))}static fromStreamInput(m){if(m instanceof r.PullAudioInputStreamCallback)return new a(new i.PullAudioInputStreamImpl(m));if(m instanceof r.AudioInputStream)return new a(m);if(typeof MediaStream<"u"&&m instanceof MediaStream){const h=new e.PcmRecorder(!1);return new a(new e.MicAudioSource(h,null,null,m))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new u(new r.SpeakerAudioDestination)}static fromSpeakerOutput(m){if(m===void 0)return MM.fromDefaultSpeakerOutput();if(m instanceof r.SpeakerAudioDestination)return new u(m);throw new Error("Not Supported Type")}static fromAudioFileOutput(m){return new u(new n.AudioFileWriter(m))}static fromStreamOutput(m){if(m instanceof r.PushAudioOutputStreamCallback)return new u(new o.PushAudioOutputStreamImpl(m));if(m instanceof r.PushAudioOutputStream)return new u(m);if(m instanceof r.PullAudioOutputStream)return new u(m);throw new Error("Not Supported Type")}};$n.AudioConfig=l;class a extends l{constructor(m){super(),this.privSource=m}get format(){return this.privSource.format}close(m,h){this.privSource.turnOff().then(()=>{m&&m()},g=>{h&&h(g)})}id(){return this.privSource.id()}turnOn(){return this.privSource.turnOn()}attach(m){return this.privSource.attach(m)}detach(m){return this.privSource.detach(m)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(m,h){if(t.Contracts.throwIfNull(h,"value"),this.privSource.setProperty!==void 0)this.privSource.setProperty(m,h);else throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(m,h){if(this.privSource.getProperty!==void 0)return this.privSource.getProperty(m,h);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}$n.AudioConfigImpl=a;class u extends l{constructor(m){super(),this.privDestination=m}set format(m){this.privDestination.format=m}write(m){this.privDestination.write(m)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(){throw new Error("This AudioConfig instance does not support getting properties.")}}return $n.AudioOutputConfigImpl=u,$n}var Qg={},ub;function D8(){return ub||(ub=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationReason=void 0,(function(t){t[t.Error=0]="Error",t[t.EndOfStream=1]="EndOfStream"})(e.CancellationReason||(e.CancellationReason={}))})(Qg)),Qg}var Gc={},db;function B8(){if(db)return Gc;db=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.PullAudioInputStreamCallback=void 0;let e=class{};return Gc.PullAudioInputStreamCallback=e,Gc}var Jc={},pb;function L8(){if(pb)return Jc;pb=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.PushAudioOutputStreamCallback=void 0;let e=class{};return Jc.PushAudioOutputStreamCallback=e,Jc}var Qc={},mb;function j8(){if(mb)return Qc;mb=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.KeywordRecognitionModel=void 0;const e=je();let t=class{constructor(){this.privDisposed=!1}static fromFile(n){throw e.Contracts.throwIfFileDoesNotExist(n,"fileName"),new Error("Not yet implemented.")}static fromStream(n){throw e.Contracts.throwIfNull(n,"file"),new Error("Not yet implemented.")}close(){this.privDisposed||(this.privDisposed=!0)}};return Qc.KeywordRecognitionModel=t,Qc}var Xc={},hb;function q8(){if(hb)return Xc;hb=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.SessionEventArgs=void 0;let e=class{constructor(r){this.privSessionId=r}get sessionId(){return this.privSessionId}};return Xc.SessionEventArgs=e,Xc}var Yc={},fb;function F8(){if(fb)return Yc;fb=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.RecognitionEventArgs=void 0;const e=Z();let t=class extends e.SessionEventArgs{constructor(n,i){super(i),this.privOffset=n}get offset(){return this.privOffset}};return Yc.RecognitionEventArgs=t,Yc}var Xg={},gb;function H8(){return gb||(gb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OutputFormat=void 0,(function(t){t[t.Simple=0]="Simple",t[t.Detailed=1]="Detailed"})(e.OutputFormat||(e.OutputFormat={}))})(Xg)),Xg}var Zc={},vb;function U8(){if(vb)return Zc;vb=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.IntentRecognitionEventArgs=void 0;const e=Z();let t=class extends e.RecognitionEventArgs{constructor(n,i,o){super(i,o),this.privResult=n}get result(){return this.privResult}};return Zc.IntentRecognitionEventArgs=t,Zc}var el={},yb;function $8(){if(yb)return el;yb=1,Object.defineProperty(el,"__esModule",{value:!0}),el.RecognitionResult=void 0;let e=class{constructor(r,n,i,o,l,a,u,d,m,h){this.privResultId=r,this.privReason=n,this.privText=i,this.privDuration=o,this.privOffset=l,this.privLanguage=a,this.privLanguageDetectionConfidence=u,this.privErrorDetails=d,this.privJson=m,this.privProperties=h}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}};return el.RecognitionResult=e,el}var tl={},Sb;function W8(){if(Sb)return tl;Sb=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.SpeechRecognitionResult=void 0;const e=Z();let t=class extends e.RecognitionResult{constructor(n,i,o,l,a,u,d,m,h,g,v){super(n,i,o,l,a,u,d,h,g,v),this.privSpeakerId=m}get speakerId(){return this.privSpeakerId}};return tl.SpeechRecognitionResult=t,tl}var rl={},Cb;function V8(){if(Cb)return rl;Cb=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.IntentRecognitionResult=void 0;const e=Z();let t=class extends e.SpeechRecognitionResult{constructor(n,i,o,l,a,u,d,m,h,g,v){super(i,o,l,a,u,d,m,void 0,h,g,v),this.privIntentId=n}get intentId(){return this.privIntentId}};return rl.IntentRecognitionResult=t,rl}var Cs={},xb;function K8(){if(xb)return Cs;xb=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.LanguageUnderstandingModelImpl=Cs.LanguageUnderstandingModel=void 0;const e=je();let t=class{constructor(){}static fromEndpoint(i){e.Contracts.throwIfNull(i,"uri"),e.Contracts.throwIfNullOrWhitespace(i.hostname,"uri");const o=new r,l=i.host.indexOf(".");if(l===-1)throw new Error("Could not determine region from endpoint");o.region=i.host.substr(0,l);const a=i.pathname.lastIndexOf("/")+1;if(a===-1)throw new Error("Could not determine appId from endpoint");if(o.appId=i.pathname.substr(a),o.subscriptionKey=i.searchParams.get("subscription-key"),o.subscriptionKey===void 0)throw new Error("Could not determine subscription key from endpoint");return o}static fromAppId(i){e.Contracts.throwIfNullOrWhitespace(i,"appId");const o=new r;return o.appId=i,o}static fromSubscription(i,o,l){e.Contracts.throwIfNullOrWhitespace(i,"subscriptionKey"),e.Contracts.throwIfNullOrWhitespace(o,"appId"),e.Contracts.throwIfNullOrWhitespace(l,"region");const a=new r;return a.appId=o,a.region=l,a.subscriptionKey=i,a}};Cs.LanguageUnderstandingModel=t;class r extends t{}return Cs.LanguageUnderstandingModelImpl=r,Cs}var Wn={},Pb;function G8(){if(Pb)return Wn;Pb=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.MeetingTranscriptionEventArgs=Wn.ConversationTranscriptionEventArgs=Wn.SpeechRecognitionEventArgs=void 0;const e=Z();let t=class extends e.RecognitionEventArgs{constructor(o,l,a){super(l,a),this.privResult=o}get result(){return this.privResult}};Wn.SpeechRecognitionEventArgs=t;class r extends e.RecognitionEventArgs{constructor(o,l,a){super(l,a),this.privResult=o}get result(){return this.privResult}}Wn.ConversationTranscriptionEventArgs=r;class n extends t{}return Wn.MeetingTranscriptionEventArgs=n,Wn}var nl={},il={},Rb;function Jd(){if(Rb)return il;Rb=1,Object.defineProperty(il,"__esModule",{value:!0}),il.CancellationEventArgsBase=void 0;const e=Z();let t=class extends e.RecognitionEventArgs{constructor(n,i,o,l,a){super(l,a),this.privReason=n,this.privErrorDetails=i,this.privErrorCode=o}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return il.CancellationEventArgsBase=t,il}var wb;function J8(){if(wb)return nl;wb=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.SpeechRecognitionCanceledEventArgs=void 0;const e=Jd();let t=class extends e.CancellationEventArgsBase{};return nl.SpeechRecognitionCanceledEventArgs=t,nl}var sl={},bb;function Q8(){if(bb)return sl;bb=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.TranslationRecognitionEventArgs=void 0;const e=Z();let t=class extends e.RecognitionEventArgs{constructor(n,i,o){super(i,o),this.privResult=n}get result(){return this.privResult}};return sl.TranslationRecognitionEventArgs=t,sl}var ol={},Nb;function X8(){if(Nb)return ol;Nb=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.TranslationSynthesisEventArgs=void 0;const e=Z();let t=class extends e.SessionEventArgs{constructor(n,i){super(i),this.privResult=n}get result(){return this.privResult}};return ol.TranslationSynthesisEventArgs=t,ol}var al={},Eb;function DM(){if(Eb)return al;Eb=1,Object.defineProperty(al,"__esModule",{value:!0}),al.TranslationRecognitionResult=void 0;const e=Z();let t=class OM extends e.SpeechRecognitionResult{constructor(n,i,o,l,a,u,d,m,h,g,v){super(i,o,l,a,u,d,m,void 0,h,g,v),this.privTranslations=n}static fromSpeechRecognitionResult(n){return new OM(void 0,n.resultId,n.reason,n.text,n.duration,n.offset,n.language,n.languageDetectionConfidence,n.errorDetails,n.json,n.properties)}get translations(){return this.privTranslations}};return al.TranslationRecognitionResult=t,al}var cl={},Tb;function Y8(){if(Tb)return cl;Tb=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.TranslationSynthesisResult=void 0;let e=class{constructor(r,n){this.privReason=r,this.privAudio=n}get audio(){return this.privAudio}get reason(){return this.privReason}};return cl.TranslationSynthesisResult=e,cl}var Yg={},Ib;function Z8(){return Ib||(Ib=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ResultReason=void 0,(function(t){t[t.NoMatch=0]="NoMatch",t[t.Canceled=1]="Canceled",t[t.RecognizingSpeech=2]="RecognizingSpeech",t[t.RecognizedSpeech=3]="RecognizedSpeech",t[t.RecognizedKeyword=4]="RecognizedKeyword",t[t.RecognizingIntent=5]="RecognizingIntent",t[t.RecognizedIntent=6]="RecognizedIntent",t[t.TranslatingSpeech=7]="TranslatingSpeech",t[t.TranslatedSpeech=8]="TranslatedSpeech",t[t.SynthesizingAudio=9]="SynthesizingAudio",t[t.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",t[t.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",t[t.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",t[t.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",t[t.RecognizedSpeakers=14]="RecognizedSpeakers",t[t.RecognizedSpeaker=15]="RecognizedSpeaker",t[t.ResetVoiceProfile=16]="ResetVoiceProfile",t[t.DeletedVoiceProfile=17]="DeletedVoiceProfile",t[t.VoicesListRetrieved=18]="VoicesListRetrieved",t[t.TranslatingParticipantSpeech=19]="TranslatingParticipantSpeech",t[t.TranslatedParticipantSpeech=20]="TranslatedParticipantSpeech",t[t.TranslatedInstantMessage=21]="TranslatedInstantMessage",t[t.TranslatedParticipantInstantMessage=22]="TranslatedParticipantInstantMessage"})(e.ResultReason||(e.ResultReason={}))})(Yg)),Yg}var xs={},Ab;function eW(){if(Ab)return xs;Ab=1,Object.defineProperty(xs,"__esModule",{value:!0}),xs.SpeechConfigImpl=xs.SpeechConfig=void 0;const e=Se(),t=je(),r=Z();let n=class{constructor(){}static fromSubscription(l,a){t.Contracts.throwIfNullOrWhitespace(l,"subscriptionKey"),t.Contracts.throwIfNullOrWhitespace(a,"region");const u=new i;return u.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),u.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,a),u.setProperty(r.PropertyId.SpeechServiceConnection_Key,l),u}static fromEndpoint(l,a){t.Contracts.throwIfNull(l,"endpoint");const u=typeof a=="string"&&a.trim().length>0,d=typeof a=="object"&&a!==null&&typeof a.getToken=="function",m=typeof a=="object"&&a!==null&&typeof a.key=="string";if(a!==void 0&&!u&&!d&&!m)throw new Error("Invalid 'auth' parameter: expected a non-empty API key string, a TokenCredential, or a KeyCredential.");let h;return typeof a=="string"?(h=new i,h.setProperty(r.PropertyId.SpeechServiceConnection_Key,a)):typeof a=="object"&&typeof a.getToken=="function"?h=new i(a):typeof a=="object"&&typeof a.key=="string"?(h=new i,h.setProperty(r.PropertyId.SpeechServiceConnection_Key,a.key)):h=new i,h.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,l.href),h}static fromHost(l,a){t.Contracts.throwIfNull(l,"hostName");const u=new i;return u.setProperty(r.PropertyId.SpeechServiceConnection_Host,l.protocol+"//"+l.hostname+(l.port===""?"":":"+l.port)),u.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"1"),a!==void 0&&u.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),u}static fromAuthorizationToken(l,a){t.Contracts.throwIfNull(l,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(a,"region");const u=new i;return u.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),u.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,a),u.authorizationToken=l,u}close(){}};xs.SpeechConfig=n;class i extends n{constructor(l){super(),this.privProperties=new r.PropertyCollection,this.speechRecognitionLanguage="en-US",this.outputFormat=r.OutputFormat.Simple,this.privTokenCredential=l}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(l){this.privProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,l)}get speechRecognitionLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(l){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,l)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(l){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,l)}get outputFormat(){return r.OutputFormat[this.privProperties.getProperty(e.OutputFormatPropertyName,void 0)]}set outputFormat(l){this.privProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[l])}get endpointId(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(l){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,l)}get tokenCredential(){return this.privTokenCredential}setProperty(l,a){t.Contracts.throwIfNull(a,"value"),this.privProperties.setProperty(l,a)}getProperty(l,a){return this.privProperties.getProperty(l,a)}setProxy(l,a,u,d){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],l),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],u),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],d)}setServiceProperty(l,a){const u=JSON.parse(this.privProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));u[l]=a,this.privProperties.setProperty(e.ServicePropertiesPropertyName,JSON.stringify(u))}setProfanity(l){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[l])}enableAudioLogging(){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true"),this.privProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Detailed])}enableDictation(){this.privProperties.setProperty(e.ForceDictationPropertyName,"true")}clone(){const l=new i(this.tokenCredential);return l.privProperties=this.privProperties.clone(),l}get speechSynthesisLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(l){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,l)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(l){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,l)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(l){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[l])}}return xs.SpeechConfigImpl=i,xs}var Ps={},_b;function tW(){if(_b)return Ps;_b=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.SpeechTranslationConfigImpl=Ps.SpeechTranslationConfig=void 0;const e=Se(),t=je(),r=Z();let n=class extends r.SpeechConfig{constructor(){super()}static fromSubscription(l,a){t.Contracts.throwIfNullOrWhitespace(l,"subscriptionKey"),t.Contracts.throwIfNullOrWhitespace(a,"region");const u=new i;return u.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,l),u.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),u}static fromAuthorizationToken(l,a){t.Contracts.throwIfNullOrWhitespace(l,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(a,"region");const u=new i;return u.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,l),u.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),u}static fromHost(l,a){t.Contracts.throwIfNull(l,"hostName");const u=new i;return u.setProperty(r.PropertyId.SpeechServiceConnection_Host,l.protocol+"//"+l.hostname+(l.port===""?"":":"+l.port)),a!==void 0&&u.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),u}static fromEndpoint(l,a){t.Contracts.throwIfNull(l,"endpoint");const u=typeof a=="string"&&a.trim().length>0,d=typeof a=="object"&&a!==null&&typeof a.getToken=="function",m=typeof a=="object"&&a!==null&&typeof a.key=="string";if(a!==void 0&&!u&&!d&&!m)throw new Error("Invalid 'auth' parameter: expected a non-empty API key string, a TokenCredential, or a KeyCredential.");let h;return typeof a=="string"?(h=new i,h.setProperty(r.PropertyId.SpeechServiceConnection_Key,a)):typeof a=="object"&&typeof a.getToken=="function"?h=new i(a):typeof a=="object"&&typeof a.key=="string"?(h=new i,h.setProperty(r.PropertyId.SpeechServiceConnection_Key,a.key)):h=new i,h.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,l.href),h}};Ps.SpeechTranslationConfig=n;class i extends n{constructor(l){super(),this.privSpeechProperties=new r.PropertyCollection,this.outputFormat=r.OutputFormat.Simple,this.privTokenCredential=l}set authorizationToken(l){t.Contracts.throwIfNullOrWhitespace(l,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,l)}set speechRecognitionLanguage(l){t.Contracts.throwIfNullOrWhitespace(l,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,l)}get speechRecognitionLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage])}get subscriptionKey(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_Key])}get outputFormat(){return r.OutputFormat[this.privSpeechProperties.getProperty(e.OutputFormatPropertyName,void 0)]}set outputFormat(l){this.privSpeechProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[l])}get endpointId(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(l){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,l)}addTargetLanguage(l){t.Contracts.throwIfNullOrWhitespace(l,"value");const a=this.targetLanguages;a.includes(l)||(a.push(l),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,a.join(",")))}get targetLanguages(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]}get voiceName(){return this.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_TranslationVoice])}set voiceName(l){t.Contracts.throwIfNullOrWhitespace(l,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,l)}get region(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}get tokenCredential(){return this.privTokenCredential}setProxy(l,a,u,d){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],l),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],u),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],d)}getProperty(l,a){return this.privSpeechProperties.getProperty(l,a)}setProperty(l,a){this.privSpeechProperties.setProperty(l,a)}get properties(){return this.privSpeechProperties}close(){}setServiceProperty(l,a){const u=JSON.parse(this.privSpeechProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));u[l]=a,this.privSpeechProperties.setProperty(e.ServicePropertiesPropertyName,JSON.stringify(u))}setProfanity(l){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[l])}enableAudioLogging(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privSpeechProperties.setProperty(e.ForceDictationPropertyName,"true")}get speechSynthesisLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(l){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,l)}get speechSynthesisVoiceName(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(l){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,l)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(l){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[l])}}return Ps.SpeechTranslationConfigImpl=i,Ps}var ll={},zb;function LM(){if(zb)return ll;zb=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.PropertyCollection=void 0;const e=Z();let t=class BM{constructor(){this.privKeys=[],this.privValues=[]}getProperty(n,i){let o;typeof n=="string"?o=n:o=e.PropertyId[n];for(let l=0;l<this.privKeys.length;l++)if(this.privKeys[l]===o)return this.privValues[l];if(i!==void 0)return String(i)}setProperty(n,i){let o;typeof n=="string"?o=n:o=e.PropertyId[n];for(let l=0;l<this.privKeys.length;l++)if(this.privKeys[l]===o){this.privValues[l]=i;return}this.privKeys.push(o),this.privValues.push(i)}clone(){const n=new BM;for(let i=0;i<this.privKeys.length;i++)n.privKeys.push(this.privKeys[i]),n.privValues.push(this.privValues[i]);return n}mergeTo(n){this.privKeys.forEach(i=>{if(n.getProperty(i,void 0)===void 0){const o=this.getProperty(i);n.setProperty(i,o)}})}get keys(){return this.privKeys}};return ll.PropertyCollection=t,ll}var Zg={},Mb;function TS(){return Mb||(Mb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PropertyId=void 0,(function(t){t[t.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",t[t.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",t[t.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",t[t.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",t[t.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",t[t.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",t[t.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",t[t.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",t[t.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",t[t.SpeechServiceConnection_TranslationCategoryId=9]="SpeechServiceConnection_TranslationCategoryId",t[t.SpeechServiceConnection_IntentRegion=10]="SpeechServiceConnection_IntentRegion",t[t.SpeechServiceConnection_ProxyHostName=11]="SpeechServiceConnection_ProxyHostName",t[t.SpeechServiceConnection_ProxyPort=12]="SpeechServiceConnection_ProxyPort",t[t.SpeechServiceConnection_ProxyUserName=13]="SpeechServiceConnection_ProxyUserName",t[t.SpeechServiceConnection_ProxyPassword=14]="SpeechServiceConnection_ProxyPassword",t[t.SpeechServiceConnection_RecoMode=15]="SpeechServiceConnection_RecoMode",t[t.SpeechServiceConnection_RecoLanguage=16]="SpeechServiceConnection_RecoLanguage",t[t.Speech_SessionId=17]="Speech_SessionId",t[t.SpeechServiceConnection_SynthLanguage=18]="SpeechServiceConnection_SynthLanguage",t[t.SpeechServiceConnection_SynthVoice=19]="SpeechServiceConnection_SynthVoice",t[t.SpeechServiceConnection_SynthOutputFormat=20]="SpeechServiceConnection_SynthOutputFormat",t[t.SpeechServiceConnection_AutoDetectSourceLanguages=21]="SpeechServiceConnection_AutoDetectSourceLanguages",t[t.SpeechServiceResponse_RequestDetailedResultTrueFalse=22]="SpeechServiceResponse_RequestDetailedResultTrueFalse",t[t.SpeechServiceResponse_RequestProfanityFilterTrueFalse=23]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",t[t.SpeechServiceResponse_JsonResult=24]="SpeechServiceResponse_JsonResult",t[t.SpeechServiceResponse_JsonErrorDetails=25]="SpeechServiceResponse_JsonErrorDetails",t[t.CancellationDetails_Reason=26]="CancellationDetails_Reason",t[t.CancellationDetails_ReasonText=27]="CancellationDetails_ReasonText",t[t.CancellationDetails_ReasonDetailedText=28]="CancellationDetails_ReasonDetailedText",t[t.LanguageUnderstandingServiceResponse_JsonResult=29]="LanguageUnderstandingServiceResponse_JsonResult",t[t.SpeechServiceConnection_Url=30]="SpeechServiceConnection_Url",t[t.SpeechServiceConnection_InitialSilenceTimeoutMs=31]="SpeechServiceConnection_InitialSilenceTimeoutMs",t[t.SpeechServiceConnection_EndSilenceTimeoutMs=32]="SpeechServiceConnection_EndSilenceTimeoutMs",t[t.Speech_SegmentationSilenceTimeoutMs=33]="Speech_SegmentationSilenceTimeoutMs",t[t.Speech_SegmentationMaximumTimeMs=34]="Speech_SegmentationMaximumTimeMs",t[t.Speech_SegmentationStrategy=35]="Speech_SegmentationStrategy",t[t.SpeechServiceConnection_EnableAudioLogging=36]="SpeechServiceConnection_EnableAudioLogging",t[t.SpeechServiceConnection_LanguageIdMode=37]="SpeechServiceConnection_LanguageIdMode",t[t.SpeechServiceConnection_RecognitionEndpointVersion=38]="SpeechServiceConnection_RecognitionEndpointVersion",t[t.SpeechServiceConnection_SpeakerIdMode=39]="SpeechServiceConnection_SpeakerIdMode",t[t.SpeechServiceResponse_ProfanityOption=40]="SpeechServiceResponse_ProfanityOption",t[t.SpeechServiceResponse_PostProcessingOption=41]="SpeechServiceResponse_PostProcessingOption",t[t.SpeechServiceResponse_RequestWordLevelTimestamps=42]="SpeechServiceResponse_RequestWordLevelTimestamps",t[t.SpeechServiceResponse_StablePartialResultThreshold=43]="SpeechServiceResponse_StablePartialResultThreshold",t[t.SpeechServiceResponse_OutputFormatOption=44]="SpeechServiceResponse_OutputFormatOption",t[t.SpeechServiceResponse_TranslationRequestStablePartialResult=45]="SpeechServiceResponse_TranslationRequestStablePartialResult",t[t.SpeechServiceResponse_RequestWordBoundary=46]="SpeechServiceResponse_RequestWordBoundary",t[t.SpeechServiceResponse_RequestPunctuationBoundary=47]="SpeechServiceResponse_RequestPunctuationBoundary",t[t.SpeechServiceResponse_RequestSentenceBoundary=48]="SpeechServiceResponse_RequestSentenceBoundary",t[t.SpeechServiceResponse_DiarizeIntermediateResults=49]="SpeechServiceResponse_DiarizeIntermediateResults",t[t.Conversation_ApplicationId=50]="Conversation_ApplicationId",t[t.Conversation_DialogType=51]="Conversation_DialogType",t[t.Conversation_Initial_Silence_Timeout=52]="Conversation_Initial_Silence_Timeout",t[t.Conversation_From_Id=53]="Conversation_From_Id",t[t.Conversation_Conversation_Id=54]="Conversation_Conversation_Id",t[t.Conversation_Custom_Voice_Deployment_Ids=55]="Conversation_Custom_Voice_Deployment_Ids",t[t.Conversation_Speech_Activity_Template=56]="Conversation_Speech_Activity_Template",t[t.Conversation_Request_Bot_Status_Messages=57]="Conversation_Request_Bot_Status_Messages",t[t.Conversation_Agent_Connection_Id=58]="Conversation_Agent_Connection_Id",t[t.SpeechServiceConnection_Host=59]="SpeechServiceConnection_Host",t[t.ConversationTranslator_Host=60]="ConversationTranslator_Host",t[t.ConversationTranslator_Name=61]="ConversationTranslator_Name",t[t.ConversationTranslator_CorrelationId=62]="ConversationTranslator_CorrelationId",t[t.ConversationTranslator_Token=63]="ConversationTranslator_Token",t[t.PronunciationAssessment_ReferenceText=64]="PronunciationAssessment_ReferenceText",t[t.PronunciationAssessment_GradingSystem=65]="PronunciationAssessment_GradingSystem",t[t.PronunciationAssessment_Granularity=66]="PronunciationAssessment_Granularity",t[t.PronunciationAssessment_EnableMiscue=67]="PronunciationAssessment_EnableMiscue",t[t.PronunciationAssessment_Json=68]="PronunciationAssessment_Json",t[t.PronunciationAssessment_Params=69]="PronunciationAssessment_Params",t[t.SpeakerRecognition_Api_Version=70]="SpeakerRecognition_Api_Version",t[t.WebWorkerLoadType=71]="WebWorkerLoadType",t[t.TalkingAvatarService_WebRTC_SDP=72]="TalkingAvatarService_WebRTC_SDP"})(e.PropertyId||(e.PropertyId={}))})(Zg)),Zg}var ul={},kb;function rW(){if(kb)return ul;kb=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.Recognizer=void 0;const e=Se(),t=_e(),r=je(),n=Z();let i=class jM{constructor(l,a,u,d){this.audioConfig=l!==void 0?l:n.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=a.clone(),this.privConnectionFactory=u,this.tokenCredential=d,this.implCommonRecognizerSetup()}close(l,a){r.Contracts.throwIfDisposed(this.privDisposed),(0,t.marshalPromiseToCallbacks)(this.dispose(!0),l,a)}get internalData(){return this.privReco}async dispose(l){this.privDisposed||(this.privDisposed=!0,l&&this.privReco&&(await this.privReco.audioSource.turnOff(),await this.privReco.dispose()))}static get telemetryEnabled(){return e.ServiceRecognizerBase.telemetryDataEnabled}static enableTelemetry(l){e.ServiceRecognizerBase.telemetryDataEnabled=l}implCommonRecognizerSetup(){let l=typeof window<"u"?"Browser":"Node",a="unknown",u="unknown";typeof navigator<"u"&&(l=l+"/"+navigator.platform,a=navigator.userAgent,u=navigator.appVersion);const d=this.createRecognizerConfig(new e.SpeechServiceConfig(new e.Context(new e.OS(l,a,u))));this.privReco=this.createServiceRecognizer(jM.getAuth(this.privProperties,this.tokenCredential),this.privConnectionFactory,this.audioConfig,d)}async recognizeOnceAsyncImpl(l){r.Contracts.throwIfDisposed(this.privDisposed);const a=new t.Deferred;await this.implRecognizerStop(),await this.privReco.recognize(l,a.resolve,a.reject);const u=await a.promise;return await this.implRecognizerStop(),u}async startContinuousRecognitionAsyncImpl(l){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop(),await this.privReco.recognize(l,void 0,void 0)}async stopContinuousRecognitionAsyncImpl(){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop()}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}static getAuth(l,a){const u=l.getProperty(n.PropertyId.SpeechServiceConnection_Key,void 0);return u&&u!==""?new e.CognitiveSubscriptionKeyAuthentication(u):a?new e.CognitiveTokenAuthentication(async()=>{try{return(await a.getToken("https://cognitiveservices.azure.com/.default"))?.token??""}catch(d){throw d}},async()=>{try{return(await a.getToken("https://cognitiveservices.azure.com/.default"))?.token??""}catch(d){throw d}}):new e.CognitiveTokenAuthentication(()=>{const d=l.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(d)},()=>{const d=l.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(d)})}};return ul.Recognizer=i,ul}var dl={},ev={},Ob;function Lr(){return Ob||(Ob=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionMode=void 0,(function(t){t.Interactive="Interactive",t.Dictation="Dictation",t.Conversation="Conversation",t.None="None"})(e.RecognitionMode||(e.RecognitionMode={}))})(ev)),ev}var Db;function nW(){if(Db)return dl;Db=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.SpeechRecognizer=void 0;const e=Se(),t=Lr(),r=_e(),n=je(),i=Z();let o=class qM extends i.Recognizer{constructor(a,u){const d=a;n.Contracts.throwIfNull(d,"speechConfig"),n.Contracts.throwIfNullOrWhitespace(d.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage]),super(u,d.properties,new e.SpeechConnectionFactory,a.tokenCredential),this.privDisposedRecognizer=!1}static FromConfig(a,u,d){const m=a;return u.properties.mergeTo(m.properties),new qM(a,d)}get endpointId(){return n.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){n.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,a)}get speechRecognitionLanguage(){return n.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return n.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(e.OutputFormatPropertyName,i.OutputFormat[i.OutputFormat.Simple])===i.OutputFormat[i.OutputFormat.Simple]?i.OutputFormat.Simple:i.OutputFormat.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(a,u){(0,r.marshalPromiseToCallbacks)(this.recognizeOnceAsyncImpl(t.RecognitionMode.Interactive),a,u)}startContinuousRecognitionAsync(a,u){(0,r.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(this.properties.getProperty(e.ForceDictationPropertyName,void 0)===void 0?t.RecognitionMode.Conversation:t.RecognitionMode.Dictation),a,u)}stopContinuousRecognitionAsync(a,u){(0,r.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(),a,u)}startKeywordRecognitionAsync(a,u,d){n.Contracts.throwIfNull(a,"model"),d&&d("Not yet implemented.")}stopKeywordRecognitionAsync(a){a&&a()}close(a,u){n.Contracts.throwIfDisposed(this.privDisposedRecognizer),(0,r.marshalPromiseToCallbacks)(this.dispose(!0),a,u)}async dispose(a){this.privDisposedRecognizer||(a&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(a))}createRecognizerConfig(a){return new e.RecognizerConfig(a,this.privProperties)}createServiceRecognizer(a,u,d,m){const h=d;return new e.SpeechServiceRecognizer(a,u,h,m,this)}};return dl.SpeechRecognizer=o,dl}var pl={},Bb;function iW(){if(Bb)return pl;Bb=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.IntentRecognizer=void 0;const e=Se(),t=Lr(),r=_e(),n=je(),i=Z();let o=class extends i.Recognizer{constructor(a,u){n.Contracts.throwIfNullOrUndefined(a,"speechConfig");const d=a;n.Contracts.throwIfNullOrUndefined(d,"speechConfig"),super(u,d.properties,new e.IntentConnectionFactory),this.privAddedIntents=[],this.privAddedLmIntents={},this.privDisposedIntentRecognizer=!1,this.privProperties=d.properties,n.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage])}get speechRecognitionLanguage(){return n.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,a)}get properties(){return this.privProperties}recognizeOnceAsync(a,u){if(n.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const d=this.buildSpeechContext();this.privReco.speechContext.getContext().intent=d.Intent,this.privReco.dynamicGrammar.addReferenceGrammar(d.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}(0,r.marshalPromiseToCallbacks)(this.recognizeOnceAsyncImpl(t.RecognitionMode.Interactive),a,u)}startContinuousRecognitionAsync(a,u){if(Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const d=this.buildSpeechContext();this.privReco.speechContext.getContext().intent=d.Intent,this.privReco.dynamicGrammar.addReferenceGrammar(d.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}(0,r.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),a,u)}stopContinuousRecognitionAsync(a,u){(0,r.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(),a,u)}startKeywordRecognitionAsync(a,u,d){n.Contracts.throwIfNull(a,"model"),d&&d("Not yet implemented.")}stopKeywordRecognitionAsync(a,u){if(a)try{a()}catch(d){u&&u(d)}}addIntent(a,u){n.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),n.Contracts.throwIfNullOrWhitespace(u,"intentId"),n.Contracts.throwIfNullOrWhitespace(a,"simplePhrase"),this.privAddedIntents.push([u,a])}addIntentWithLanguageModel(a,u,d){n.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),n.Contracts.throwIfNullOrWhitespace(a,"intentId"),n.Contracts.throwIfNull(u,"model");const m=u;n.Contracts.throwIfNullOrWhitespace(m.appId,"model.appId"),this.privAddedLmIntents[a]=new e.AddedLmIntent(m,d)}addAllIntents(a,u){n.Contracts.throwIfNull(a,"model");const d=a;n.Contracts.throwIfNullOrWhitespace(d.appId,"model.appId"),this.privUmbrellaIntent=new e.AddedLmIntent(d,u)}close(a,u){n.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),(0,r.marshalPromiseToCallbacks)(this.dispose(!0),a,u)}createRecognizerConfig(a){return new e.RecognizerConfig(a,this.privProperties)}createServiceRecognizer(a,u,d,m){const h=d;return new e.IntentServiceRecognizer(a,u,h,m,this)}async dispose(a){this.privDisposedIntentRecognizer||a&&(this.privDisposedIntentRecognizer=!0,await super.dispose(a))}buildSpeechContext(){let a,u,d;const m=[];this.privUmbrellaIntent!==void 0&&(a=this.privUmbrellaIntent.modelImpl.appId,u=this.privUmbrellaIntent.modelImpl.region,d=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(const h of Object.keys(this.privAddedLmIntents)){const g=this.privAddedLmIntents[h];if(a===void 0)a=g.modelImpl.appId;else if(a!==g.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(u===void 0)u=g.modelImpl.region;else if(u!==g.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(d===void 0)d=g.modelImpl.subscriptionKey;else if(d!==g.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");const v="luis/"+a+"-PRODUCTION#"+h;m.push(v)}return{Intent:{id:a,key:d===void 0?this.privProperties.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_Key]):d,provider:"LUIS"},ReferenceGrammars:this.privUmbrellaIntent===void 0?m:["luis/"+a+"-PRODUCTION"]}}};return pl.IntentRecognizer=o,pl}var tv={},Lb;function sW(){return Lb||(Lb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceProfileType=void 0,(function(t){t[t.TextIndependentIdentification=0]="TextIndependentIdentification",t[t.TextDependentVerification=1]="TextDependentVerification",t[t.TextIndependentVerification=2]="TextIndependentVerification"})(e.VoiceProfileType||(e.VoiceProfileType={}))})(tv)),tv}var ml={},hl={},Rs={},jb;function FM(){if(jb)return Rs;jb=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.ConnectionMessageImpl=Rs.ConnectionMessage=void 0;const e=ar(),t=_e(),r=LM(),n=TS();let i=class{};Rs.ConnectionMessage=i;class o{constructor(a){this.privConnectionMessage=a,this.privProperties=new r.PropertyCollection,this.privConnectionMessage.headers[e.HeaderNames.ConnectionId]&&this.privProperties.setProperty(n.PropertyId.Speech_SessionId,this.privConnectionMessage.headers[e.HeaderNames.ConnectionId]),Object.keys(this.privConnectionMessage.headers).forEach(u=>{this.privProperties.setProperty(u,this.privConnectionMessage.headers[u])})}get path(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find(a=>a.toLowerCase()==="path".toLowerCase())]}get isTextMessage(){return this.privConnectionMessage.messageType===t.MessageType.Text}get isBinaryMessage(){return this.privConnectionMessage.messageType===t.MessageType.Binary}get TextMessage(){return this.privConnectionMessage.textBody}get binaryMessage(){return this.privConnectionMessage.binaryBody}get properties(){return this.privProperties}toString(){return""}}return Rs.ConnectionMessageImpl=o,Rs}var qb;function HM(){if(qb)return hl;qb=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.Connection=void 0;const e=Se(),t=_e(),r=FM(),n=je(),i=Z();let o=class xy{static fromRecognizer(a){const u=a.internalData,d=new xy;return d.privInternalData=u,d.setupEvents(),d}static fromSynthesizer(a){const u=a.internalData,d=new xy;return d.privInternalData=u,d.setupEvents(),d}openConnection(a,u){(0,t.marshalPromiseToCallbacks)(this.privInternalData.connect(),a,u)}closeConnection(a,u){if(this.privInternalData instanceof e.SynthesisAdapterBase)throw new Error("Disconnecting a synthesizer's connection is currently not supported");(0,t.marshalPromiseToCallbacks)(this.privInternalData.disconnect(),a,u)}setMessageProperty(a,u,d){if(n.Contracts.throwIfNullOrWhitespace(u,"propertyName"),this.privInternalData instanceof e.ServiceRecognizerBase){if(a.toLowerCase()!=="speech.context")throw new Error("Only speech.context message property sets are currently supported for recognizer");{const m=this.privInternalData.speechContext.getContext();m[u]=d}}else if(this.privInternalData instanceof e.SynthesisAdapterBase){if(a.toLowerCase()!=="speech.config"&&a.toLowerCase()!=="synthesis.context")throw new Error("Only speech.config and synthesis.context message paths are currently supported for synthesizer");if(a.toLowerCase()==="speech.config"){if(u.toLowerCase()!=="context")throw new Error("Only context property is currently supported for speech.config message path for synthesizer");this.privInternalData.synthesizerConfig.setContextFromJson(d)}else this.privInternalData.synthesisContext.setSection(u,d)}}sendMessageAsync(a,u,d,m){(0,t.marshalPromiseToCallbacks)(this.privInternalData.sendNetworkMessage(a,u),d,m)}close(){}setupEvents(){this.privEventListener=this.privInternalData.connectionEvents.attach(a=>{a.name==="ConnectionEstablishedEvent"?this.connected&&this.connected(new i.ConnectionEventArgs(a.connectionId)):a.name==="ConnectionClosedEvent"?this.disconnected&&this.disconnected(new i.ConnectionEventArgs(a.connectionId)):a.name==="ConnectionMessageSentEvent"?this.messageSent&&this.messageSent(new i.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(a.message))):a.name==="ConnectionMessageReceivedEvent"&&this.messageReceived&&this.messageReceived(new i.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(a.message)))}),this.privServiceEventListener=this.privInternalData.serviceEvents.attach(a=>{this.receivedServiceMessage&&this.receivedServiceMessage(new i.ServiceEventArgs(a.jsonString,a.name))})}};return hl.Connection=o,hl}var Fb;function oW(){if(Fb)return ml;Fb=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.TranslationRecognizer=void 0;const e=Se(),t=Lr(),r=_e(),n=HM(),i=je(),o=Z();let l=class UM extends o.Recognizer{constructor(u,d,m){const h=u;i.Contracts.throwIfNull(h,"speechConfig"),super(d,h.properties,m||new e.TranslationConnectionFactory,u.tokenCredential),this.privDisposedTranslationRecognizer=!1,this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)!==void 0&&i.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice),o.PropertyId[o.PropertyId.SpeechServiceConnection_TranslationVoice]),i.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages),o.PropertyId[o.PropertyId.SpeechServiceConnection_TranslationToLanguages]),i.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage),o.PropertyId[o.PropertyId.SpeechServiceConnection_RecoLanguage])}static FromConfig(u,d,m){const h=u;return d.properties.mergeTo(h.properties),d.properties.getProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)===e.AutoDetectSourceLanguagesOpenRangeOptionName&&h.properties.setProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),new UM(u,m)}get speechRecognitionLanguage(){return i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage)}get targetLanguages(){return i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")}get voiceName(){return i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(u){this.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,u)}recognizeOnceAsync(u,d){i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),(0,r.marshalPromiseToCallbacks)(this.recognizeOnceAsyncImpl(t.RecognitionMode.Interactive),u,d)}startContinuousRecognitionAsync(u,d){(0,r.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),u,d)}stopContinuousRecognitionAsync(u,d){(0,r.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(),u,d)}removeTargetLanguage(u){if(i.Contracts.throwIfNullOrUndefined(u,"language to be removed"),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0){const d=this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),m=d.indexOf(u);m>-1&&(d.splice(m,1),this.properties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,d.join(",")),this.updateLanguages(d))}}addTargetLanguage(u){i.Contracts.throwIfNullOrUndefined(u,"language to be added");let d=[];this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?(d=this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),d.includes(u)||(d.push(u),this.properties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,d.join(",")))):(this.properties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,u),d=[u]),this.updateLanguages(d)}close(u,d){i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),(0,r.marshalPromiseToCallbacks)(this.dispose(!0),u,d)}onConnection(){}async dispose(u){this.privDisposedTranslationRecognizer||(this.privDisposedTranslationRecognizer=!0,u&&(await this.implRecognizerStop(),await super.dispose(u)))}createRecognizerConfig(u){return new e.RecognizerConfig(u,this.privProperties)}createServiceRecognizer(u,d,m,h){const g=m;return new e.TranslationServiceRecognizer(u,d,g,h,this)}updateLanguages(u){const d=n.Connection.fromRecognizer(this);d&&(d.setMessageProperty("speech.context","translationcontext",{to:u}),d.sendMessageAsync("event",JSON.stringify({id:"translation",name:"updateLanguage",to:u})))}};return ml.TranslationRecognizer=l,ml}var fl={},Hb;function aW(){if(Hb)return fl;Hb=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.Translations=void 0;const e=Z();let t=class{constructor(){this.privMap=new e.PropertyCollection}get languages(){return this.privMap.keys}get(n,i){return this.privMap.getProperty(n,i)}set(n,i){this.privMap.setProperty(n,i)}};return fl.Translations=t,fl}var rv={},Ub;function cW(){return Ub||(Ub=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NoMatchReason=void 0,(function(t){t[t.NotRecognized=0]="NotRecognized",t[t.InitialSilenceTimeout=1]="InitialSilenceTimeout",t[t.InitialBabbleTimeout=2]="InitialBabbleTimeout"})(e.NoMatchReason||(e.NoMatchReason={}))})(rv)),rv}var gl={},$b;function lW(){if($b)return gl;$b=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.NoMatchDetails=void 0;const e=Se(),t=Z();let r=class $M{constructor(i){this.privReason=i}static fromResult(i){const o=e.SimpleSpeechPhrase.fromJSON(i.json,0);let l=t.NoMatchReason.NotRecognized;switch(o.RecognitionStatus){case e.RecognitionStatus.BabbleTimeout:l=t.NoMatchReason.InitialBabbleTimeout;break;case e.RecognitionStatus.InitialSilenceTimeout:l=t.NoMatchReason.InitialSilenceTimeout;break;default:l=t.NoMatchReason.NotRecognized;break}return new $M(l)}get reason(){return this.privReason}};return gl.NoMatchDetails=r,gl}var vl={},Wb;function uW(){if(Wb)return vl;Wb=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.TranslationRecognitionCanceledEventArgs=void 0;let e=class{constructor(r,n,i,o,l){this.privCancelReason=n,this.privErrorDetails=i,this.privResult=l,this.privSessionId=r,this.privErrorCode=o}get result(){return this.privResult}get sessionId(){return this.privSessionId}get reason(){return this.privCancelReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return vl.TranslationRecognitionCanceledEventArgs=e,vl}var yl={},Vb;function dW(){if(Vb)return yl;Vb=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.IntentRecognitionCanceledEventArgs=void 0;const e=Z();let t=class extends e.IntentRecognitionEventArgs{constructor(n,i,o,l,a,u){super(l,a,u),this.privReason=n,this.privErrorDetails=i,this.privErrorCode=o}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return yl.IntentRecognitionCanceledEventArgs=t,yl}var Sl={},Kb;function WM(){if(Kb)return Sl;Kb=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.CancellationDetailsBase=void 0;let e=class{constructor(r,n,i){this.privReason=r,this.privErrorDetails=n,this.privErrorCode=i}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get ErrorCode(){return this.privErrorCode}};return Sl.CancellationDetailsBase=e,Sl}var Cl={},Gb;function pW(){if(Gb)return Cl;Gb=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.CancellationDetails=void 0;const e=Se(),t=WM(),r=Z();let n=class VM extends t.CancellationDetailsBase{constructor(o,l,a){super(o,l,a)}static fromResult(o){let l=r.CancellationReason.Error,a=r.CancellationErrorCode.NoError;if(o instanceof r.RecognitionResult&&o.json){const u=e.SimpleSpeechPhrase.fromJSON(o.json,0);l=e.EnumTranslation.implTranslateCancelResult(u.RecognitionStatus)}return o.properties&&(a=r.CancellationErrorCode[o.properties.getProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new VM(l,o.errorDetails||e.EnumTranslation.implTranslateErrorDetails(a),a)}};return Cl.CancellationDetails=n,Cl}var nv={},Jb;function mW(){return Jb||(Jb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationErrorCode=void 0,(function(t){t[t.NoError=0]="NoError",t[t.AuthenticationFailure=1]="AuthenticationFailure",t[t.BadRequestParameters=2]="BadRequestParameters",t[t.TooManyRequests=3]="TooManyRequests",t[t.ConnectionFailure=4]="ConnectionFailure",t[t.ServiceTimeout=5]="ServiceTimeout",t[t.ServiceError=6]="ServiceError",t[t.RuntimeError=7]="RuntimeError",t[t.Forbidden=8]="Forbidden"})(e.CancellationErrorCode||(e.CancellationErrorCode={}))})(nv)),nv}var xl={},Qb;function hW(){if(Qb)return xl;Qb=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.ConnectionEventArgs=void 0;const e=Z();let t=class extends e.SessionEventArgs{};return xl.ConnectionEventArgs=t,xl}var Pl={},Xb;function fW(){if(Xb)return Pl;Xb=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.ServiceEventArgs=void 0;const e=Z();let t=class extends e.SessionEventArgs{constructor(n,i,o){super(o),this.privJsonResult=n,this.privEventName=i}get jsonString(){return this.privJsonResult}get eventName(){return this.privEventName}};return Pl.ServiceEventArgs=t,Pl}var Rl={},Yb;function gW(){if(Yb)return Rl;Yb=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.PhraseListGrammar=void 0;const e=je();let t=class KM{constructor(n){this.privGrammerBuilder=n.dynamicGrammar}static fromRecognizer(n){const i=n.internalData;return new KM(i)}addPhrase(n){this.privGrammerBuilder.addPhrase(n)}addPhrases(n){this.privGrammerBuilder.addPhrase(n)}clear(){this.privGrammerBuilder.clearPhrases()}setWeight(n){e.Contracts.throwIfNumberOutOfRange(n,"weight",0,2),this.privGrammerBuilder.setWeight(n)}};return Rl.PhraseListGrammar=t,Rl}var ws={},Zb;function IS(){if(Zb)return ws;Zb=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.DialogServiceConfigImpl=ws.DialogServiceConfig=void 0;const e=je(),t=Z();let r=class{constructor(){}set applicationId(o){}static get DialogTypes(){return{BotFramework:"bot_framework",CustomCommands:"custom_commands"}}};ws.DialogServiceConfig=r;class n extends r{constructor(){super(),this.privSpeechConfig=new t.SpeechConfigImpl}get properties(){return this.privSpeechConfig.properties}get speechRecognitionLanguage(){return this.privSpeechConfig.speechRecognitionLanguage}set speechRecognitionLanguage(o){e.Contracts.throwIfNullOrWhitespace(o,"value"),this.privSpeechConfig.speechRecognitionLanguage=o}get outputFormat(){return this.privSpeechConfig.outputFormat}set outputFormat(o){this.privSpeechConfig.outputFormat=o}setProperty(o,l){this.privSpeechConfig.setProperty(o,l)}getProperty(o,l){return this.privSpeechConfig.getProperty(o)}setProxy(o,l,a,u){this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyHostName,o),this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyPort,`${l}`),a&&this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyUserName,a),u&&this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyPassword,u)}setServiceProperty(o,l,a){this.privSpeechConfig.setServiceProperty(o,l)}close(){}}return ws.DialogServiceConfigImpl=n,ws}var wl={},eN;function vW(){if(eN)return wl;eN=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.BotFrameworkConfig=void 0;const e=je(),t=IS(),r=Z();let n=class extends t.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(o,l,a){e.Contracts.throwIfNullOrWhitespace(o,"subscription"),e.Contracts.throwIfNullOrWhitespace(l,"region");const u=new t.DialogServiceConfigImpl;return u.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),u.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),u.setProperty(r.PropertyId.SpeechServiceConnection_Region,l),a&&u.setProperty(r.PropertyId.Conversation_ApplicationId,a),u}static fromAuthorizationToken(o,l,a){e.Contracts.throwIfNullOrWhitespace(o,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(l,"region");const u=new t.DialogServiceConfigImpl;return u.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),u.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o),u.setProperty(r.PropertyId.SpeechServiceConnection_Region,l),a&&u.setProperty(r.PropertyId.Conversation_ApplicationId,a),u}static fromHost(o,l,a){e.Contracts.throwIfNullOrUndefined(o,"host");const u=o instanceof URL?o:new URL(`wss://${o}.convai.speech.azure.us`);e.Contracts.throwIfNullOrUndefined(u,"resolvedHost");const d=new t.DialogServiceConfigImpl;return d.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),d.setProperty(r.PropertyId.SpeechServiceConnection_Host,u.toString()),l!==void 0&&d.setProperty(r.PropertyId.SpeechServiceConnection_Key,l),d}static fromEndpoint(o,l){e.Contracts.throwIfNull(o,"endpoint");const a=new t.DialogServiceConfigImpl;return a.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),a.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,o.toString()),l!==void 0&&a.setProperty(r.PropertyId.SpeechServiceConnection_Key,l),a}};return wl.BotFrameworkConfig=n,wl}var bl={},tN;function yW(){if(tN)return bl;tN=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.CustomCommandsConfig=void 0;const e=je(),t=IS(),r=Z();let n=class extends t.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(o,l,a){e.Contracts.throwIfNullOrWhitespace(o,"applicationId"),e.Contracts.throwIfNullOrWhitespace(l,"subscription"),e.Contracts.throwIfNullOrWhitespace(a,"region");const u=new t.DialogServiceConfigImpl;return u.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.CustomCommands),u.setProperty(r.PropertyId.Conversation_ApplicationId,o),u.setProperty(r.PropertyId.SpeechServiceConnection_Key,l),u.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),u}static fromAuthorizationToken(o,l,a){e.Contracts.throwIfNullOrWhitespace(o,"applicationId"),e.Contracts.throwIfNullOrWhitespace(l,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(a,"region");const u=new t.DialogServiceConfigImpl;return u.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.CustomCommands),u.setProperty(r.PropertyId.Conversation_ApplicationId,o),u.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,l),u.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),u}set applicationId(o){e.Contracts.throwIfNullOrWhitespace(o,"value"),this.setProperty(r.PropertyId.Conversation_ApplicationId,o)}get applicationId(){return this.getProperty(r.PropertyId.Conversation_ApplicationId)}};return bl.CustomCommandsConfig=n,bl}var Nl={},El={},Tl={},Il={},rN;function Wi(){if(rN)return Il;rN=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.QueryParameterNames=void 0;let e=class{};return Il.QueryParameterNames=e,e.BotId="botid",e.CustomSpeechDeploymentId="cid",e.CustomVoiceDeploymentId="deploymentId",e.EnableAudioLogging="storeAudio",e.EnableLanguageId="lidEnabled",e.EnableWordLevelTimestamps="wordLevelTimestamps",e.EndSilenceTimeoutMs="endSilenceTimeoutMs",e.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs",e.SegmentationMaximumTimeMs="segmentationMaximumTimeMs",e.SegmentationStrategy="segmentationStrategy",e.Format="format",e.InitialSilenceTimeoutMs="initialSilenceTimeoutMs",e.Language="language",e.Profanity="profanity",e.RequestBotStatusMessages="enableBotMessageStatus",e.StableIntermediateThreshold="stableIntermediateThreshold",e.StableTranslation="stableTranslation",e.TestHooks="testhooks",e.Postprocessing="postprocessing",e.CtsMeetingId="meetingId",e.CtsDeviceId="deviceId",e.CtsIsParticipant="isParticipant",e.EnableAvatar="enableTalkingAvatar",Il}var nN;function sn(){if(nN)return Tl;nN=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.ConnectionFactoryBase=void 0;const e=Se(),t=_e(),r=Z(),n=Wi();let i=class{static getHostSuffix(l){if(l){if(l.toLowerCase().startsWith("china"))return".azure.cn";if(l.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}setCommonUrlParams(l,a,u){new Map([[r.PropertyId.Speech_SegmentationSilenceTimeoutMs,n.QueryParameterNames.SegmentationSilenceTimeoutMs],[r.PropertyId.SpeechServiceConnection_EnableAudioLogging,n.QueryParameterNames.EnableAudioLogging],[r.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,n.QueryParameterNames.EndSilenceTimeoutMs],[r.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,n.QueryParameterNames.InitialSilenceTimeoutMs],[r.PropertyId.SpeechServiceResponse_PostProcessingOption,n.QueryParameterNames.Postprocessing],[r.PropertyId.SpeechServiceResponse_ProfanityOption,n.QueryParameterNames.Profanity],[r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,n.QueryParameterNames.EnableWordLevelTimestamps],[r.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,n.QueryParameterNames.StableIntermediateThreshold]]).forEach((h,g)=>{this.setUrlParameter(g,h,l,a,u)});const m=JSON.parse(l.parameters.getProperty(e.ServicePropertiesPropertyName,"{}"));Object.keys(m).forEach(h=>{a[h]=m[h]})}setUrlParameter(l,a,u,d,m){const h=u.parameters.getProperty(l,void 0);h&&(!m||m.search(a)===-1)&&(d[a]=h.toLocaleLowerCase())}static async getRedirectUrlFromEndpoint(l){const a=new URL(l);a.protocol="https:",a.port="443",a.searchParams.append("GenerateRedirectResponse","true");const d=a.toString();t.Events.instance.onEvent(new t.ConnectionRedirectEvent("",d,void 0,"ConnectionFactoryBase: redirectUrl request"));const m=await fetch(d);if(m.status!==200)return l;const h=await m.text();t.Events.instance.onEvent(new t.ConnectionRedirectEvent("",h,l,"ConnectionFactoryBase: redirectUrlString"));try{return new URL(h.trim()).toString()}catch{return l}}};return Tl.ConnectionFactoryBase=i,Tl}var iN;function SW(){if(iN)return El;iN=1,Object.defineProperty(El,"__esModule",{value:!0}),El.DialogConnectionFactory=void 0;const e=Wt(),t=Se(),r=Z(),n=sn(),i=Se(),o=ar(),l=Wi();class a extends n.ConnectionFactoryBase{create(d,m,h){const g=d.parameters.getProperty(r.PropertyId.Conversation_ApplicationId,""),v=d.parameters.getProperty(r.PropertyId.Conversation_DialogType),x=d.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),C=d.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),w=d.parameters.getProperty(r.PropertyId.Conversation_Request_Bot_Status_Messages,"true"),R={};R[o.HeaderNames.ConnectionId]=h,R[l.QueryParameterNames.Format]=d.parameters.getProperty(t.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase(),R[l.QueryParameterNames.Language]=C,R[l.QueryParameterNames.RequestBotStatusMessages]=w,g&&(R[l.QueryParameterNames.BotId]=g,v===r.DialogServiceConfig.DialogTypes.CustomCommands&&(R[o.HeaderNames.CustomCommandsAppId]=g));const b=v===r.DialogServiceConfig.DialogTypes.CustomCommands?"commands/":"",N=v===r.DialogServiceConfig.DialogTypes.CustomCommands?"v1":v===r.DialogServiceConfig.DialogTypes.BotFramework?"v3":"v0",T={};m.token!=null&&m.token!==""&&(T[m.headerName]=m.token);let A=d.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,"");if(!A){const M=n.ConnectionFactoryBase.getHostSuffix(x),z=d.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,`wss://${x}.${a.BaseUrl}${M}`);A=`${z.endsWith("/")?z:z+"/"}${b}${a.ApiKey}/${N}`}this.setCommonUrlParams(d,R,A);const k=d.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return Promise.resolve(new e.WebsocketConnection(A,R,T,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(d),k,h))}}return El.DialogConnectionFactory=a,a.ApiKey="api",a.BaseUrl="convai.speech",El}var sN;function CW(){if(sN)return Nl;sN=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.DialogServiceConnector=void 0;const e=SW(),t=Se(),r=Lr(),n=_e(),i=je(),o=Z(),l=TS();let a=class extends o.Recognizer{constructor(d,m){const h=d;i.Contracts.throwIfNull(d,"dialogConfig"),super(m,h.properties,new e.DialogConnectionFactory),this.isTurnComplete=!0,this.privIsDisposed=!1,this.privProperties=h.properties.clone();const g=this.buildAgentConfig();this.privReco.agentConfig.set(g)}connect(d,m){(0,n.marshalPromiseToCallbacks)(this.privReco.connect(),d,m)}disconnect(d,m){(0,n.marshalPromiseToCallbacks)(this.privReco.disconnect(),d,m)}get authorizationToken(){return this.properties.getProperty(l.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(d){i.Contracts.throwIfNullOrWhitespace(d,"token"),this.properties.setProperty(l.PropertyId.SpeechServiceAuthorization_Token,d)}get properties(){return this.privProperties}get speechActivityTemplate(){return this.properties.getProperty(l.PropertyId.Conversation_Speech_Activity_Template)}set speechActivityTemplate(d){this.properties.setProperty(l.PropertyId.Conversation_Speech_Activity_Template,d)}listenOnceAsync(d,m){if(this.isTurnComplete){i.Contracts.throwIfDisposed(this.privIsDisposed);const g=(async()=>{await this.privReco.connect(),await this.implRecognizerStop(),this.isTurnComplete=!1;const v=new n.Deferred;await this.privReco.recognize(r.RecognitionMode.Conversation,v.resolve,v.reject);const x=await v.promise;return await this.implRecognizerStop(),x})();g.catch(()=>{this.dispose(!0).catch(()=>{})}),(0,n.marshalPromiseToCallbacks)(g.finally(()=>{this.isTurnComplete=!0}),d,m)}}sendActivityAsync(d,m,h){(0,n.marshalPromiseToCallbacks)(this.privReco.sendMessage(d),m,h)}close(d,m){i.Contracts.throwIfDisposed(this.privIsDisposed),(0,n.marshalPromiseToCallbacks)(this.dispose(!0),d,m)}async dispose(d){this.privIsDisposed||d&&(this.privIsDisposed=!0,await this.implRecognizerStop(),await super.dispose(d))}createRecognizerConfig(d){return new t.RecognizerConfig(d,this.privProperties)}createServiceRecognizer(d,m,h,g){const v=h;return new t.DialogServiceAdapter(d,m,v,g,this)}buildAgentConfig(){return{botInfo:{commType:this.properties.getProperty("Conversation_Communication_Type","Default"),commandsCulture:void 0,connectionId:this.properties.getProperty(l.PropertyId.Conversation_Agent_Connection_Id),conversationId:this.properties.getProperty(l.PropertyId.Conversation_Conversation_Id,void 0),fromId:this.properties.getProperty(l.PropertyId.Conversation_From_Id,void 0),ttsAudioFormat:this.properties.getProperty(l.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)},version:.2}}};return Nl.DialogServiceConnector=a,Nl}var Al={},oN;function xW(){if(oN)return Al;oN=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.ActivityReceivedEventArgs=void 0;let e=class{constructor(r,n){this.privActivity=r,this.privAudioStream=n}get activity(){return this.privActivity}get audioStream(){return this.privAudioStream}};return Al.ActivityReceivedEventArgs=e,Al}var _l={},zl={},aN;function PW(){if(aN)return zl;aN=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.TurnStatusResponsePayload=void 0;class e{constructor(r){this.privMessageStatusResponse=JSON.parse(r)}static fromJSON(r){return new e(r)}get interactionId(){return this.privMessageStatusResponse.interactionId}get conversationId(){return this.privMessageStatusResponse.conversationId}get statusCode(){switch(this.privMessageStatusResponse.statusCode){case"Success":return 200;case"Failed":return 400;case"TimedOut":return 429;default:return this.privMessageStatusResponse.statusCode}}}return zl.TurnStatusResponsePayload=e,zl}var cN;function RW(){if(cN)return _l;cN=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.TurnStatusReceivedEventArgs=void 0;const e=PW();let t=class{constructor(n){this.privTurnStatus=e.TurnStatusResponsePayload.fromJSON(n)}get interactionId(){return this.privTurnStatus.interactionId}get conversationId(){return this.privTurnStatus.conversationId}get statusCode(){return this.privTurnStatus.statusCode}};return _l.TurnStatusReceivedEventArgs=t,_l}var iv={},lN;function wW(){return lN||(lN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServicePropertyChannel=void 0,(function(t){t[t.UriQueryParameter=0]="UriQueryParameter"})(e.ServicePropertyChannel||(e.ServicePropertyChannel={}))})(iv)),iv}var sv={},uN;function bW(){return uN||(uN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProfanityOption=void 0,(function(t){t[t.Masked=0]="Masked",t[t.Removed=1]="Removed",t[t.Raw=2]="Raw"})(e.ProfanityOption||(e.ProfanityOption={}))})(sv)),sv}var Ml={},dN;function NW(){if(dN)return Ml;dN=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.BaseAudioPlayer=void 0;const e=Tn(),t=Z(),r=no();let n=class{constructor(o){this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,o===void 0&&(o=t.AudioStreamFormat.getDefaultInputFormat()),this.init(o)}playAudioSample(o,l,a){try{this.ensureInitializedContext();const u=this.formatAudioData(o),d=new Float32Array(this.samples.length+u.length);d.set(this.samples,0),d.set(u,this.samples.length),this.samples=d,l&&l()}catch(u){a&&a(u)}}stopAudio(o,l){this.audioContext!==null&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close().then(()=>{o&&o()},a=>{l&&l(a)}),this.audioContext=null)}init(o){this.audioFormat=o,this.samples=new Float32Array}ensureInitializedContext(){if(this.audioContext===null){this.createAudioContext();const o=200;this.autoUpdateBufferTimer=setInterval(()=>{this.updateAudioBuffer()},o)}}createAudioContext(){this.audioContext=r.AudioStreamFormatImpl.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime}formatAudioData(o){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(o),128);case 16:return this.formatArrayBuffer(new Int16Array(o),32768);case 32:return this.formatArrayBuffer(new Int32Array(o),2147483648);default:throw new e.InvalidOperationError("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}}formatArrayBuffer(o,l){const a=new Float32Array(o.length);for(let u=0;u<o.length;u++)a[u]=o[u]/l;return a}updateAudioBuffer(){if(this.samples.length===0)return;const o=this.audioFormat.channels,l=this.audioContext.createBufferSource(),a=this.samples.length/o,u=this.audioContext.createBuffer(o,a,this.audioFormat.samplesPerSec);for(let d=0;d<o;d++){let m=d;const h=u.getChannelData(d);for(let g=0;g<this.samples.length;g++,m+=o)h[g]=this.samples[m]}this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),l.buffer=u,l.connect(this.gainNode),l.start(this.startTime),this.startTime+=u.duration,this.samples=new Float32Array}async playAudio(o){this.audioContext===null&&this.createAudioContext();const l=this.audioContext.createBufferSource(),a=this.audioContext.destination;await this.audioContext.decodeAudioData(o,u=>{l.buffer=u,l.connect(a),l.start(0)})}};return Ml.BaseAudioPlayer=n,Ml}var kl={},pN;function EW(){if(pN)return kl;pN=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.ConnectionMessageEventArgs=void 0;let e=class{constructor(r){this.privConnectionMessage=r}get message(){return this.privConnectionMessage}toString(){return"Message: "+this.privConnectionMessage.toString()}};return kl.ConnectionMessageEventArgs=e,kl}var Ol={},mN;function TW(){if(mN)return Ol;mN=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.VoiceProfile=void 0;let e=class{constructor(r,n){this.privId=r,this.privProfileType=n}get profileId(){return this.privId}get profileType(){return this.privProfileType}};return Ol.VoiceProfile=e,Ol}var bs={},hN;function IW(){if(hN)return bs;hN=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.VoiceProfileEnrollmentCancellationDetails=bs.VoiceProfileEnrollmentResult=void 0;const e=Se(),t=Z();let r=class Py{constructor(o,l,a){this.privReason=o,this.privProperties=new t.PropertyCollection,this.privReason!==t.ResultReason.Canceled?l&&(this.privDetails=JSON.parse(l),this.privDetails.enrollmentStatus.toLowerCase()==="enrolling"&&(this.privReason=t.ResultReason.EnrollingVoiceProfile)):(this.privErrorDetails=a,this.privProperties.setProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[t.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get enrollmentsCount(){return this.privDetails.enrollmentsCount}get enrollmentsLength(){return this.privDetails.enrollmentsLength}get properties(){return this.privProperties}get enrollmentResultDetails(){return this.privDetails}get errorDetails(){return this.privErrorDetails}static FromIdentificationProfileList(o){const l=[];for(const a of o.value){const u=a.enrollmentStatus.toLowerCase()==="enrolling"?t.ResultReason.EnrollingVoiceProfile:a.enrollmentStatus.toLowerCase()==="enrolled"?t.ResultReason.EnrolledVoiceProfile:t.ResultReason.Canceled,d=new Py(u,null,null);d.privDetails=this.getIdentificationDetails(a),l.push(d)}return l}static FromVerificationProfileList(o){const l=[];for(const a of o.value){const u=a.enrollmentStatus.toLowerCase()==="enrolling"?t.ResultReason.EnrollingVoiceProfile:a.enrollmentStatus.toLowerCase()==="enrolled"?t.ResultReason.EnrolledVoiceProfile:t.ResultReason.Canceled,d=new Py(u,null,null);d.privDetails=this.getVerificationDetails(a),l.push(d)}return l}static getIdentificationDetails(o){return{audioLength:o.audioLength?parseFloat(o.audioLength):0,audioSpeechLength:o.audioSpeechLength?parseFloat(o.audioSpeechLength):0,enrollmentStatus:o.enrollmentStatus,enrollmentsCount:o.enrollmentsCount||0,enrollmentsLength:o.enrollmentsLength?parseFloat(o.enrollmentsLength):0,enrollmentsSpeechLength:o.enrollmentsSpeechLength?parseFloat(o.enrollmentsSpeechLength):0,profileId:o.profileId||o.identificationProfileId,remainingEnrollmentsSpeechLength:o.remainingEnrollmentsSpeechLength?parseFloat(o.remainingEnrollmentsSpeechLength):0}}static getVerificationDetails(o){return{audioLength:o.audioLength?parseFloat(o.audioLength):0,audioSpeechLength:o.audioSpeechLength?parseFloat(o.audioSpeechLength):0,enrollmentStatus:o.enrollmentStatus,enrollmentsCount:o.enrollmentsCount,enrollmentsLength:o.enrollmentsLength?parseFloat(o.enrollmentsLength):0,enrollmentsSpeechLength:o.enrollmentsSpeechLength?parseFloat(o.enrollmentsSpeechLength):0,profileId:o.profileId||o.verificationProfileId,remainingEnrollmentsCount:o.remainingEnrollments||o.remainingEnrollmentsCount,remainingEnrollmentsSpeechLength:o.remainingEnrollmentsSpeechLength?parseFloat(o.remainingEnrollmentsSpeechLength):0}}};bs.VoiceProfileEnrollmentResult=r;class n extends t.CancellationDetailsBase{constructor(o,l,a){super(o,l,a)}static fromResult(o){const l=t.CancellationReason.Error;let a=t.CancellationErrorCode.NoError;return o.properties&&(a=t.CancellationErrorCode[o.properties.getProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[t.CancellationErrorCode.NoError])]),new n(l,o.errorDetails,a)}}return bs.VoiceProfileEnrollmentCancellationDetails=n,bs}var Ns={},fN;function AW(){if(fN)return Ns;fN=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.VoiceProfileCancellationDetails=Ns.VoiceProfileResult=void 0;const e=Se(),t=je(),r=Z();let n=class{constructor(l,a){this.privReason=l,this.privProperties=new r.PropertyCollection,l===r.ResultReason.Canceled&&(t.Contracts.throwIfNullOrUndefined(a,"statusText"),this.privErrorDetails=a,this.privProperties.setProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get properties(){return this.privProperties}get errorDetails(){return this.privErrorDetails}};Ns.VoiceProfileResult=n;class i extends r.CancellationDetailsBase{constructor(l,a,u){super(l,a,u)}static fromResult(l){const a=r.CancellationReason.Error;let u=r.CancellationErrorCode.NoError;return l.properties&&(u=r.CancellationErrorCode[l.properties.getProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new i(a,l.errorDetails,u)}}return Ns.VoiceProfileCancellationDetails=i,Ns}var Dl={},gN;function _W(){if(gN)return Dl;gN=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.VoiceProfilePhraseResult=void 0;const e=je(),t=Z();let r=class extends t.VoiceProfileResult{constructor(i,o,l,a){super(i,o),this.privPhrases=[],e.Contracts.throwIfNullOrUndefined(a,"phrase array"),this.privType=l,a&&a[0]&&(this.privPhrases=a)}get phrases(){return this.privPhrases}get type(){return this.privType}};return Dl.VoiceProfilePhraseResult=r,Dl}var Bl={},vN;function zW(){if(vN)return Bl;vN=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.VoiceProfileClient=void 0;const e=Se(),t=kM(),r=je(),n=Z();let i=class extends n.Recognizer{constructor(l){r.Contracts.throwIfNullOrUndefined(l,"speechConfig");const a=l;r.Contracts.throwIfNull(a,"speechConfig"),super(t.AudioConfig.fromStreamInput(n.AudioInputStream.createPushStream()),a.properties,new e.VoiceProfileConnectionFactory),this.privProperties=a.properties.clone(),this.privVoiceAdapter=this.privReco,this.privDisposedVoiceAdapter=!1}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(l){r.Contracts.throwIfNullOrWhitespace(l,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,l)}async createProfileAsync(l,a){const u=await this.privVoiceAdapter.createProfile(l,a);return new n.VoiceProfile(u[0],l)}async retrieveEnrollmentResultAsync(l){return this.privVoiceAdapter.retrieveEnrollmentResult(l)}async getAllProfilesAsync(l){return this.privVoiceAdapter.getAllProfiles(l)}async getActivationPhrasesAsync(l,a){return this.privVoiceAdapter.getActivationPhrases(l,a)}async enrollProfileAsync(l,a){const u=a;return r.Contracts.throwIfNullOrUndefined(u,"audioConfig"),this.audioConfig=a,this.privVoiceAdapter.SpeakerAudioSource=u,this.privVoiceAdapter.enrollProfile(l)}async deleteProfileAsync(l){return this.privVoiceAdapter.deleteProfile(l)}async resetProfileAsync(l){return this.privVoiceAdapter.resetProfile(l)}async close(){await this.dispose(!0)}createServiceRecognizer(l,a,u,d){const m=u;return new e.VoiceServiceRecognizer(l,a,m,d,this)}async dispose(l){this.privDisposedVoiceAdapter||(this.privDisposedVoiceAdapter=!0,l&&await super.dispose(l))}createRecognizerConfig(l){return new e.RecognizerConfig(l,this.properties)}getResult(l,a){return new n.VoiceProfileResult(l.ok?a:n.ResultReason.Canceled,l.statusText)}};return Bl.VoiceProfileClient=i,Bl}var Ll={},yN;function MW(){if(yN)return Ll;yN=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.SpeakerRecognizer=void 0;const e=Se(),t=je(),r=Z();let n=class extends r.Recognizer{constructor(o,l){t.Contracts.throwIfNullOrUndefined(o,"speechConfig");const a=o;t.Contracts.throwIfNullOrUndefined(a,"speechConfig"),super(l,a.properties,new e.SpeakerRecognitionConnectionFactory),this.privAudioConfigImpl=l,t.Contracts.throwIfNull(this.privAudioConfigImpl,"audioConfig"),this.privDisposedSpeakerRecognizer=!1,this.privProperties=a.properties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){t.Contracts.throwIfNullOrWhitespace(o,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o)}get properties(){return this.privProperties}async recognizeOnceAsync(o){return t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),this.recognizeSpeakerOnceAsyncImpl(o)}async close(){t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.dispose(!0)}async recognizeSpeakerOnceAsyncImpl(o){t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.implRecognizerStop();const l=await this.privReco.recognizeSpeaker(o);return await this.implRecognizerStop(),l}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}createRecognizerConfig(o){return new e.RecognizerConfig(o,this.privProperties)}createServiceRecognizer(o,l,a,u){const d=a;return new e.SpeakerServiceRecognizer(o,l,d,u,this)}async dispose(o){this.privDisposedSpeakerRecognizer||o&&(this.privDisposedSpeakerRecognizer=!0,await super.dispose(o))}};return Ll.SpeakerRecognizer=n,Ll}var jl={},SN;function kW(){if(SN)return jl;SN=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.SpeakerIdentificationModel=void 0;const e=je(),t=Z();let r=class GM{constructor(i){if(this.privVoiceProfiles=[],this.privProfileIds=[],e.Contracts.throwIfNullOrUndefined(i,"VoiceProfiles"),i.length===0)throw new Error("Empty Voice Profiles array");for(const o of i){if(o.profileType!==t.VoiceProfileType.TextIndependentIdentification)throw new Error("Identification model can only be created from Identification profile: "+o.profileId);this.privVoiceProfiles.push(o),this.privProfileIds.push(o.profileId)}}static fromProfiles(i){return new GM(i)}get voiceProfileIds(){return this.privProfileIds.join(",")}get profileIds(){return this.privProfileIds}get scenario(){return"TextIndependentIdentification"}};return jl.SpeakerIdentificationModel=r,jl}var ql={},CN;function OW(){if(CN)return ql;CN=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.SpeakerVerificationModel=void 0;const e=je(),t=Z();let r=class JM{constructor(i){if(e.Contracts.throwIfNullOrUndefined(i,"VoiceProfile"),i.profileType===t.VoiceProfileType.TextIndependentIdentification)throw new Error("Verification model cannot be created from Identification profile");this.privVoiceProfile=i}static fromProfile(i){return new JM(i)}get voiceProfile(){return this.privVoiceProfile}get profileIds(){return[this.voiceProfile.profileId]}get scenario(){return this.voiceProfile.profileType===t.VoiceProfileType.TextDependentVerification?"TextDependentVerification":"TextIndependentVerification"}};return ql.SpeakerVerificationModel=r,ql}var Fl={},ov={},xN;function QM(){return xN||(xN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageIdMode=void 0,(function(t){t[t.AtStart=0]="AtStart",t[t.Continuous=1]="Continuous"})(e.LanguageIdMode||(e.LanguageIdMode={}))})(ov)),ov}var PN;function DW(){if(PN)return Fl;PN=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.AutoDetectSourceLanguageConfig=void 0;const e=Se(),t=je(),r=Z(),n=QM();let i=class Rm{constructor(){this.privProperties=new r.PropertyCollection,this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart"),this.privLanguageIdMode=n.LanguageIdMode.AtStart}static fromOpenRange(){const l=new Rm;return l.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,e.AutoDetectSourceLanguagesOpenRangeOptionName),l.properties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),l}static fromLanguages(l){t.Contracts.throwIfArrayEmptyOrWhitespace(l,"languages");const a=new Rm;return a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,l.join()),a}static fromSourceLanguageConfigs(l){if(l.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");const a=new Rm,u=[];return l.forEach(d=>{if(u.push(d.language),d.endpointId!==void 0&&d.endpointId!==""){const m=d.language+r.PropertyId.SpeechServiceConnection_EndpointId.toString();a.properties.setProperty(m,d.endpointId)}}),a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,u.join()),a}get properties(){return this.privProperties}set mode(l){l===n.LanguageIdMode.Continuous?(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"Continuous")):(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"1"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart")),this.privLanguageIdMode=l}};return Fl.AutoDetectSourceLanguageConfig=i,Fl}var Hl={},RN;function BW(){if(RN)return Hl;RN=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.AutoDetectSourceLanguageResult=void 0;const e=je();let t=class Ry{constructor(n,i){e.Contracts.throwIfNullOrUndefined(n,"language"),e.Contracts.throwIfNullOrUndefined(i,"languageDetectionConfidence"),this.privLanguage=n,this.privLanguageDetectionConfidence=i}static fromResult(n){return new Ry(n.language,n.languageDetectionConfidence)}static fromConversationTranscriptionResult(n){return new Ry(n.language,n.languageDetectionConfidence)}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}};return Hl.AutoDetectSourceLanguageResult=t,Hl}var Ul={},wN;function LW(){if(wN)return Ul;wN=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.SourceLanguageConfig=void 0;const e=je();let t=class XM{constructor(n,i){e.Contracts.throwIfNullOrUndefined(n,"language"),this.privLanguage=n,this.privEndpointId=i}static fromLanguage(n,i){return new XM(n,i)}get language(){return this.privLanguage}get endpointId(){return this.privEndpointId}};return Ul.SourceLanguageConfig=t,Ul}var av={},bN;function jW(){return bN||(bN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeakerRecognitionCancellationDetails=e.SpeakerRecognitionResult=e.SpeakerRecognitionResultType=void 0;const t=Se(),r=Z();var n;(function(l){l[l.Verify=0]="Verify",l[l.Identify=1]="Identify"})(n=e.SpeakerRecognitionResultType||(e.SpeakerRecognitionResultType={}));class i{constructor(a,u=r.ResultReason.RecognizedSpeaker,d=r.CancellationErrorCode.NoError,m=""){this.privProperties=new r.PropertyCollection;const h=a.scenario==="TextIndependentIdentification"?n.Identify:n.Verify;this.privReason=u,this.privReason!==r.ResultReason.Canceled?h===n.Identify?(this.privProfileId=a.identificationResult.identifiedProfile.profileId,this.privScore=a.identificationResult.identifiedProfile.score,this.privReason=r.ResultReason.RecognizedSpeakers):(this.privScore=a.verificationResult.score,a.verificationResult.recognitionResult.toLowerCase()!=="accept"&&(this.privReason=r.ResultReason.NoMatch),a.verificationResult.profileId!==void 0&&a.verificationResult.profileId!==""&&(this.privProfileId=a.verificationResult.profileId)):(this.privErrorDetails=m,this.privProperties.setProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[d])),this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,JSON.stringify(a))}get properties(){return this.privProperties}get reason(){return this.privReason}get profileId(){return this.privProfileId}get errorDetails(){return this.privErrorDetails}get score(){return this.privScore}}e.SpeakerRecognitionResult=i;class o extends r.CancellationDetailsBase{constructor(a,u,d){super(a,u,d)}static fromResult(a){const u=r.CancellationReason.Error;let d=r.CancellationErrorCode.NoError;return a.properties&&(d=r.CancellationErrorCode[a.properties.getProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new o(u,a.errorDetails,d)}}e.SpeakerRecognitionCancellationDetails=o})(av)),av}var cv={},Es={},NN;function YM(){if(NN)return Es;NN=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.ConversationImpl=Es.Conversation=void 0;const e=Se(),t=_e(),r=je(),n=Z();let i=class{constructor(){}static createConversationAsync(a,u,d,m){r.Contracts.throwIfNullOrUndefined(a,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(a.region,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),!a.subscriptionKey&&!a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(a.subscriptionKey,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));let h,g,v;return typeof u=="string"?(h=new o(a,u),(0,t.marshalPromiseToCallbacks)((async()=>{})(),d,m)):(h=new o(a),g=u,v=d,h.createConversationAsync((()=>{g&&g()}),x=>{v&&v(x)})),h}};Es.Conversation=i;class o extends i{constructor(a,u){if(super(),this.privErrors=e.ConversationConnectionConfig.restErrors,this.onConnected=h=>{this.privIsConnected=!0;try{this.privConversationTranslator?.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,h)}catch{}},this.onDisconnected=h=>{try{this.privConversationTranslator?.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,h)}catch{}finally{this.close(!1)}},this.onCanceled=(h,g)=>{try{this.privConversationTranslator?.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,g)}catch{}},this.onParticipantUpdateCommandReceived=(h,g)=>{try{const v=this.privParticipants.getParticipant(g.id);if(v!==void 0){switch(g.key){case e.ConversationTranslatorCommandTypes.changeNickname:v.displayName=g.value;break;case e.ConversationTranslatorCommandTypes.setUseTTS:v.isUsingTts=g.value;break;case e.ConversationTranslatorCommandTypes.setProfanityFiltering:v.profanity=g.value;break;case e.ConversationTranslatorCommandTypes.setMute:v.isMuted=g.value;break;case e.ConversationTranslatorCommandTypes.setTranslateToLanguages:v.translateToLanguages=g.value;break}this.privParticipants.addOrUpdateParticipant(v),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,[this.toParticipant(v)],g.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(h,g)=>{try{this.privParticipants.participants.forEach(v=>v.isMuted=v.isHost?!1:g.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,this.toParticipants(!1),g.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(h,g)=>{try{const v=this.privParticipants.addOrUpdateParticipant(g.participant);v!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,[this.toParticipant(v)],g.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(h,g)=>{try{const v=this.privParticipants.getParticipant(g.participant.id);v!==void 0&&(this.privParticipants.deleteParticipant(g.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.LeftConversation,[this.toParticipant(v)],g.sessionId)))}catch{}},this.onTranslationReceived=(h,g)=>{try{switch(g.command){case e.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new n.ConversationTranslationEventArgs(g.payload,void 0,g.sessionId));break;case e.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new n.ConversationTranslationEventArgs(g.payload,void 0,g.sessionId));break;case e.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new n.ConversationTranslationEventArgs(g.payload,void 0,g.sessionId));break}}catch{}},this.onParticipantsListReceived=(h,g)=>{try{if(g.sessionToken!==void 0&&g.sessionToken!==null&&(this.privRoom.token=g.sessionToken),this.privParticipants.participants=[...g.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),g.sessionId)),this.me.isHost){const v=this.privConversationTranslator?.properties.getProperty(n.PropertyId.ConversationTranslator_Name);v!==void 0&&v.length>0&&v!==this.me.displayName&&this.changeNicknameAsync(v)}}catch{}},this.onConversationExpiration=(h,g)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,g)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new n.PropertyCollection,this.privManager=new e.ConversationManager,a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])||a.setProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage],e.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),u)this.privConversationId=u;else{a.targetLanguages.length===0&&a.addTargetLanguage(this.privLanguage),a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceResponse_ProfanityOption])||a.setProfanity(n.ProfanityOption.Masked);let g=a.getProperty(n.PropertyId[n.PropertyId.ConversationTranslator_Name]);g==null&&(g="Host"),r.Contracts.throwIfNullOrTooLong(g,"nickname",50),r.Contracts.throwIfNullOrTooShort(g,"nickname",2),a.setProperty(n.PropertyId[n.PropertyId.ConversationTranslator_Name],g)}this.privConfig=a;const m=a;r.Contracts.throwIfNull(m,"speechConfig"),this.privProperties=m.properties.clone(),this.privIsConnected=!1,this.privParticipants=new e.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get conversationId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){return this.privParticipants.me?.isHost?!1:this.privParticipants.me?.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get conversationInfo(){const a=this.conversationId,u=this.participants.map(h=>({id:h.id,preferredLanguage:h.preferredLanguage,voice:h.voice})),d={};for(const h of e.ConversationConnectionConfig.transcriptionEventKeys){const g=this.properties.getProperty(h,"");g!==""&&(d[h]=g)}return{id:a,participants:u,conversationProperties:d}}get canSend(){return this.privIsConnected&&!this.privParticipants.me?.isMuted}get canSendAsHost(){return this.privIsConnected&&this.privParticipants.me?.isHost}get authorizationToken(){return this.privToken}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),this.privToken=a}set conversationTranslator(a){this.privConversationTranslator=a}onToken(a){this.privConversationTranslator.onToken(a)}createConversationAsync(a,u){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),u),this.privManager.createOrJoin(this.privProperties,void 0,(d=>{d||this.handleError(new Error(this.privErrors.permissionDeniedConnect),u),this.privRoom=d,this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}startConversationAsync(a,u){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),u),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=e.ConversationRecognizerFactory.fromConfig(this,this.privConfig),this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,(()=>{this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}addParticipantAsync(a,u,d){r.Contracts.throwIfNullOrUndefined(a,"Participant"),(0,t.marshalPromiseToCallbacks)(this.addParticipantImplAsync(a),u,d)}joinConversationAsync(a,u,d,m,h){try{r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(u,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(d,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,a,(g=>{r.Contracts.throwIfNullOrUndefined(g,this.privErrors.permissionDeniedConnect),this.privRoom=g,this.privConfig.authorizationToken=g.cognitiveSpeechAuthToken,m&&m(g.cognitiveSpeechAuthToken)}),(g=>{this.handleError(g,h)}))}catch(g){this.handleError(g,h)}}deleteConversationAsync(a,u){(0,t.marshalPromiseToCallbacks)(this.deleteConversationImplAsync(),a,u)}async deleteConversationImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endConversationAsync(a,u){(0,t.marshalPromiseToCallbacks)(this.endConversationImplAsync(),a,u)}endConversationImplAsync(){return this.close(!0)}lockConversationAsync(a,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),(()=>{this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}muteAllParticipantsAsync(a,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),(()=>{this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}muteParticipantAsync(a,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),d),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),d),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!0),(()=>{this.handleCallback(u,d)}),(h=>{this.handleError(h,d)}))}catch(m){this.handleError(m,d)}}removeParticipantAsync(a,u,d){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&a.hasOwnProperty("id"))(0,t.marshalPromiseToCallbacks)(this.removeParticipantImplAsync(a),u,d);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),d);let m="";typeof a=="string"?m=a:a.hasOwnProperty("id")?m=a.id:a.hasOwnProperty("userId")&&(m=a.userId),r.Contracts.throwIfNullOrWhitespace(m,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(g=>g.id===m)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(m),(()=>{this.handleCallback(u,d)}),(g=>{this.handleError(g,d)}))}}catch(m){this.handleError(m,d)}}unlockConversationAsync(a,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),(()=>{this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}unmuteAllParticipantsAsync(a,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),(()=>{this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}unmuteParticipantAsync(a,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),d),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),d),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!1),(()=>{this.handleCallback(u,d)}),(h=>{this.handleError(h,d)}))}catch(m){this.handleError(m,d)}}sendTextMessageAsync(a,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),d),a.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(a),(()=>{this.handleCallback(u,d)}),(m=>{this.handleError(m,d)}))}catch(m){this.handleError(m,d)}}setTranslatedLanguagesAsync(a,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(a),(()=>{this.handleCallback(u,d)}),(m=>{this.handleError(m,d)}))}catch(m){this.handleError(m,d)}}changeNicknameAsync(a,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(a),(()=>{this.handleCallback(u,d)}),(m=>{this.handleError(m,d)}))}catch(m){this.handleError(m,d)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(a){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await a.enforceAudioGating(),this.privTranscriberRecognizer=a,this.privTranscriberRecognizer.conversation=this}getKeepAlive(){const a=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:a,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(a){if(this.privParticipants.addOrUpdateParticipant(a)!==void 0&&this.privTranscriberRecognizer){const d=this.conversationInfo;return d.participants=[a],this.privTranscriberRecognizer.pushConversationEvent(d,"join")}}removeParticipantImplAsync(a){this.privParticipants.deleteParticipant(a.id);const u=this.conversationInfo;return u.participants=[a],this.privTranscriberRecognizer.pushConversationEvent(u,"leave")}async close(a){try{this.privIsConnected=!1,await this.privConversationRecognizer?.close(),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(u){throw u}a&&this.dispose()}handleCallback(a,u){if(a){try{a()}catch(d){u&&u(d)}a=void 0}}handleError(a,u){if(u)if(a instanceof Error){const d=a;u(d.name+": "+d.message)}else u(a)}toParticipants(a){const u=this.privParticipants.participants.map(d=>this.toParticipant(d));return a?u:u.filter(d=>d.isHost===!1)}toParticipant(a){return new n.Participant(a.id,a.avatar,a.displayName,a.isHost,a.isMuted,a.isUsingTts,a.preferredLanguage,a.voice)}getMuteAllCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMuteCommand(a,u){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMute,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:u})}getLockCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getEjectCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.ejectParticipant,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getChangeNicknameCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.changeNickname,nickname:a,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMessageCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(a,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:a,type:e.ConversationTranslatorMessageTypes.instantMessage})}}return Es.ConversationImpl=o,Es}var $l={},EN;function qW(){if(EN)return $l;EN=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.ConversationCommon=void 0;let e=class{constructor(r){this.privAudioConfig=r}handleCallback(r,n){if(r){try{r()}catch(i){n&&n(i)}r=void 0}}handleError(r,n){if(n)if(r instanceof Error){const i=r;n(i.name+": "+i.message)}else n(r)}};return $l.ConversationCommon=e,$l}var Wl={},TN;function FW(){if(TN)return Wl;TN=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.ConversationExpirationEventArgs=void 0;const e=Z();let t=class extends e.SessionEventArgs{constructor(n,i){super(i),this.privExpirationTime=n}get expirationTime(){return this.privExpirationTime}};return Wl.ConversationExpirationEventArgs=t,Wl}var Vl={},IN;function HW(){if(IN)return Vl;IN=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.ConversationParticipantsChangedEventArgs=void 0;const e=Z();let t=class extends e.SessionEventArgs{constructor(n,i,o){super(o),this.privReason=n,this.privParticipant=i}get reason(){return this.privReason}get participants(){return this.privParticipant}};return Vl.ConversationParticipantsChangedEventArgs=t,Vl}var Kl={},AN;function UW(){if(AN)return Kl;AN=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.ConversationTranslationCanceledEventArgs=void 0;const e=Jd();let t=class extends e.CancellationEventArgsBase{};return Kl.ConversationTranslationCanceledEventArgs=t,Kl}var Gl={},_N;function $W(){if(_N)return Gl;_N=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.ConversationTranslationEventArgs=void 0;const e=Z();let t=class extends e.RecognitionEventArgs{constructor(n,i,o){super(i,o),this.privResult=n}get result(){return this.privResult}};return Gl.ConversationTranslationEventArgs=t,Gl}var Jl={},zN;function WW(){if(zN)return Jl;zN=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.ConversationTranslationResult=void 0;const e=DM();let t=class extends e.TranslationRecognitionResult{constructor(n,i,o,l,a,u,d,m,h,g,v){super(i,l,a,u,d,m,void 0,void 0,h,g,v),this.privId=n,this.privOrigLang=o}get participantId(){return this.privId}get originalLang(){return this.privOrigLang}};return Jl.ConversationTranslationResult=t,Jl}var lv={},Ql={},Xl={},MN;function ZM(){if(MN)return Xl;MN=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.StringUtils=void 0;let e=class{static formatString(r,n){if(!r)return"";if(!n)return r;let i="",o="";const l=d=>{i+=d},a=d=>{o+=d};let u=l;for(let d=0;d<r.length;d++){const m=r[d],h=d+1<r.length?r[d+1]:"";switch(m){case"{":h==="{"?(u("{"),d++):u=a;break;case"}":h==="}"?(u("}"),d++):(n.hasOwnProperty(o)&&(i+=n[o]),u=l,o="");break;default:u(m);break}}return i}};return Xl.StringUtils=e,Xl}var kN;function VW(){if(kN)return Ql;kN=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.ConversationTranslatorConnectionFactory=void 0;const e=Wt(),t=ZM(),r=je(),n=Z(),i=ar(),o=Wi(),l=sn(),a=Se();let u=class ek extends l.ConnectionFactoryBase{constructor(m){super(),r.Contracts.throwIfNullOrUndefined(m,"convGetter"),this.privConvGetter=m}create(m,h,g){const v=m.parameters.getProperty("ConversationTranslator_MultiChannelAudio","").toUpperCase()==="TRUE",x=this.privConvGetter().room,C=x.cognitiveSpeechRegion||m.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Region,""),w={hostSuffix:l.ConnectionFactoryBase.getHostSuffix(C),path:ek.CTS_VIRT_MIC_PATH,region:encodeURIComponent(C)};w[o.QueryParameterNames.Language]=encodeURIComponent(m.parameters.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage,"")),w[o.QueryParameterNames.CtsMeetingId]=encodeURIComponent(x.roomId),w[o.QueryParameterNames.CtsDeviceId]=encodeURIComponent(x.participantId),w[o.QueryParameterNames.CtsIsParticipant]=x.isHost?"":"&"+o.QueryParameterNames.CtsIsParticipant;let R="";const b={},N={};if(v){R=m.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Endpoint),R||(R="wss://"+m.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Host,"transcribe.{region}.cts.speech{hostSuffix}")+"{path}"),R=t.StringUtils.formatString(R,w);const A=new URL(R);A.searchParams.forEach((M,z)=>{b[z]=M}),new a.TranscriberConnectionFactory().setQueryParams(b,m,R),b[o.QueryParameterNames.CtsMeetingId]=w[o.QueryParameterNames.CtsMeetingId],b[o.QueryParameterNames.CtsDeviceId]=w[o.QueryParameterNames.CtsDeviceId],x.isHost||(b[o.QueryParameterNames.CtsIsParticipant]=""),o.QueryParameterNames.Format in b||(b[o.QueryParameterNames.Format]="simple"),A.searchParams.forEach((M,z)=>{A.searchParams.set(z,b[z]),delete b[z]}),R=A.toString()}else{const A=new a.TranslationConnectionFactory;R=A.getEndpointUrl(m,!0),R=t.StringUtils.formatString(R,w),A.setQueryParams(b,m,R)}N[i.HeaderNames.ConnectionId]=g,N[e.RestConfigBase.configParams.token]=x.token,h.token&&(N[h.headerName]=h.token);const T=m.parameters.getProperty("SPEECH-EnableWebsocketCompression","").toUpperCase()==="TRUE";return Promise.resolve(new e.WebsocketConnection(R,b,N,new a.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(m),T,g))}};return Ql.ConversationTranslatorConnectionFactory=u,u.CTS_VIRT_MIC_PATH="/speech/recognition/dynamicaudio",Ql}var ON;function KW(){return ON||(ON=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConversationTranslator=e.SpeechState=void 0;const t=Se(),r=VW(),n=_e(),i=je(),o=Z(),l=YM(),a=AS();var u;(function(h){h[h.Inactive=0]="Inactive",h[h.Connecting=1]="Connecting",h[h.Connected=2]="Connected"})(u=e.SpeechState||(e.SpeechState={}));class d extends o.TranslationRecognizer{constructor(g,v,x,C){super(g,v,new r.ConversationTranslatorConnectionFactory(C)),this.privSpeechState=u.Inactive,x&&(this.privTranslator=x,this.sessionStarted=()=>{this.privSpeechState=u.Connected},this.sessionStopped=()=>{this.privSpeechState=u.Inactive},this.recognizing=(w,R)=>{this.privTranslator.recognizing&&this.privTranslator.recognizing(this.privTranslator,R)},this.recognized=async(w,R)=>{R.result?.errorDetails?(await this.cancelSpeech(),this.fireCancelEvent(R.result.errorDetails)):this.privTranslator.recognized&&this.privTranslator.recognized(this.privTranslator,R)},this.canceled=async()=>{if(this.privSpeechState!==u.Inactive)try{await this.cancelSpeech()}catch{this.privSpeechState=u.Inactive}})}get state(){return this.privSpeechState}set state(g){this.privSpeechState=g}set authentication(g){this.privReco.authentication=g}onConnection(){this.privSpeechState=u.Connected}async onCancelSpeech(){this.privSpeechState=u.Inactive,await this.cancelSpeech()}fireCancelEvent(g){try{if(this.privTranslator.canceled){const v=new a.ConversationTranslationCanceledEventArgs(o.CancellationReason.Error,g,o.CancellationErrorCode.RuntimeError);this.privTranslator.canceled(this.privTranslator,v)}}catch{}}async cancelSpeech(){try{this.stopContinuousRecognitionAsync(),await this.privReco?.disconnect(),this.privSpeechState=u.Inactive}catch{}}}class m extends a.ConversationCommon{constructor(g){super(g),this.privErrors=t.ConversationConnectionConfig.restErrors,this.privIsDisposed=!1,this.privIsSpeaking=!1,this.privPlaceholderKey="abcdefghijklmnopqrstuvwxyz012345",this.privPlaceholderRegion="westus",this.privProperties=new o.PropertyCollection}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get participants(){return this.privConversation?.participants}get canSpeak(){return!(!this.privConversation.isConnected||!this.privCTRecognizer||this.privIsSpeaking||this.privCTRecognizer.state===u.Connected||this.privCTRecognizer.state===u.Connecting||this.privConversation.isMutedByHost)}onToken(g){this.privCTRecognizer.authentication=g}setServiceProperty(g,v){const x=JSON.parse(this.privProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));x[g]=v,this.privProperties.setProperty(t.ServicePropertiesPropertyName,JSON.stringify(x))}joinConversationAsync(g,v,x,C,w){try{if(typeof g=="string"){i.Contracts.throwIfNullOrUndefined(g,this.privErrors.invalidArgs.replace("{arg}","conversation id")),i.Contracts.throwIfNullOrWhitespace(v,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(this.privErrors.permissionDeniedStart),w);let R=x;(R==null||R==="")&&(R=t.ConversationConnectionConfig.defaultLanguageCode),this.privSpeechTranslationConfig=o.SpeechTranslationConfig.fromSubscription(this.privPlaceholderKey,this.privPlaceholderRegion),this.privSpeechTranslationConfig.setProfanity(o.ProfanityOption.Masked),this.privSpeechTranslationConfig.addTargetLanguage(R),this.privSpeechTranslationConfig.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_RecoLanguage],R),this.privSpeechTranslationConfig.setProperty(o.PropertyId[o.PropertyId.ConversationTranslator_Name],v);const b=[o.PropertyId.SpeechServiceConnection_Host,o.PropertyId.ConversationTranslator_Host,o.PropertyId.SpeechServiceConnection_Endpoint,o.PropertyId.SpeechServiceConnection_ProxyHostName,o.PropertyId.SpeechServiceConnection_ProxyPassword,o.PropertyId.SpeechServiceConnection_ProxyPort,o.PropertyId.SpeechServiceConnection_ProxyUserName,"ConversationTranslator_MultiChannelAudio","ConversationTranslator_Region"];for(const T of b){const A=this.privProperties.getProperty(T);if(A){const k=typeof T=="string"?T:o.PropertyId[T];this.privSpeechTranslationConfig.setProperty(k,A)}}const N=JSON.parse(this.privProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));for(const T of Object.keys(N))this.privSpeechTranslationConfig.setServiceProperty(T,N[T],o.ServicePropertyChannel.UriQueryParameter);this.privConversation=new l.ConversationImpl(this.privSpeechTranslationConfig),this.privConversation.conversationTranslator=this,this.privConversation.joinConversationAsync(g,v,R,(T=>{T||this.handleError(new Error(this.privErrors.permissionDeniedConnect),w),this.privSpeechTranslationConfig.authorizationToken=T,this.privConversation.room.isHost=!1,this.privConversation.startConversationAsync((()=>{this.handleCallback(C,w)}),(A=>{this.handleError(A,w)}))}),(T=>{this.handleError(T,w)}))}else typeof g=="object"?(i.Contracts.throwIfNullOrUndefined(g,this.privErrors.invalidArgs.replace("{arg}","conversation id")),i.Contracts.throwIfNullOrWhitespace(v,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(o.PropertyId.ConversationTranslator_Name,v),this.privConversation=g,this.privConversation.conversationTranslator=this,this.privConversation.room.isHost=!0,i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedConnect),i.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privSpeechTranslationConfig=g.config,this.handleCallback(x,C)):this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","invalid conversation type")),C)}catch(R){this.handleError(R,typeof x=="string"?w:C)}}leaveConversationAsync(g,v){(0,n.marshalPromiseToCallbacks)((async()=>{await this.cancelSpeech(),await this.privConversation.endConversationImplAsync(),await this.privConversation.deleteConversationImplAsync(),this.dispose()})(),g,v)}sendTextMessageAsync(g,v,x){try{i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),i.Contracts.throwIfNullOrWhitespace(g,this.privErrors.invalidArgs.replace("{arg}",g)),this.privConversation.sendTextMessageAsync(g,v,x)}catch(C){this.handleError(C,x)}}startTranscribingAsync(g,v){(0,n.marshalPromiseToCallbacks)((async()=>{try{i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),i.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privCTRecognizer===void 0&&await this.connectTranslatorRecognizer(),i.Contracts.throwIfNullOrUndefined(this.privCTRecognizer,this.privErrors.permissionDeniedSend),this.canSpeak||this.handleError(new Error(this.privErrors.permissionDeniedSend),v),await this.startContinuousRecognition(),this.privIsSpeaking=!0}catch(x){throw this.privIsSpeaking=!1,await this.cancelSpeech(),x}})(),g,v)}stopTranscribingAsync(g,v){(0,n.marshalPromiseToCallbacks)((async()=>{try{if(!this.privIsSpeaking){await this.cancelSpeech();return}this.privIsSpeaking=!1,await new Promise((x,C)=>{this.privCTRecognizer.stopContinuousRecognitionAsync(x,C)})}catch{await this.cancelSpeech()}})(),g,v)}isDisposed(){return this.privIsDisposed}dispose(g,v,x){(0,n.marshalPromiseToCallbacks)((async()=>{this.isDisposed&&!this.privIsSpeaking||(await this.cancelSpeech(),this.privIsDisposed=!0,this.privSpeechTranslationConfig.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,this.privConversation.dispose(),this.privConversation=void 0)})(),v,x)}async cancelSpeech(){try{this.privIsSpeaking=!1,await this.privCTRecognizer?.onCancelSpeech(),this.privCTRecognizer=void 0}catch{}}async connectTranslatorRecognizer(){try{this.privAudioConfig===void 0&&(this.privAudioConfig=o.AudioConfig.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_Key])===this.privPlaceholderKey&&this.privSpeechTranslationConfig.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_Key],"");const g=()=>this.privConversation;this.privCTRecognizer=new d(this.privSpeechTranslationConfig,this.privAudioConfig,this,g)}catch(g){throw await this.cancelSpeech(),g}}startContinuousRecognition(){return new Promise((g,v)=>{this.privCTRecognizer.startContinuousRecognitionAsync(g,v)})}}e.ConversationTranslator=m})(lv)),lv}var Yl={},DN;function GW(){if(DN)return Yl;DN=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.ConversationTranscriber=void 0;const e=Se(),t=Lr(),r=_e(),n=je(),i=Z();let o=class tk extends i.Recognizer{constructor(a,u){const d=a;n.Contracts.throwIfNull(d,"speechConfig"),n.Contracts.throwIfNullOrWhitespace(d.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage]),super(u,d.properties,new e.ConversationTranscriberConnectionFactory,a.tokenCredential),this.privProperties.setProperty(i.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privDisposedRecognizer=!1}static FromConfig(a,u,d){const m=a;return u.properties.mergeTo(m.properties),new tk(a,d)}get endpointId(){return n.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){n.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,a)}get speechRecognitionLanguage(){return n.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return n.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(e.OutputFormatPropertyName,i.OutputFormat[i.OutputFormat.Simple])===i.OutputFormat[i.OutputFormat.Simple]?i.OutputFormat.Simple:i.OutputFormat.Detailed}get properties(){return this.privProperties}startTranscribingAsync(a,u){(0,r.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),a,u)}stopTranscribingAsync(a,u){(0,r.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(),a,u)}close(a,u){n.Contracts.throwIfDisposed(this.privDisposedRecognizer),(0,r.marshalPromiseToCallbacks)(this.dispose(!0),a,u)}async dispose(a){this.privDisposedRecognizer||(a&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(a))}createRecognizerConfig(a){return new e.RecognizerConfig(a,this.privProperties)}createServiceRecognizer(a,u,d,m){const h=d;return m.isSpeakerDiarizationEnabled=!0,new e.ConversationTranscriptionServiceRecognizer(a,u,h,m,this)}};return Yl.ConversationTranscriber=o,Yl}var Ts={},BN;function JW(){if(BN)return Ts;BN=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.Participant=Ts.User=void 0;const e=Z();class t{constructor(i){this.privUserId=i}get userId(){return this.privUserId}}Ts.User=t;class r{constructor(i,o,l,a,u,d,m,h){this.privId=i,this.privAvatar=o,this.privDisplayName=l,this.privIsHost=a,this.privIsMuted=u,this.privIsUsingTts=d,this.privPreferredLanguage=m,this.privVoice=h,this.privProperties=new e.PropertyCollection}get avatar(){return this.privAvatar}get displayName(){return this.privDisplayName}get id(){return this.privId}get preferredLanguage(){return this.privPreferredLanguage}get isHost(){return this.privIsHost}get isMuted(){return this.privIsMuted}get isUsingTts(){return this.privIsUsingTts}get voice(){return this.privVoice}get properties(){return this.privProperties}static From(i,o,l){return new r(i,"",i,!1,!1,!1,o,l)}}return Ts.Participant=r,Ts}var uv={},LN;function QW(){return LN||(LN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParticipantChangedReason=void 0,(function(t){t[t.JoinedConversation=0]="JoinedConversation",t[t.LeftConversation=1]="LeftConversation",t[t.Updated=2]="Updated"})(e.ParticipantChangedReason||(e.ParticipantChangedReason={}))})(uv)),uv}var Is={},jN;function XW(){if(jN)return Is;jN=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.MeetingImpl=Is.Meeting=void 0;const e=Se(),t=_e(),r=je(),n=Z();let i=class{constructor(){}static createMeetingAsync(a,u,d,m){if(r.Contracts.throwIfNullOrUndefined(a,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(a.region,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),r.Contracts.throwIfNull(u,"meetingId"),u.length===0)throw new Error("meetingId cannot be empty");!a.subscriptionKey&&!a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(a.subscriptionKey,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));const h=new o(a,u);return(0,t.marshalPromiseToCallbacks)((async()=>{})(),d,m),h}};Is.Meeting=i;class o extends i{constructor(a,u){super(),this.privErrors=e.ConversationConnectionConfig.restErrors,this.onConnected=h=>{this.privIsConnected=!0;try{this.privConversationTranslator?.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,h)}catch{}},this.onDisconnected=h=>{try{this.privConversationTranslator?.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,h)}catch{}finally{this.close(!1)}},this.onCanceled=(h,g)=>{try{this.privConversationTranslator?.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,g)}catch{}},this.onParticipantUpdateCommandReceived=(h,g)=>{try{const v=this.privParticipants.getParticipant(g.id);if(v!==void 0){switch(g.key){case e.ConversationTranslatorCommandTypes.changeNickname:v.displayName=g.value;break;case e.ConversationTranslatorCommandTypes.setUseTTS:v.isUsingTts=g.value;break;case e.ConversationTranslatorCommandTypes.setProfanityFiltering:v.profanity=g.value;break;case e.ConversationTranslatorCommandTypes.setMute:v.isMuted=g.value;break;case e.ConversationTranslatorCommandTypes.setTranslateToLanguages:v.translateToLanguages=g.value;break}this.privParticipants.addOrUpdateParticipant(v),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,[this.toParticipant(v)],g.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(h,g)=>{try{this.privParticipants.participants.forEach(v=>v.isMuted=v.isHost?!1:g.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,this.toParticipants(!1),g.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(h,g)=>{try{const v=this.privParticipants.addOrUpdateParticipant(g.participant);v!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,[this.toParticipant(v)],g.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(h,g)=>{try{const v=this.privParticipants.getParticipant(g.participant.id);v!==void 0&&(this.privParticipants.deleteParticipant(g.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.LeftConversation,[this.toParticipant(v)],g.sessionId)))}catch{}},this.onTranslationReceived=(h,g)=>{try{switch(g.command){case e.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new n.ConversationTranslationEventArgs(g.payload,void 0,g.sessionId));break;case e.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new n.ConversationTranslationEventArgs(g.payload,void 0,g.sessionId));break;case e.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new n.ConversationTranslationEventArgs(g.payload,void 0,g.sessionId));break}}catch{}},this.onParticipantsListReceived=(h,g)=>{try{if(g.sessionToken!==void 0&&g.sessionToken!==null&&(this.privRoom.token=g.sessionToken),this.privParticipants.participants=[...g.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),g.sessionId)),this.me.isHost){const v=this.privConversationTranslator?.properties.getProperty(n.PropertyId.ConversationTranslator_Name);v!==void 0&&v.length>0&&v!==this.me.displayName&&this.changeNicknameAsync(v)}}catch{}},this.onConversationExpiration=(h,g)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,g)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new n.PropertyCollection,this.privManager=new e.ConversationManager,a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])||a.setProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage],e.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=a.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),this.privConversationId=u,this.privConfig=a;const m=a;r.Contracts.throwIfNull(m,"speechConfig"),this.privProperties=m.properties.clone(),this.privIsConnected=!1,this.privParticipants=new e.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get meetingId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){return this.privParticipants.me?.isHost?!1:this.privParticipants.me?.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get meetingInfo(){const a=this.meetingId,u=this.participants.map(h=>({id:h.id,preferredLanguage:h.preferredLanguage,voice:h.voice})),d={};for(const h of e.ConversationConnectionConfig.transcriptionEventKeys){const g=this.properties.getProperty(h,"");g!==""&&(d[h]=g)}return{id:a,participants:u,meetingProperties:d}}get canSend(){return this.privIsConnected&&!this.privParticipants.me?.isMuted}get canSendAsHost(){return this.privIsConnected&&this.privParticipants.me?.isHost}get authorizationToken(){return this.privToken}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),this.privToken=a}createMeetingAsync(a,u){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),u),this.privManager.createOrJoin(this.privProperties,void 0,(d=>{d||this.handleError(new Error(this.privErrors.permissionDeniedConnect),u),this.privRoom=d,this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}startMeetingAsync(a,u){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),u),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,(()=>{this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}addParticipantAsync(a,u,d){r.Contracts.throwIfNullOrUndefined(a,"Participant"),(0,t.marshalPromiseToCallbacks)(this.addParticipantImplAsync(a),u,d)}joinMeetingAsync(a,u,d,m,h){try{r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(u,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(d,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,a,(g=>{r.Contracts.throwIfNullOrUndefined(g,this.privErrors.permissionDeniedConnect),this.privRoom=g,this.privConfig.authorizationToken=g.cognitiveSpeechAuthToken,m&&m(g.cognitiveSpeechAuthToken)}),(g=>{this.handleError(g,h)}))}catch(g){this.handleError(g,h)}}deleteMeetingAsync(a,u){(0,t.marshalPromiseToCallbacks)(this.deleteMeetingImplAsync(),a,u)}async deleteMeetingImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endMeetingAsync(a,u){(0,t.marshalPromiseToCallbacks)(this.endMeetingImplAsync(),a,u)}endMeetingImplAsync(){return this.close(!0)}lockMeetingAsync(a,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),(()=>{this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}muteAllParticipantsAsync(a,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),(()=>{this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}muteParticipantAsync(a,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),d),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),d),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!0),(()=>{this.handleCallback(u,d)}),(h=>{this.handleError(h,d)}))}catch(m){this.handleError(m,d)}}removeParticipantAsync(a,u,d){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&a.hasOwnProperty("id"))(0,t.marshalPromiseToCallbacks)(this.removeParticipantImplAsync(a),u,d);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),d);let m="";typeof a=="string"?m=a:a.hasOwnProperty("id")?m=a.id:a.hasOwnProperty("userId")&&(m=a.userId),r.Contracts.throwIfNullOrWhitespace(m,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(g=>g.id===m)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(m),(()=>{this.handleCallback(u,d)}),(g=>{this.handleError(g,d)}))}}catch(m){this.handleError(m,d)}}unlockMeetingAsync(a,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),(()=>{this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}unmuteAllParticipantsAsync(a,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),(()=>{this.handleCallback(a,u)}),(d=>{this.handleError(d,u)}))}catch(d){this.handleError(d,u)}}unmuteParticipantAsync(a,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),d),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),d),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!1),(()=>{this.handleCallback(u,d)}),(h=>{this.handleError(h,d)}))}catch(m){this.handleError(m,d)}}sendTextMessageAsync(a,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),d),a.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(a),(()=>{this.handleCallback(u,d)}),(m=>{this.handleError(m,d)}))}catch(m){this.handleError(m,d)}}setTranslatedLanguagesAsync(a,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(a),(()=>{this.handleCallback(u,d)}),(m=>{this.handleError(m,d)}))}catch(m){this.handleError(m,d)}}changeNicknameAsync(a,u,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(a),(()=>{this.handleCallback(u,d)}),(m=>{this.handleError(m,d)}))}catch(m){this.handleError(m,d)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(a){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await a.enforceAudioGating(),this.privTranscriberRecognizer=a,this.privTranscriberRecognizer.meeting=this}getKeepAlive(){const a=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:a,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(a){if(this.privParticipants.addOrUpdateParticipant(a)!==void 0&&this.privTranscriberRecognizer){const d=this.meetingInfo;return d.participants=[a],this.privTranscriberRecognizer.pushMeetingEvent(d,"join")}}removeParticipantImplAsync(a){this.privParticipants.deleteParticipant(a.id);const u=this.meetingInfo;return u.participants=[a],this.privTranscriberRecognizer.pushMeetingEvent(u,"leave")}async close(a){try{this.privIsConnected=!1,await this.privConversationRecognizer?.close(),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(u){throw u}a&&this.dispose()}handleCallback(a,u){if(a){try{a()}catch(d){u&&u(d)}a=void 0}}handleError(a,u){if(u)if(a instanceof Error){const d=a;u(d.name+": "+d.message)}else u(a)}toParticipants(a){const u=this.privParticipants.participants.map(d=>this.toParticipant(d));return a?u:u.filter(d=>d.isHost===!1)}toParticipant(a){return new n.Participant(a.id,a.avatar,a.displayName,a.isHost,a.isMuted,a.isUsingTts,a.preferredLanguage,a.voice)}getMuteAllCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingd"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMuteCommand(a,u){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMute,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:u})}getLockCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getEjectCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.ejectParticipant,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getChangeNicknameCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(a,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.changeNickname,nickname:a,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMessageCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(a,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:a,type:e.ConversationTranslatorMessageTypes.instantMessage})}}return Is.MeetingImpl=o,Is}var Zl={},qN;function YW(){if(qN)return Zl;qN=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.MeetingTranscriptionCanceledEventArgs=void 0;const e=Jd();class t extends e.CancellationEventArgsBase{}return Zl.MeetingTranscriptionCanceledEventArgs=t,Zl}var eu={},FN;function ZW(){if(FN)return eu;FN=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.MeetingTranscriber=void 0;const e=Se(),t=_e(),r=je(),n=Z(),i=AS();let o=class{constructor(a){this.privAudioConfig=a,this.privProperties=new n.PropertyCollection,this.privRecognizer=void 0,this.privDisposedRecognizer=!1}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get internalData(){return this.privRecognizer.internalData}get connection(){return n.Connection.fromRecognizer(this.privRecognizer)}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,a)}joinMeetingAsync(a,u,d){const m=a;r.Contracts.throwIfNullOrUndefined(i.MeetingImpl,"Meeting"),this.privRecognizer=new e.TranscriberRecognizer(a.config,this.privAudioConfig),r.Contracts.throwIfNullOrUndefined(this.privRecognizer,"Recognizer"),this.privRecognizer.connectMeetingCallbacks(this),(0,t.marshalPromiseToCallbacks)(m.connectTranscriberRecognizer(this.privRecognizer),u,d)}startTranscribingAsync(a,u){this.privRecognizer.startContinuousRecognitionAsync(a,u)}stopTranscribingAsync(a,u){this.privRecognizer.stopContinuousRecognitionAsync(a,u)}leaveMeetingAsync(a,u){this.privRecognizer.disconnectCallbacks(),(0,t.marshalPromiseToCallbacks)((async()=>{})(),a,u)}close(a,u){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),(0,t.marshalPromiseToCallbacks)(this.dispose(!0),a,u)}async dispose(a){this.privDisposedRecognizer||(this.privRecognizer&&(await this.privRecognizer.close(),this.privRecognizer=void 0),a&&(this.privDisposedRecognizer=!0))}};return eu.MeetingTranscriber=o,eu}var tu={},HN;function e9(){if(HN)return tu;HN=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.ConversationTranscriptionResult=void 0;const e=Z();let t=class extends e.RecognitionResult{constructor(n,i,o,l,a,u,d,m,h,g,v){super(n,i,o,l,a,u,d,h,g,v),this.privSpeakerId=m}get speakerId(){return this.privSpeakerId}};return tu.ConversationTranscriptionResult=t,tu}var UN;function AS(){return UN||(UN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConversationTranscriptionResult=e.MeetingTranscriber=e.MeetingTranscriptionCanceledEventArgs=e.MeetingImpl=e.Meeting=e.ParticipantChangedReason=e.User=e.Participant=e.ConversationTranscriber=e.ConversationTranslator=e.ConversationTranslationResult=e.ConversationTranslationEventArgs=e.ConversationTranslationCanceledEventArgs=e.ConversationParticipantsChangedEventArgs=e.ConversationExpirationEventArgs=e.ConversationCommon=e.ConversationImpl=e.Conversation=void 0;var t=YM();Object.defineProperty(e,"Conversation",{enumerable:!0,get:function(){return t.Conversation}}),Object.defineProperty(e,"ConversationImpl",{enumerable:!0,get:function(){return t.ConversationImpl}});var r=qW();Object.defineProperty(e,"ConversationCommon",{enumerable:!0,get:function(){return r.ConversationCommon}});var n=FW();Object.defineProperty(e,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return n.ConversationExpirationEventArgs}});var i=HW();Object.defineProperty(e,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return i.ConversationParticipantsChangedEventArgs}});var o=UW();Object.defineProperty(e,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return o.ConversationTranslationCanceledEventArgs}});var l=$W();Object.defineProperty(e,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return l.ConversationTranslationEventArgs}});var a=WW();Object.defineProperty(e,"ConversationTranslationResult",{enumerable:!0,get:function(){return a.ConversationTranslationResult}});var u=KW();Object.defineProperty(e,"ConversationTranslator",{enumerable:!0,get:function(){return u.ConversationTranslator}});var d=GW();Object.defineProperty(e,"ConversationTranscriber",{enumerable:!0,get:function(){return d.ConversationTranscriber}});var m=JW();Object.defineProperty(e,"Participant",{enumerable:!0,get:function(){return m.Participant}}),Object.defineProperty(e,"User",{enumerable:!0,get:function(){return m.User}});var h=QW();Object.defineProperty(e,"ParticipantChangedReason",{enumerable:!0,get:function(){return h.ParticipantChangedReason}});var g=XW();Object.defineProperty(e,"Meeting",{enumerable:!0,get:function(){return g.Meeting}}),Object.defineProperty(e,"MeetingImpl",{enumerable:!0,get:function(){return g.MeetingImpl}});var v=YW();Object.defineProperty(e,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return v.MeetingTranscriptionCanceledEventArgs}});var x=ZW();Object.defineProperty(e,"MeetingTranscriber",{enumerable:!0,get:function(){return x.MeetingTranscriber}});var C=e9();Object.defineProperty(e,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return C.ConversationTranscriptionResult}})})(cv)),cv}var As={},$N;function _S(){if($N)return As;$N=1,Object.defineProperty(As,"__esModule",{value:!0}),As.SynthesisRequest=As.Synthesizer=void 0;const e=Se(),t=_e(),r=je(),n=Z();let i=class rk{constructor(a){const u=a;r.Contracts.throwIfNull(u,"speechConfig"),this.privProperties=u.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.synthesisRequestQueue=new t.Queue,this.tokenCredential=a.tokenCredential}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,a)}get properties(){return this.privProperties}get autoDetectSourceLanguage(){return this.properties.getProperty(n.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)===e.AutoDetectSourceLanguagesOpenRangeOptionName}buildSsml(a){const u={"af-ZA":"af-ZA-AdriNeural","am-ET":"am-ET-AmehaNeural","ar-AE":"ar-AE-FatimaNeural","ar-BH":"ar-BH-AliNeural","ar-DZ":"ar-DZ-AminaNeural","ar-EG":"ar-EG-SalmaNeural","ar-IQ":"ar-IQ-BasselNeural","ar-JO":"ar-JO-SanaNeural","ar-KW":"ar-KW-FahedNeural","ar-LY":"ar-LY-ImanNeural","ar-MA":"ar-MA-JamalNeural","ar-QA":"ar-QA-AmalNeural","ar-SA":"ar-SA-HamedNeural","ar-SY":"ar-SY-AmanyNeural","ar-TN":"ar-TN-HediNeural","ar-YE":"ar-YE-MaryamNeural","bg-BG":"bg-BG-BorislavNeural","bn-BD":"bn-BD-NabanitaNeural","bn-IN":"bn-IN-BashkarNeural","ca-ES":"ca-ES-JoanaNeural","cs-CZ":"cs-CZ-AntoninNeural","cy-GB":"cy-GB-AledNeural","da-DK":"da-DK-ChristelNeural","de-AT":"de-AT-IngridNeural","de-CH":"de-CH-JanNeural","de-DE":"de-DE-KatjaNeural","el-GR":"el-GR-AthinaNeural","en-AU":"en-AU-NatashaNeural","en-CA":"en-CA-ClaraNeural","en-GB":"en-GB-LibbyNeural","en-HK":"en-HK-SamNeural","en-IE":"en-IE-ConnorNeural","en-IN":"en-IN-NeerjaNeural","en-KE":"en-KE-AsiliaNeural","en-NG":"en-NG-AbeoNeural","en-NZ":"en-NZ-MitchellNeural","en-PH":"en-PH-JamesNeural","en-SG":"en-SG-LunaNeural","en-TZ":"en-TZ-ElimuNeural","en-US":"en-US-AvaMultilingualNeural","en-ZA":"en-ZA-LeahNeural","es-AR":"es-AR-ElenaNeural","es-BO":"es-BO-MarceloNeural","es-CL":"es-CL-CatalinaNeural","es-CO":"es-CO-GonzaloNeural","es-CR":"es-CR-JuanNeural","es-CU":"es-CU-BelkysNeural","es-DO":"es-DO-EmilioNeural","es-EC":"es-EC-AndreaNeural","es-ES":"es-ES-AlvaroNeural","es-GQ":"es-GQ-JavierNeural","es-GT":"es-GT-AndresNeural","es-HN":"es-HN-CarlosNeural","es-MX":"es-MX-DaliaNeural","es-NI":"es-NI-FedericoNeural","es-PA":"es-PA-MargaritaNeural","es-PE":"es-PE-AlexNeural","es-PR":"es-PR-KarinaNeural","es-PY":"es-PY-MarioNeural","es-SV":"es-SV-LorenaNeural","es-US":"es-US-AlonsoNeural","es-UY":"es-UY-MateoNeural","es-VE":"es-VE-PaolaNeural","et-EE":"et-EE-AnuNeural","fa-IR":"fa-IR-DilaraNeural","fi-FI":"fi-FI-SelmaNeural","fil-PH":"fil-PH-AngeloNeural","fr-BE":"fr-BE-CharlineNeural","fr-CA":"fr-CA-SylvieNeural","fr-CH":"fr-CH-ArianeNeural","fr-FR":"fr-FR-DeniseNeural","ga-IE":"ga-IE-ColmNeural","gl-ES":"gl-ES-RoiNeural","gu-IN":"gu-IN-DhwaniNeural","he-IL":"he-IL-AvriNeural","hi-IN":"hi-IN-MadhurNeural","hr-HR":"hr-HR-GabrijelaNeural","hu-HU":"hu-HU-NoemiNeural","id-ID":"id-ID-ArdiNeural","is-IS":"is-IS-GudrunNeural","it-IT":"it-IT-IsabellaNeural","ja-JP":"ja-JP-NanamiNeural","jv-ID":"jv-ID-DimasNeural","kk-KZ":"kk-KZ-AigulNeural","km-KH":"km-KH-PisethNeural","kn-IN":"kn-IN-GaganNeural","ko-KR":"ko-KR-SunHiNeural","lo-LA":"lo-LA-ChanthavongNeural","lt-LT":"lt-LT-LeonasNeural","lv-LV":"lv-LV-EveritaNeural","mk-MK":"mk-MK-AleksandarNeural","ml-IN":"ml-IN-MidhunNeural","mr-IN":"mr-IN-AarohiNeural","ms-MY":"ms-MY-OsmanNeural","mt-MT":"mt-MT-GraceNeural","my-MM":"my-MM-NilarNeural","nb-NO":"nb-NO-PernilleNeural","nl-BE":"nl-BE-ArnaudNeural","nl-NL":"nl-NL-ColetteNeural","pl-PL":"pl-PL-AgnieszkaNeural","ps-AF":"ps-AF-GulNawazNeural","pt-BR":"pt-BR-FranciscaNeural","pt-PT":"pt-PT-DuarteNeural","ro-RO":"ro-RO-AlinaNeural","ru-RU":"ru-RU-SvetlanaNeural","si-LK":"si-LK-SameeraNeural","sk-SK":"sk-SK-LukasNeural","sl-SI":"sl-SI-PetraNeural","so-SO":"so-SO-MuuseNeural","sr-RS":"sr-RS-NicholasNeural","su-ID":"su-ID-JajangNeural","sv-SE":"sv-SE-SofieNeural","sw-KE":"sw-KE-RafikiNeural","sw-TZ":"sw-TZ-DaudiNeural","ta-IN":"ta-IN-PallaviNeural","ta-LK":"ta-LK-KumarNeural","ta-SG":"ta-SG-AnbuNeural","te-IN":"te-IN-MohanNeural","th-TH":"th-TH-PremwadeeNeural","tr-TR":"tr-TR-AhmetNeural","uk-UA":"uk-UA-OstapNeural","ur-IN":"ur-IN-GulNeural","ur-PK":"ur-PK-AsadNeural","uz-UZ":"uz-UZ-MadinaNeural","vi-VN":"vi-VN-HoaiMyNeural","zh-CN":"zh-CN-XiaoxiaoNeural","zh-HK":"zh-HK-HiuMaanNeural","zh-TW":"zh-TW-HsiaoChenNeural","zu-ZA":"zu-ZA-ThandoNeural"};let d=this.properties.getProperty(n.PropertyId.SpeechServiceConnection_SynthLanguage,"en-US"),m=this.properties.getProperty(n.PropertyId.SpeechServiceConnection_SynthVoice,""),h=rk.XMLEncode(a);return this.autoDetectSourceLanguage?d="en-US":m=m||u[d],m&&(h=`<voice name='${m}'>${h}</voice>`),h=`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='${d}'>${h}</speak>`,h}async dispose(a){this.privDisposed||(a&&this.privAdapter&&await this.privAdapter.dispose(),this.privDisposed=!0)}async adapterSpeak(){if(!this.privDisposed&&!this.privSynthesizing){this.privSynthesizing=!0;const a=await this.synthesisRequestQueue.dequeue();return this.privAdapter.Speak(a.text,a.isSSML,a.requestId,a.cb,a.err,a.dataStream)}}createSynthesizerConfig(a){return new e.SynthesizerConfig(a,this.privProperties)}implCommonSynthesizeSetup(){let a=typeof window<"u"?"Browser":"Node",u="unknown",d="unknown";typeof navigator<"u"&&(a=a+"/"+navigator.platform,u=navigator.userAgent,d=navigator.appVersion);const m=this.createSynthesizerConfig(new e.SpeechServiceConfig(new e.Context(new e.OS(a,u,d)))),h=this.privProperties.getProperty(n.PropertyId.SpeechServiceConnection_Key,void 0),g=h&&h!==""?new e.CognitiveSubscriptionKeyAuthentication(h):this.tokenCredential?new e.CognitiveTokenAuthentication(async()=>{try{return(await this.tokenCredential.getToken("https://cognitiveservices.azure.com/.default"))?.token??""}catch(v){throw v}},async()=>{try{return(await this.tokenCredential.getToken("https://cognitiveservices.azure.com/.default"))?.token??""}catch(v){throw v}}):new e.CognitiveTokenAuthentication(()=>{const v=this.privProperties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(v)},()=>{const v=this.privProperties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(v)});this.privAdapter=this.createSynthesisAdapter(g,this.privConnectionFactory,m),this.privRestAdapter=this.createRestSynthesisAdapter(g,m)}static XMLEncode(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}};As.Synthesizer=i;class o{constructor(a,u,d,m,h,g){this.requestId=a,this.text=u,this.isSSML=d,this.cb=m,this.err=h,this.dataStream=g}}return As.SynthesisRequest=o,As}var ru={},WN;function t9(){if(WN)return ru;WN=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.SpeechSynthesizer=void 0;const e=Se(),t=_e(),r=AM(),n=Gd(),i=Ea(),o=je(),l=Z(),a=_S();let u=class nk extends l.Synthesizer{constructor(m,h){super(m),h!==null&&(h===void 0?this.audioConfig=typeof window>"u"?void 0:l.AudioConfig.fromDefaultSpeakerOutput():this.audioConfig=h),this.privConnectionFactory=new e.SpeechSynthesisConnectionFactory,this.implCommonSynthesizeSetup()}static FromConfig(m,h,g){const v=m;return h.properties.mergeTo(v.properties),new nk(m,g)}speakTextAsync(m,h,g,v){this.speakImpl(m,!1,h,g,v)}speakSsmlAsync(m,h,g,v){this.speakImpl(m,!0,h,g,v)}async getVoicesAsync(m=""){return this.getVoices(m)}close(m,h){o.Contracts.throwIfDisposed(this.privDisposed),(0,t.marshalPromiseToCallbacks)(this.dispose(!0),m,h)}get internalData(){return this.privAdapter}createSynthesisAdapter(m,h,g){return new e.SpeechSynthesisAdapter(m,h,g,this,this.audioConfig)}createRestSynthesisAdapter(m,h){return new e.SynthesisRestAdapter(h,m)}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(l.SpeechSynthesisOutputFormat[this.properties.getProperty(l.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)])}speakImpl(m,h,g,v,x){try{o.Contracts.throwIfDisposed(this.privDisposed);const C=(0,t.createNoDashGuid)();let w;x instanceof l.PushAudioOutputStreamCallback?w=new i.PushAudioOutputStreamImpl(x):x instanceof l.PullAudioOutputStream?w=x:x!==void 0?w=new r.AudioFileWriter(x):w=void 0,this.synthesisRequestQueue.enqueue(new a.SynthesisRequest(C,m,h,R=>{if(this.privSynthesizing=!1,g)try{g(R)}catch(b){v&&v(b)}g=void 0,this.adapterSpeak().catch(()=>{})},R=>{v&&v(R)},w)),this.adapterSpeak().catch(()=>{})}catch(C){if(v)if(C instanceof Error){const w=C;v(w.name+": "+w.message)}else v(C);this.dispose(!0).catch(()=>{})}}async getVoices(m){const h=(0,t.createNoDashGuid)(),g=await this.privRestAdapter.getVoicesList(h);if(g.ok&&Array.isArray(g.json)){let v=g.json;return m&&m.length>0&&(v=v.filter(x=>!!x.Locale&&x.Locale.toLowerCase()===m.toLowerCase())),new l.SynthesisVoicesResult(h,v,void 0)}else return new l.SynthesisVoicesResult(h,void 0,`Error: ${g.status}: ${g.statusText}`)}};return ru.SpeechSynthesizer=u,ru}var nu={},VN;function r9(){if(VN)return nu;VN=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.SynthesisResult=void 0;let e=class{constructor(r,n,i,o){this.privResultId=r,this.privReason=n,this.privErrorDetails=i,this.privProperties=o}get resultId(){return this.privResultId}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}};return nu.SynthesisResult=e,nu}var iu={},KN;function n9(){if(KN)return iu;KN=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.SpeechSynthesisResult=void 0;const e=Z();let t=class extends e.SynthesisResult{constructor(n,i,o,l,a,u){super(n,i,l,a),this.privAudioData=o,this.privAudioDuration=u}get audioData(){return this.privAudioData}get audioDuration(){return this.privAudioDuration}};return iu.SpeechSynthesisResult=t,iu}var su={},GN;function i9(){if(GN)return su;GN=1,Object.defineProperty(su,"__esModule",{value:!0}),su.SpeechSynthesisEventArgs=void 0;let e=class{constructor(r){this.privResult=r}get result(){return this.privResult}};return su.SpeechSynthesisEventArgs=e,su}var ou={},JN;function s9(){if(JN)return ou;JN=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.SpeechSynthesisWordBoundaryEventArgs=void 0;let e=class{constructor(r,n,i,o,l,a){this.privAudioOffset=r,this.privDuration=n,this.privText=i,this.privWordLength=o,this.privTextOffset=l,this.privBoundaryType=a}get audioOffset(){return this.privAudioOffset}get duration(){return this.privDuration}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}get boundaryType(){return this.privBoundaryType}};return ou.SpeechSynthesisWordBoundaryEventArgs=e,ou}var au={},QN;function o9(){if(QN)return au;QN=1,Object.defineProperty(au,"__esModule",{value:!0}),au.SpeechSynthesisBookmarkEventArgs=void 0;let e=class{constructor(r,n){this.privAudioOffset=r,this.privText=n}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}};return au.SpeechSynthesisBookmarkEventArgs=e,au}var cu={},XN;function a9(){if(XN)return cu;XN=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.SpeechSynthesisVisemeEventArgs=void 0;let e=class{constructor(r,n,i){this.privAudioOffset=r,this.privVisemeId=n,this.privAnimation=i}get audioOffset(){return this.privAudioOffset}get visemeId(){return this.privVisemeId}get animation(){return this.privAnimation}};return cu.SpeechSynthesisVisemeEventArgs=e,cu}var dv={},YN;function c9(){return YN||(YN=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechSynthesisBoundaryType=void 0,(function(t){t.Word="WordBoundary",t.Punctuation="PunctuationBoundary",t.Sentence="SentenceBoundary"})(e.SpeechSynthesisBoundaryType||(e.SpeechSynthesisBoundaryType={}))})(dv)),dv}var lu={},ZN;function l9(){if(ZN)return lu;ZN=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.SynthesisVoicesResult=void 0;const e=Z();let t=class extends e.SynthesisResult{constructor(n,i,o){if(Array.isArray(i)){super(n,e.ResultReason.VoicesListRetrieved,void 0,new e.PropertyCollection),this.privVoices=[];for(const l of i)this.privVoices.push(new e.VoiceInfo(l))}else super(n,e.ResultReason.Canceled,o||"Error information unavailable",new e.PropertyCollection)}get voices(){return this.privVoices}};return lu.SynthesisVoicesResult=t,lu}var pv={},eE;function u9(){return eE||(eE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceInfo=e.SynthesisVoiceType=e.SynthesisVoiceGender=void 0;var t;(function(l){l[l.Unknown=0]="Unknown",l[l.Female=1]="Female",l[l.Male=2]="Male",l[l.Neutral=3]="Neutral"})(t=e.SynthesisVoiceGender||(e.SynthesisVoiceGender={}));var r;(function(l){l[l.Unknown=0]="Unknown",l[l.OnlineNeural=1]="OnlineNeural",l[l.OnlineStandard=2]="OnlineStandard",l[l.OfflineNeural=3]="OfflineNeural",l[l.OfflineStandard=4]="OfflineStandard",l[l.OnlineNeuralHD=5]="OnlineNeuralHD"})(r=e.SynthesisVoiceType||(e.SynthesisVoiceType={}));const n={[t[t.Neutral]]:t.Neutral,[t[t.Male]]:t.Male,[t[t.Female]]:t.Female},i={Neural:r.OnlineNeural,NeuralHD:r.OnlineNeuralHD};class o{constructor(a){if(this.privStyleList=[],a){if(this.privName=a.Name,this.privLocale=a.Locale,this.privShortName=a.ShortName,this.privLocaleName=a.LocaleName,this.privDisplayName=a.DisplayName,this.privLocalName=a.LocalName,this.privVoiceType=i[a.VoiceType]||r.Unknown,this.privGender=n[a.Gender]||t.Unknown,a.StyleList&&Array.isArray(a.StyleList))for(const u of a.StyleList)this.privStyleList.push(u);this.privSampleRateHertz=a.SampleRateHertz,this.privStatus=a.Status,a.ExtendedPropertyMap&&(this.privExtendedPropertyMap=a.ExtendedPropertyMap),this.privWordsPerMinute=a.WordsPerMinute,Array.isArray(a.SecondaryLocaleList)&&(this.privSecondaryLocaleList=[...a.SecondaryLocaleList]),Array.isArray(a.RolePlayList)&&(this.privRolePlayList=[...a.RolePlayList]),a.VoiceTag&&(this.privVoiceTag=a.VoiceTag)}}get name(){return this.privName}get locale(){return this.privLocale}get shortName(){return this.privShortName}get displayName(){return this.privDisplayName}get localName(){return this.privLocalName}get localeName(){return this.privLocaleName}get gender(){return this.privGender}get voiceType(){return this.privVoiceType}get styleList(){return this.privStyleList}get sampleRateHertz(){return this.privSampleRateHertz}get status(){return this.privStatus}get extendedPropertyMap(){return this.privExtendedPropertyMap}get wordsPerMinute(){return this.privWordsPerMinute}get secondaryLocaleList(){return this.privSecondaryLocaleList}get rolePlayList(){return this.privRolePlayList}get voiceTag(){return this.privVoiceTag}}e.VoiceInfo=o})(pv)),pv}var uu={},tE;function d9(){if(tE)return uu;tE=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.SpeakerAudioDestination=void 0;const e=_e(),t=Ea(),r=no(),n=1800,i={[r.AudioFormatTag.PCM]:"audio/wav",[r.AudioFormatTag.MuLaw]:"audio/x-wav",[r.AudioFormatTag.MP3]:"audio/mpeg",[r.AudioFormatTag.OGG_OPUS]:"audio/ogg",[r.AudioFormatTag.WEBM_OPUS]:"audio/webm; codecs=opus",[r.AudioFormatTag.ALaw]:"audio/x-wav",[r.AudioFormatTag.FLAC]:"audio/flac",[r.AudioFormatTag.AMR_WB]:"audio/amr-wb",[r.AudioFormatTag.G722]:"audio/G722"};let o=class{constructor(a){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=a||(0,e.createNoDashGuid)(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(a,u,d){this.privAudioBuffer!==void 0?(this.privAudioBuffer.push(a),this.updateSourceBuffer().then(()=>{u&&u()},m=>{d&&d(m)})):this.privAudioOutputStream!==void 0&&(this.privAudioOutputStream.write(a),this.privBytesReceived+=a.byteLength)}close(a,u){if(this.privIsClosed=!0,this.privSourceBuffer!==void 0)this.handleSourceBufferUpdateEnd().then(()=>{a&&a()},d=>{u&&u(d)});else if(this.privAudioOutputStream!==void 0&&typeof window<"u")if((this.privFormat.formatTag===r.AudioFormatTag.PCM||this.privFormat.formatTag===r.AudioFormatTag.MuLaw||this.privFormat.formatTag===r.AudioFormatTag.ALaw)&&this.privFormat.hasHeader===!1)console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else{let d=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(d).then(()=>{d=this.privFormat.addHeader(d);const m=new Blob([d],{type:i[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(m),this.notifyPlayback().then(()=>{a&&a()},h=>{u&&u(h)})},m=>{u&&u(m)})}else this.onAudioEnd&&this.onAudioEnd(this)}set format(a){if(typeof AudioContext<"u"||typeof window<"u"&&typeof window.webkitAudioContext<"u"){this.privFormat=a;const u=i[this.privFormat.formatTag];u===void 0?console.warn(`Unknown mimeType for format ${r.AudioFormatTag[this.privFormat.formatTag]}; playback is not supported.`):typeof MediaSource<"u"&&MediaSource.isTypeSupported(u)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=()=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=n,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(u),this.privSourceBuffer.onupdate=()=>{this.updateSourceBuffer().catch(d=>{e.Events.instance.onEvent(new e.BackgroundEvent(d))})},this.privSourceBuffer.onupdateend=()=>{this.handleSourceBufferUpdateEnd().catch(d=>{e.Events.instance.onEvent(new e.BackgroundEvent(d))})},this.privSourceBuffer.onupdatestart=()=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch(d=>{e.Events.instance.onEvent(new e.BackgroundEvent(d))})):(console.warn(`Format ${r.AudioFormatTag[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new t.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get volume(){return this.privAudio?.volume??-1}set volume(a){this.privAudio&&(this.privAudio.volume=a)}mute(){this.privAudio&&(this.privAudio.muted=!0)}unmute(){this.privAudio&&(this.privAudio.muted=!1)}get isClosed(){return this.privIsClosed}get currentTime(){return this.privAudio!==void 0?this.privAudio.currentTime:-1}pause(){!this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.pause(),this.privIsPaused=!0)}resume(a,u){this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.play().then(()=>{a&&a()},d=>{u&&u(d)}),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}async updateSourceBuffer(){if(this.privAudioBuffer!==void 0&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const a=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(a)}catch{this.privAudioBuffer.unshift(a),console.log("buffer filled, pausing addition of binaries until space is made");return}await this.notifyPlayback()}else this.canEndStream()&&await this.handleSourceBufferUpdateEnd()}async handleSourceBufferUpdateEnd(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),await this.notifyPlayback())}async notifyPlayback(){!this.privPlaybackStarted&&this.privAudio!==void 0&&(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||await this.privAudio.play())}canEndStream(){return this.isClosed&&this.privSourceBuffer!==void 0&&this.privAudioBuffer.length===0&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&this.privMediaSource.readyState==="open"}sourceBufferAvailable(){return this.privSourceBuffer!==void 0&&!this.privSourceBuffer.updating}};return uu.SpeakerAudioDestination=o,uu}var du={},rE;function p9(){if(rE)return du;rE=1,Object.defineProperty(du,"__esModule",{value:!0}),du.ConversationTranscriptionCanceledEventArgs=void 0;const e=Jd();let t=class extends e.CancellationEventArgsBase{};return du.ConversationTranscriptionCanceledEventArgs=t,du}var pu={},nE;function m9(){if(nE)return pu;nE=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.MeetingTranscriptionCanceledEventArgs=void 0;const e=Jd();let t=class extends e.CancellationEventArgsBase{};return pu.MeetingTranscriptionCanceledEventArgs=t,pu}var mv={},iE;function h9(){return iE||(iE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PronunciationAssessmentGradingSystem=void 0,(function(t){t[t.FivePoint=1]="FivePoint",t[t.HundredMark=2]="HundredMark"})(e.PronunciationAssessmentGradingSystem||(e.PronunciationAssessmentGradingSystem={}))})(mv)),mv}var hv={},sE;function f9(){return sE||(sE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PronunciationAssessmentGranularity=void 0,(function(t){t[t.Phoneme=1]="Phoneme",t[t.Word=2]="Word",t[t.FullText=3]="FullText"})(e.PronunciationAssessmentGranularity||(e.PronunciationAssessmentGranularity={}))})(hv)),hv}var mu={},oE;function g9(){if(oE)return mu;oE=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.PronunciationAssessmentConfig=void 0;const e=je(),t=Z();let r=class ik{constructor(i,o=t.PronunciationAssessmentGradingSystem.FivePoint,l=t.PronunciationAssessmentGranularity.Phoneme,a=!1){e.Contracts.throwIfNullOrUndefined(i,"referenceText"),this.privProperties=new t.PropertyCollection,this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_ReferenceText,i),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_GradingSystem,t.PronunciationAssessmentGradingSystem[o]),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_Granularity,t.PronunciationAssessmentGranularity[l]),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,String(a))}static fromJSON(i){e.Contracts.throwIfNullOrUndefined(i,"json");const o=new ik("");return o.privProperties=new t.PropertyCollection,o.properties.setProperty(t.PropertyId.PronunciationAssessment_Json,i),o}toJSON(){return this.updateJson(),this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Params)}applyTo(i){this.updateJson();const o=i.internalData;o.expectContentAssessmentResponse=!!this.privContentAssessmentTopic,o.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(t.PropertyId.PronunciationAssessment_Params),this.privContentAssessmentTopic,o.isSpeakerDiarizationEnabled)}get referenceText(){return this.properties.getProperty(t.PropertyId.PronunciationAssessment_ReferenceText)}set referenceText(i){e.Contracts.throwIfNullOrWhitespace(i,"referenceText"),this.properties.setProperty(t.PropertyId.PronunciationAssessment_ReferenceText,i)}set phonemeAlphabet(i){e.Contracts.throwIfNullOrWhitespace(i,"phonemeAlphabet"),this.privPhonemeAlphabet=i}set enableMiscue(i){const o=i?"true":"false";this.properties.setProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,o)}get enableMiscue(){return this.properties.getProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,"false").toLowerCase()==="true"}set nbestPhonemeCount(i){this.privNBestPhonemeCount=i}set enableProsodyAssessment(i){this.privEnableProsodyAssessment=i}enableContentAssessmentWithTopic(i){this.privContentAssessmentTopic=i}get properties(){return this.privProperties}updateJson(){const i=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Json,"{}"),o=JSON.parse(i),l=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_ReferenceText);l&&(o.referenceText=l);const a=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_GradingSystem);a&&(o.gradingSystem=a);const u=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Granularity);u&&(o.granularity=u),this.privPhonemeAlphabet&&(o.phonemeAlphabet=this.privPhonemeAlphabet),this.privNBestPhonemeCount&&(o.nbestPhonemeCount=this.privNBestPhonemeCount),o.enableProsodyAssessment=this.privEnableProsodyAssessment,o.dimension="Comprehensive",this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_EnableMiscue)&&(o.enableMiscue=this.enableMiscue),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_Params,JSON.stringify(o))}};return mu.PronunciationAssessmentConfig=r,mu}var _s={},aE;function v9(){if(aE)return _s;aE=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.PronunciationAssessmentResult=_s.ContentAssessmentResult=void 0;const e=je(),t=Z();class r{constructor(o){this.privPronJson=o}get grammarScore(){return this.privPronJson.ContentAssessment.GrammarScore}get vocabularyScore(){return this.privPronJson.ContentAssessment.VocabularyScore}get topicScore(){return this.privPronJson.ContentAssessment.TopicScore}}_s.ContentAssessmentResult=r;let n=class sk{constructor(o){const l=JSON.parse(o);e.Contracts.throwIfNullOrUndefined(l.NBest[0],"NBest"),this.privPronJson=l.NBest[0]}static fromResult(o){e.Contracts.throwIfNullOrUndefined(o,"result");const l=o.properties.getProperty(t.PropertyId.SpeechServiceResponse_JsonResult);return e.Contracts.throwIfNullOrUndefined(l,"json"),new sk(l)}get detailResult(){return this.privPronJson}get accuracyScore(){return this.detailResult.PronunciationAssessment?.AccuracyScore}get pronunciationScore(){return this.detailResult.PronunciationAssessment?.PronScore}get completenessScore(){return this.detailResult.PronunciationAssessment?.CompletenessScore}get fluencyScore(){return this.detailResult.PronunciationAssessment?.FluencyScore}get prosodyScore(){return this.detailResult.PronunciationAssessment?.ProsodyScore}get contentAssessmentResult(){if(this.detailResult.ContentAssessment!==void 0)return new r(this.detailResult)}};return _s.PronunciationAssessmentResult=n,_s}var hu={},cE;function y9(){if(cE)return hu;cE=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.AvatarConfig=void 0;const e=je(),t=Z();let r=class{constructor(i,o,l){this.privCustomized=!1,this.privUseBuiltInVoice=!1,e.Contracts.throwIfNullOrWhitespace(i,"character"),this.character=i,this.style=o,l===void 0&&(l=new t.AvatarVideoFormat),this.videoFormat=l}get customized(){return this.privCustomized}set customized(i){this.privCustomized=i}get useBuiltInVoice(){return this.privUseBuiltInVoice}set useBuiltInVoice(i){this.privUseBuiltInVoice=i}get backgroundColor(){return this.privBackgroundColor}set backgroundColor(i){this.privBackgroundColor=i}get backgroundImage(){return this.privBackgroundImage}set backgroundImage(i){this.privBackgroundImage=i}get remoteIceServers(){return this.privRemoteIceServers}set remoteIceServers(i){this.privRemoteIceServers=i}};return hu.AvatarConfig=r,hu}var fv={},lE;function S9(){return lE||(lE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AvatarEventArgs=e.AvatarEventTypes=void 0,(function(r){r.SwitchedToSpeaking="SwitchedToSpeaking",r.SwitchedToIdle="SwitchedToIdle",r.SessionClosed="SessionClosed"})(e.AvatarEventTypes||(e.AvatarEventTypes={}));class t{constructor(n,i){this.privOffset=n,this.privDescription=i}get type(){return this.privType}get offset(){return this.privOffset}get description(){return this.privDescription}}e.AvatarEventArgs=t})(fv)),fv}var fu={},gu={},uE;function ok(){if(uE)return gu;uE=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.SpeechSynthesisConnectionFactory=void 0;const e=Wt(),t=Z(),r=sn(),n=Se(),i=ar(),o=Wi();let l=class{constructor(){this.synthesisUri="/tts/cognitiveservices/websocket/v1"}async create(u,d,m){let h=u.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const g=u.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,void 0),v=r.ConnectionFactoryBase.getHostSuffix(g),x=u.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),C=x===void 0?"tts":"voice",w=u.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+g+"."+C+".speech"+v),R={},b={};if(d.token!==void 0&&d.token!==""&&(b[d.headerName]=d.token),b[i.HeaderNames.ConnectionId]=m,x!==void 0&&x!==""&&(!h||h.search(o.QueryParameterNames.CustomVoiceDeploymentId)===-1)&&(R[o.QueryParameterNames.CustomVoiceDeploymentId]=x),u.avatarEnabled&&(!h||h.search(o.QueryParameterNames.EnableAvatar)===-1)&&(R[o.QueryParameterNames.EnableAvatar]="true"),h){const T=new URL(h),A=T.pathname;(A===""||A==="/")&&(T.pathname=this.synthesisUri,h=await r.ConnectionFactoryBase.getRedirectUrlFromEndpoint(T.toString()))}h||(h=w+this.synthesisUri),u.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,h);const N=u.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(h,R,b,new n.WebsocketMessageFormatter,e.ProxyInfo.fromParameters(u.parameters),N,m)}};return gu.SpeechSynthesisConnectionFactory=l,gu}var dE;function C9(){if(dE)return fu;dE=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.AvatarSynthesizer=void 0;const e=ok(),t=Se(),r=_e(),n=Gd(),i=Z(),o=je(),l=_S();let a=class extends i.Synthesizer{constructor(d,m){super(d),o.Contracts.throwIfNullOrUndefined(m,"avatarConfig"),this.privConnectionFactory=new e.SpeechSynthesisConnectionFactory,this.privAvatarConfig=m,this.implCommonSynthesizeSetup()}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(i.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm)}async startAvatarAsync(d){o.Contracts.throwIfNullOrUndefined(d,"peerConnection"),this.privIceServers=d.getConfiguration().iceServers,o.Contracts.throwIfNullOrUndefined(this.privIceServers,"Ice servers must be set.");const m=new r.Deferred;d.onicegatheringstatechange=()=>{r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering state: "+d.iceGatheringState,r.EventType.Debug)),d.iceGatheringState==="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering complete.",r.EventType.Info)),m.resolve())},d.onicecandidate=C=>{C.candidate?r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: "+C.candidate.candidate,r.EventType.Debug)):(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: complete",r.EventType.Debug)),m.resolve())},setTimeout(()=>{d.iceGatheringState!=="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering timeout.",r.EventType.Warning)),m.resolve())},2e3);const h=await d.createOffer();await d.setLocalDescription(h),await m.promise,r.Events.instance.onEvent(new r.PlatformEvent("peer connection: got local SDP.",r.EventType.Info)),this.privProperties.setProperty(i.PropertyId.TalkingAvatarService_WebRTC_SDP,JSON.stringify(d.localDescription));const g=await this.speak("",!1);if(g.reason!==i.ResultReason.SynthesizingAudioCompleted)return new i.SynthesisResult(g.resultId,g.reason,g.errorDetails,g.properties);const v=atob(g.properties.getProperty(i.PropertyId.TalkingAvatarService_WebRTC_SDP)),x=new RTCSessionDescription(JSON.parse(v));return await d.setRemoteDescription(x),new i.SynthesisResult(g.resultId,g.reason,void 0,g.properties)}async speakTextAsync(d){const m=await this.speak(d,!1);return new i.SynthesisResult(m.resultId,m.reason,m.errorDetails,m.properties)}async speakSsmlAsync(d){const m=await this.speak(d,!0);return new i.SynthesisResult(m.resultId,m.reason,m.errorDetails,m.properties)}async stopSpeakingAsync(){for(;this.synthesisRequestQueue.length()>0;)(await this.synthesisRequestQueue.dequeue()).err("Synthesis is canceled by user.");return this.privAdapter.stopSpeaking()}async stopAvatarAsync(){return o.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)}async close(){if(!this.privDisposed)return this.dispose(!0)}get iceServers(){return this.privIceServers}createSynthesisAdapter(d,m,h){return new t.AvatarSynthesisAdapter(d,m,h,this,this.privAvatarConfig)}createRestSynthesisAdapter(d,m){}createSynthesizerConfig(d){const m=super.createSynthesizerConfig(d);return m.avatarEnabled=!0,m}async speak(d,m){const h=(0,r.createNoDashGuid)(),g=new r.Deferred;return this.synthesisRequestQueue.enqueue(new l.SynthesisRequest(h,d,m,v=>{g.resolve(v),this.privSynthesizing=!1,this.adapterSpeak()},v=>{g.reject(v),this.privSynthesizing=!1})),this.adapterSpeak(),g.promise}};return fu.AvatarSynthesizer=a,fu}var zs={},pE;function x9(){if(pE)return zs;pE=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.AvatarVideoFormat=zs.Coordinate=void 0;class e{constructor(n,i){this.x=n,this.y=i}}zs.Coordinate=e;let t=class{constructor(n="H264",i=2e6,o=1920,l=1080){this.codec=n,this.bitrate=i,this.width=o,this.height=l}setCropRange(n,i){this.cropRange={bottomRight:i,topLeft:n}}};return zs.AvatarVideoFormat=t,zs}var vu={},mE;function P9(){if(mE)return vu;mE=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.AvatarWebRTCConnectionResult=void 0;const e=Z();let t=class extends e.SynthesisResult{constructor(n,i,o,l,a){super(i,o,l,a),this.privSDPAnswer=n}get SDPAnswer(){return this.privSDPAnswer}};return vu.AvatarWebRTCConnectionResult=t,vu}var yu={},hE;function R9(){if(hE)return yu;hE=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.Diagnostics=void 0;const e=Wt(),t=_e();let r=class{static SetLoggingLevel(i){this.privListener=new e.ConsoleLoggingListener(i),t.Events.instance.attachConsoleListener(this.privListener)}static StartConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!0)}static StopConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!1)}static SetLogOutputPath(i){if(typeof window>"u")this.privListener&&(this.privListener.logPath=i);else throw new Error("File system logging not available in browser.")}static set onLogOutput(i){this.privListener&&(this.privListener.logCallback=i)}};return yu.Diagnostics=r,r.privListener=void 0,yu}var fE;function Z(){return fE||(fE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionEventArgs=e.CancellationErrorCode=e.CancellationDetails=e.CancellationDetailsBase=e.IntentRecognitionCanceledEventArgs=e.TranslationRecognitionCanceledEventArgs=e.NoMatchDetails=e.NoMatchReason=e.Translations=e.TranslationRecognizer=e.VoiceProfileType=e.IntentRecognizer=e.SpeechRecognizer=e.Recognizer=e.PropertyId=e.PropertyCollection=e.SpeechTranslationConfigImpl=e.SpeechTranslationConfig=e.SpeechConfigImpl=e.SpeechConfig=e.ResultReason=e.TranslationSynthesisResult=e.TranslationRecognitionResult=e.TranslationSynthesisEventArgs=e.TranslationRecognitionEventArgs=e.SpeechRecognitionCanceledEventArgs=e.MeetingTranscriptionEventArgs=e.ConversationTranscriptionEventArgs=e.SpeechRecognitionEventArgs=e.LanguageUnderstandingModel=e.IntentRecognitionResult=e.SpeechRecognitionResult=e.RecognitionResult=e.IntentRecognitionEventArgs=e.OutputFormat=e.RecognitionEventArgs=e.SessionEventArgs=e.KeywordRecognitionModel=e.PushAudioOutputStreamCallback=e.PullAudioInputStreamCallback=e.CancellationReason=e.PushAudioOutputStream=e.PullAudioOutputStream=e.AudioOutputStream=e.PushAudioInputStream=e.PullAudioInputStream=e.AudioInputStream=e.AudioFormatTag=e.AudioStreamFormat=e.AudioConfig=void 0,e.SpeechSynthesisEventArgs=e.SpeechSynthesisResult=e.SynthesisResult=e.SpeechSynthesizer=e.SpeechSynthesisOutputFormat=e.Synthesizer=e.User=e.ParticipantChangedReason=e.Participant=e.MeetingTranscriber=e.Meeting=e.ConversationTranscriptionResult=e.ConversationTranscriber=e.ConversationTranslator=e.ConversationTranslationResult=e.ConversationTranslationEventArgs=e.ConversationTranslationCanceledEventArgs=e.ConversationParticipantsChangedEventArgs=e.ConversationExpirationEventArgs=e.Conversation=e.SpeakerRecognitionCancellationDetails=e.SpeakerRecognitionResultType=e.SpeakerRecognitionResult=e.SourceLanguageConfig=e.AutoDetectSourceLanguageResult=e.AutoDetectSourceLanguageConfig=e.SpeakerVerificationModel=e.SpeakerIdentificationModel=e.SpeakerRecognizer=e.VoiceProfileClient=e.VoiceProfilePhraseResult=e.VoiceProfileCancellationDetails=e.VoiceProfileResult=e.VoiceProfileEnrollmentCancellationDetails=e.VoiceProfileEnrollmentResult=e.VoiceProfile=e.ConnectionMessage=e.ConnectionMessageEventArgs=e.BaseAudioPlayer=e.ProfanityOption=e.ServicePropertyChannel=e.TurnStatusReceivedEventArgs=e.ActivityReceivedEventArgs=e.DialogServiceConnector=e.CustomCommandsConfig=e.BotFrameworkConfig=e.DialogServiceConfig=e.PhraseListGrammar=e.Connection=e.ServiceEventArgs=void 0,e.LogLevel=e.Diagnostics=e.AvatarWebRTCConnectionResult=e.Coordinate=e.AvatarVideoFormat=e.AvatarSynthesizer=e.AvatarEventArgs=e.AvatarConfig=e.LanguageIdMode=e.PronunciationAssessmentResult=e.PronunciationAssessmentConfig=e.PronunciationAssessmentGranularity=e.PronunciationAssessmentGradingSystem=e.MeetingTranscriptionCanceledEventArgs=e.ConversationTranscriptionCanceledEventArgs=e.SpeakerAudioDestination=e.VoiceInfo=e.SynthesisVoiceType=e.SynthesisVoiceGender=e.SynthesisVoicesResult=e.SpeechSynthesisBoundaryType=e.SpeechSynthesisVisemeEventArgs=e.SpeechSynthesisBookmarkEventArgs=e.SpeechSynthesisWordBoundaryEventArgs=void 0;var t=kM();Object.defineProperty(e,"AudioConfig",{enumerable:!0,get:function(){return t.AudioConfig}});var r=no();Object.defineProperty(e,"AudioStreamFormat",{enumerable:!0,get:function(){return r.AudioStreamFormat}}),Object.defineProperty(e,"AudioFormatTag",{enumerable:!0,get:function(){return r.AudioFormatTag}});var n=_M();Object.defineProperty(e,"AudioInputStream",{enumerable:!0,get:function(){return n.AudioInputStream}}),Object.defineProperty(e,"PullAudioInputStream",{enumerable:!0,get:function(){return n.PullAudioInputStream}}),Object.defineProperty(e,"PushAudioInputStream",{enumerable:!0,get:function(){return n.PushAudioInputStream}});var i=Ea();Object.defineProperty(e,"AudioOutputStream",{enumerable:!0,get:function(){return i.AudioOutputStream}}),Object.defineProperty(e,"PullAudioOutputStream",{enumerable:!0,get:function(){return i.PullAudioOutputStream}}),Object.defineProperty(e,"PushAudioOutputStream",{enumerable:!0,get:function(){return i.PushAudioOutputStream}});var o=D8();Object.defineProperty(e,"CancellationReason",{enumerable:!0,get:function(){return o.CancellationReason}});var l=B8();Object.defineProperty(e,"PullAudioInputStreamCallback",{enumerable:!0,get:function(){return l.PullAudioInputStreamCallback}});var a=L8();Object.defineProperty(e,"PushAudioOutputStreamCallback",{enumerable:!0,get:function(){return a.PushAudioOutputStreamCallback}});var u=j8();Object.defineProperty(e,"KeywordRecognitionModel",{enumerable:!0,get:function(){return u.KeywordRecognitionModel}});var d=q8();Object.defineProperty(e,"SessionEventArgs",{enumerable:!0,get:function(){return d.SessionEventArgs}});var m=F8();Object.defineProperty(e,"RecognitionEventArgs",{enumerable:!0,get:function(){return m.RecognitionEventArgs}});var h=H8();Object.defineProperty(e,"OutputFormat",{enumerable:!0,get:function(){return h.OutputFormat}});var g=U8();Object.defineProperty(e,"IntentRecognitionEventArgs",{enumerable:!0,get:function(){return g.IntentRecognitionEventArgs}});var v=$8();Object.defineProperty(e,"RecognitionResult",{enumerable:!0,get:function(){return v.RecognitionResult}});var x=W8();Object.defineProperty(e,"SpeechRecognitionResult",{enumerable:!0,get:function(){return x.SpeechRecognitionResult}});var C=V8();Object.defineProperty(e,"IntentRecognitionResult",{enumerable:!0,get:function(){return C.IntentRecognitionResult}});var w=K8();Object.defineProperty(e,"LanguageUnderstandingModel",{enumerable:!0,get:function(){return w.LanguageUnderstandingModel}});var R=G8();Object.defineProperty(e,"SpeechRecognitionEventArgs",{enumerable:!0,get:function(){return R.SpeechRecognitionEventArgs}}),Object.defineProperty(e,"ConversationTranscriptionEventArgs",{enumerable:!0,get:function(){return R.ConversationTranscriptionEventArgs}}),Object.defineProperty(e,"MeetingTranscriptionEventArgs",{enumerable:!0,get:function(){return R.MeetingTranscriptionEventArgs}});var b=J8();Object.defineProperty(e,"SpeechRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return b.SpeechRecognitionCanceledEventArgs}});var N=Q8();Object.defineProperty(e,"TranslationRecognitionEventArgs",{enumerable:!0,get:function(){return N.TranslationRecognitionEventArgs}});var T=X8();Object.defineProperty(e,"TranslationSynthesisEventArgs",{enumerable:!0,get:function(){return T.TranslationSynthesisEventArgs}});var A=DM();Object.defineProperty(e,"TranslationRecognitionResult",{enumerable:!0,get:function(){return A.TranslationRecognitionResult}});var k=Y8();Object.defineProperty(e,"TranslationSynthesisResult",{enumerable:!0,get:function(){return k.TranslationSynthesisResult}});var M=Z8();Object.defineProperty(e,"ResultReason",{enumerable:!0,get:function(){return M.ResultReason}});var z=eW();Object.defineProperty(e,"SpeechConfig",{enumerable:!0,get:function(){return z.SpeechConfig}}),Object.defineProperty(e,"SpeechConfigImpl",{enumerable:!0,get:function(){return z.SpeechConfigImpl}});var V=tW();Object.defineProperty(e,"SpeechTranslationConfig",{enumerable:!0,get:function(){return V.SpeechTranslationConfig}}),Object.defineProperty(e,"SpeechTranslationConfigImpl",{enumerable:!0,get:function(){return V.SpeechTranslationConfigImpl}});var K=LM();Object.defineProperty(e,"PropertyCollection",{enumerable:!0,get:function(){return K.PropertyCollection}});var ue=TS();Object.defineProperty(e,"PropertyId",{enumerable:!0,get:function(){return ue.PropertyId}});var we=rW();Object.defineProperty(e,"Recognizer",{enumerable:!0,get:function(){return we.Recognizer}});var H=nW();Object.defineProperty(e,"SpeechRecognizer",{enumerable:!0,get:function(){return H.SpeechRecognizer}});var ie=iW();Object.defineProperty(e,"IntentRecognizer",{enumerable:!0,get:function(){return ie.IntentRecognizer}});var oe=sW();Object.defineProperty(e,"VoiceProfileType",{enumerable:!0,get:function(){return oe.VoiceProfileType}});var fe=oW();Object.defineProperty(e,"TranslationRecognizer",{enumerable:!0,get:function(){return fe.TranslationRecognizer}});var ae=aW();Object.defineProperty(e,"Translations",{enumerable:!0,get:function(){return ae.Translations}});var L=cW();Object.defineProperty(e,"NoMatchReason",{enumerable:!0,get:function(){return L.NoMatchReason}});var ee=lW();Object.defineProperty(e,"NoMatchDetails",{enumerable:!0,get:function(){return ee.NoMatchDetails}});var G=uW();Object.defineProperty(e,"TranslationRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return G.TranslationRecognitionCanceledEventArgs}});var D=dW();Object.defineProperty(e,"IntentRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return D.IntentRecognitionCanceledEventArgs}});var $=WM();Object.defineProperty(e,"CancellationDetailsBase",{enumerable:!0,get:function(){return $.CancellationDetailsBase}});var ge=pW();Object.defineProperty(e,"CancellationDetails",{enumerable:!0,get:function(){return ge.CancellationDetails}});var Ce=mW();Object.defineProperty(e,"CancellationErrorCode",{enumerable:!0,get:function(){return Ce.CancellationErrorCode}});var ke=hW();Object.defineProperty(e,"ConnectionEventArgs",{enumerable:!0,get:function(){return ke.ConnectionEventArgs}});var Oe=fW();Object.defineProperty(e,"ServiceEventArgs",{enumerable:!0,get:function(){return Oe.ServiceEventArgs}});var X=HM();Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return X.Connection}});var Ne=gW();Object.defineProperty(e,"PhraseListGrammar",{enumerable:!0,get:function(){return Ne.PhraseListGrammar}});var Ae=IS();Object.defineProperty(e,"DialogServiceConfig",{enumerable:!0,get:function(){return Ae.DialogServiceConfig}});var De=vW();Object.defineProperty(e,"BotFrameworkConfig",{enumerable:!0,get:function(){return De.BotFrameworkConfig}});var He=yW();Object.defineProperty(e,"CustomCommandsConfig",{enumerable:!0,get:function(){return He.CustomCommandsConfig}});var Je=CW();Object.defineProperty(e,"DialogServiceConnector",{enumerable:!0,get:function(){return Je.DialogServiceConnector}});var wt=xW();Object.defineProperty(e,"ActivityReceivedEventArgs",{enumerable:!0,get:function(){return wt.ActivityReceivedEventArgs}});var nr=RW();Object.defineProperty(e,"TurnStatusReceivedEventArgs",{enumerable:!0,get:function(){return nr.TurnStatusReceivedEventArgs}});var an=wW();Object.defineProperty(e,"ServicePropertyChannel",{enumerable:!0,get:function(){return an.ServicePropertyChannel}});var jr=bW();Object.defineProperty(e,"ProfanityOption",{enumerable:!0,get:function(){return jr.ProfanityOption}});var cr=NW();Object.defineProperty(e,"BaseAudioPlayer",{enumerable:!0,get:function(){return cr.BaseAudioPlayer}});var In=EW();Object.defineProperty(e,"ConnectionMessageEventArgs",{enumerable:!0,get:function(){return In.ConnectionMessageEventArgs}});var Vi=FM();Object.defineProperty(e,"ConnectionMessage",{enumerable:!0,get:function(){return Vi.ConnectionMessage}});var An=TW();Object.defineProperty(e,"VoiceProfile",{enumerable:!0,get:function(){return An.VoiceProfile}});var qr=IW();Object.defineProperty(e,"VoiceProfileEnrollmentResult",{enumerable:!0,get:function(){return qr.VoiceProfileEnrollmentResult}}),Object.defineProperty(e,"VoiceProfileEnrollmentCancellationDetails",{enumerable:!0,get:function(){return qr.VoiceProfileEnrollmentCancellationDetails}});var cn=AW();Object.defineProperty(e,"VoiceProfileResult",{enumerable:!0,get:function(){return cn.VoiceProfileResult}}),Object.defineProperty(e,"VoiceProfileCancellationDetails",{enumerable:!0,get:function(){return cn.VoiceProfileCancellationDetails}});var ri=_W();Object.defineProperty(e,"VoiceProfilePhraseResult",{enumerable:!0,get:function(){return ri.VoiceProfilePhraseResult}});var _n=zW();Object.defineProperty(e,"VoiceProfileClient",{enumerable:!0,get:function(){return _n.VoiceProfileClient}});var io=MW();Object.defineProperty(e,"SpeakerRecognizer",{enumerable:!0,get:function(){return io.SpeakerRecognizer}});var so=kW();Object.defineProperty(e,"SpeakerIdentificationModel",{enumerable:!0,get:function(){return so.SpeakerIdentificationModel}});var Ki=OW();Object.defineProperty(e,"SpeakerVerificationModel",{enumerable:!0,get:function(){return Ki.SpeakerVerificationModel}});var ln=DW();Object.defineProperty(e,"AutoDetectSourceLanguageConfig",{enumerable:!0,get:function(){return ln.AutoDetectSourceLanguageConfig}});var lr=BW();Object.defineProperty(e,"AutoDetectSourceLanguageResult",{enumerable:!0,get:function(){return lr.AutoDetectSourceLanguageResult}});var zn=LW();Object.defineProperty(e,"SourceLanguageConfig",{enumerable:!0,get:function(){return zn.SourceLanguageConfig}});var Fr=jW();Object.defineProperty(e,"SpeakerRecognitionResult",{enumerable:!0,get:function(){return Fr.SpeakerRecognitionResult}}),Object.defineProperty(e,"SpeakerRecognitionResultType",{enumerable:!0,get:function(){return Fr.SpeakerRecognitionResultType}}),Object.defineProperty(e,"SpeakerRecognitionCancellationDetails",{enumerable:!0,get:function(){return Fr.SpeakerRecognitionCancellationDetails}});var Dt=AS();Object.defineProperty(e,"Conversation",{enumerable:!0,get:function(){return Dt.Conversation}}),Object.defineProperty(e,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return Dt.ConversationExpirationEventArgs}}),Object.defineProperty(e,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return Dt.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(e,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return Dt.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(e,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return Dt.ConversationTranslationEventArgs}}),Object.defineProperty(e,"ConversationTranslationResult",{enumerable:!0,get:function(){return Dt.ConversationTranslationResult}}),Object.defineProperty(e,"ConversationTranslator",{enumerable:!0,get:function(){return Dt.ConversationTranslator}}),Object.defineProperty(e,"ConversationTranscriber",{enumerable:!0,get:function(){return Dt.ConversationTranscriber}}),Object.defineProperty(e,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return Dt.ConversationTranscriptionResult}}),Object.defineProperty(e,"Meeting",{enumerable:!0,get:function(){return Dt.Meeting}}),Object.defineProperty(e,"MeetingTranscriber",{enumerable:!0,get:function(){return Dt.MeetingTranscriber}}),Object.defineProperty(e,"Participant",{enumerable:!0,get:function(){return Dt.Participant}}),Object.defineProperty(e,"ParticipantChangedReason",{enumerable:!0,get:function(){return Dt.ParticipantChangedReason}}),Object.defineProperty(e,"User",{enumerable:!0,get:function(){return Dt.User}});var Gi=_S();Object.defineProperty(e,"Synthesizer",{enumerable:!0,get:function(){return Gi.Synthesizer}});var ni=zM();Object.defineProperty(e,"SpeechSynthesisOutputFormat",{enumerable:!0,get:function(){return ni.SpeechSynthesisOutputFormat}});var W=t9();Object.defineProperty(e,"SpeechSynthesizer",{enumerable:!0,get:function(){return W.SpeechSynthesizer}});var U=r9();Object.defineProperty(e,"SynthesisResult",{enumerable:!0,get:function(){return U.SynthesisResult}});var te=n9();Object.defineProperty(e,"SpeechSynthesisResult",{enumerable:!0,get:function(){return te.SpeechSynthesisResult}});var se=i9();Object.defineProperty(e,"SpeechSynthesisEventArgs",{enumerable:!0,get:function(){return se.SpeechSynthesisEventArgs}});var Te=s9();Object.defineProperty(e,"SpeechSynthesisWordBoundaryEventArgs",{enumerable:!0,get:function(){return Te.SpeechSynthesisWordBoundaryEventArgs}});var Le=o9();Object.defineProperty(e,"SpeechSynthesisBookmarkEventArgs",{enumerable:!0,get:function(){return Le.SpeechSynthesisBookmarkEventArgs}});var Ze=a9();Object.defineProperty(e,"SpeechSynthesisVisemeEventArgs",{enumerable:!0,get:function(){return Ze.SpeechSynthesisVisemeEventArgs}});var Fe=c9();Object.defineProperty(e,"SpeechSynthesisBoundaryType",{enumerable:!0,get:function(){return Fe.SpeechSynthesisBoundaryType}});var et=l9();Object.defineProperty(e,"SynthesisVoicesResult",{enumerable:!0,get:function(){return et.SynthesisVoicesResult}});var Tt=u9();Object.defineProperty(e,"SynthesisVoiceGender",{enumerable:!0,get:function(){return Tt.SynthesisVoiceGender}}),Object.defineProperty(e,"SynthesisVoiceType",{enumerable:!0,get:function(){return Tt.SynthesisVoiceType}}),Object.defineProperty(e,"VoiceInfo",{enumerable:!0,get:function(){return Tt.VoiceInfo}});var It=d9();Object.defineProperty(e,"SpeakerAudioDestination",{enumerable:!0,get:function(){return It.SpeakerAudioDestination}});var Ji=p9();Object.defineProperty(e,"ConversationTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return Ji.ConversationTranscriptionCanceledEventArgs}});var oo=m9();Object.defineProperty(e,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return oo.MeetingTranscriptionCanceledEventArgs}});var ur=h9();Object.defineProperty(e,"PronunciationAssessmentGradingSystem",{enumerable:!0,get:function(){return ur.PronunciationAssessmentGradingSystem}});var ao=f9();Object.defineProperty(e,"PronunciationAssessmentGranularity",{enumerable:!0,get:function(){return ao.PronunciationAssessmentGranularity}});var un=g9();Object.defineProperty(e,"PronunciationAssessmentConfig",{enumerable:!0,get:function(){return un.PronunciationAssessmentConfig}});var co=v9();Object.defineProperty(e,"PronunciationAssessmentResult",{enumerable:!0,get:function(){return co.PronunciationAssessmentResult}});var Qi=QM();Object.defineProperty(e,"LanguageIdMode",{enumerable:!0,get:function(){return Qi.LanguageIdMode}});var ph=y9();Object.defineProperty(e,"AvatarConfig",{enumerable:!0,get:function(){return ph.AvatarConfig}});var Xi=S9();Object.defineProperty(e,"AvatarEventArgs",{enumerable:!0,get:function(){return Xi.AvatarEventArgs}});var lo=C9();Object.defineProperty(e,"AvatarSynthesizer",{enumerable:!0,get:function(){return lo.AvatarSynthesizer}});var Yi=x9();Object.defineProperty(e,"AvatarVideoFormat",{enumerable:!0,get:function(){return Yi.AvatarVideoFormat}}),Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return Yi.Coordinate}});var Ia=P9();Object.defineProperty(e,"AvatarWebRTCConnectionResult",{enumerable:!0,get:function(){return Ia.AvatarWebRTCConnectionResult}});var mh=R9();Object.defineProperty(e,"Diagnostics",{enumerable:!0,get:function(){return mh.Diagnostics}});var hh=TM();Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return hh.LogLevel}})})(Gg)),Gg}var gE;function w9(){if(gE)return Vc;gE=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.ProxyInfo=void 0;const e=Z();let t=class ak{constructor(n,i,o,l){this.privProxyHostName=n,this.privProxyPort=i,this.privProxyUserName=o,this.privProxyPassword=l}static fromParameters(n){return new ak(n.getProperty(e.PropertyId.SpeechServiceConnection_ProxyHostName),parseInt(n.getProperty(e.PropertyId.SpeechServiceConnection_ProxyPort),10),n.getProperty(e.PropertyId.SpeechServiceConnection_ProxyUserName),n.getProperty(e.PropertyId.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(n){return this.fromParameters(n.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}};return Vc.ProxyInfo=t,Vc}var Su={},gv,vE;function b9(){if(vE)return gv;vE=1;const e=new Set(["json","buffer","string"]);return gv=t=>(...r)=>{const n=new Set;let i,o,l,a="";return r.forEach(u=>{if(typeof u=="string")if(u.toUpperCase()===u)if(i){const d=`Can't set method to ${u}, already set to ${i}.`;throw new Error(d)}else i=u;else if(u.startsWith("http:")||u.startsWith("https:"))a=u;else if(e.has(u))o=u;else throw new Error(`Unknown encoding, ${u}`);else if(typeof u=="number")n.add(u);else if(typeof u=="object")if(Array.isArray(u)||u instanceof Set)u.forEach(d=>n.add(d));else{if(l)throw new Error("Cannot set headers twice.");l=u}else throw new Error(`Unknown type: ${typeof u}`)}),i||(i="GET"),n.size===0&&n.add(200),t(n,i,o,l,a)},gv}var vv,yE;function N9(){if(yE)return vv;yE=1;const e=b9();class t extends Error{constructor(i,...o){super(...o),Error.captureStackTrace&&Error.captureStackTrace(this,t),this.name="StatusError",this.message=i.statusMessage,this.statusCode=i.status,this.res=i,this.json=i.json.bind(i),this.text=i.text.bind(i),this.arrayBuffer=i.arrayBuffer.bind(i);let l;Object.defineProperty(this,"responseBody",{get:()=>(l||(l=this.arrayBuffer()),l)}),this.headers={};for(const[u,d]of i.headers.entries())this.headers[u.toLowerCase()]=d}}return vv=e((n,i,o,l,a)=>async(u,d,m={})=>{u=a+(u||"");let h=new URL(u);if(l||(l={}),h.username&&(l.Authorization="Basic "+btoa(h.username+":"+h.password),h=new URL(h.protocol+"//"+h.host+h.pathname+h.search)),h.protocol!=="https:"&&h.protocol!=="http:")throw new Error(`Unknown protocol, ${h.protocol}`);if(d&&!(d instanceof ArrayBuffer||ArrayBuffer.isView(d)||typeof d=="string"))if(typeof d=="object")d=JSON.stringify(d),l["Content-Type"]="application/json";else throw new Error("Unknown body type.");m=new Headers({...l||{},...m});const g=await fetch(h,{method:i,headers:m,body:d});if(g.statusCode=g.status,!n.has(g.status))throw new t(g);return o==="json"?g.json():o==="buffer"?g.arrayBuffer():o==="string"?g.text():g}),vv}var SE;function E9(){return SE||(SE=1,(function(e){var t=Su&&Su.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.RestMessageAdapter=e.RestRequestType=void 0;const r=t(N9()),n=_e();var i;(function(l){l.Get="GET",l.Post="POST",l.Delete="DELETE",l.File="file"})(i=e.RestRequestType||(e.RestRequestType={}));let o=class{constructor(a){if(!a)throw new n.ArgumentNullError("configParams");this.privHeaders=a.headers,this.privIgnoreCache=a.ignoreCache}static extractHeaderValue(a,u){let d="";try{const m=u.trim().split(/[\r\n]+/),h={};m.forEach(g=>{const v=g.split(": "),x=v.shift().toLowerCase(),C=v.join(": ");h[x]=C}),d=h[a.toLowerCase()]}catch{}return d}set options(a){this.privHeaders=a.headers,this.privIgnoreCache=a.ignoreCache}setHeaders(a,u){this.privHeaders[a]=u}request(a,u,d={},m=null){const h=new n.Deferred,g=a===i.File?"POST":a,v=(C,w={})=>{const R=C;return{data:JSON.stringify(w),headers:JSON.stringify(C.headers),json:w,ok:C.statusCode>=200&&C.statusCode<300,status:C.statusCode,statusText:w.error?w.error.message:R.statusText?R.statusText:R.statusMessage}},x=C=>{const w=(0,r.default)(u,g,this.privHeaders,200,201,202,204,400,401,402,403,404),R=this.queryParams(d)===""?"":`?${this.queryParams(d)}`;w(R,C).then(async b=>{if(a===i.Delete||b.statusCode===204)h.resolve(v(b));else try{const N=await b.json();h.resolve(v(b,N))}catch{h.resolve(v(b))}}).catch(b=>{h.reject(b)})};return this.privIgnoreCache&&(this.privHeaders["Cache-Control"]="no-cache"),a===i.Post&&m&&(this.privHeaders["content-type"]="application/json",this.privHeaders["Content-Type"]="application/json"),x(m),h.promise}queryParams(a={}){return Object.keys(a).map(u=>encodeURIComponent(u)+"="+encodeURIComponent(a[u])).join("&")}};e.RestMessageAdapter=o})(Su)),Su}var Cu={},CE;function ck(){if(CE)return Cu;CE=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.RestConfigBase=void 0;let e=class wm{static get requestOptions(){return wm.privDefaultRequestOptions}static get configParams(){return wm.privDefaultParams}static get restErrors(){return wm.privRestErrors}};return Cu.RestConfigBase=e,e.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4},e.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."},e.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"},Cu}var xE;function Wt(){return xE||(xE=1,(function(e){var t=Ss&&Ss.__createBinding||(Object.create?(function(n,i,o,l){l===void 0&&(l=o),Object.defineProperty(n,l,{enumerable:!0,get:function(){return i[o]}})}):(function(n,i,o,l){l===void 0&&(l=o),n[l]=i[o]})),r=Ss&&Ss.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(I8(),e),r(A8(),e),r(_8(),e),r(z8(),e),r(M8(),e),r(k8(),e),r(IM(),e),r(O8(),e),r(w9(),e),r(E9(),e),r(ck(),e)})(Ss)),Ss}var PE;function T9(){if(PE)return qc;PE=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.IntentConnectionFactory=void 0;const e=Wt(),t=Z(),r=sn(),n=Se(),i=ar();let o=class extends r.ConnectionFactoryBase{create(a,u,d){let m=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint);if(!m){const x=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_IntentRegion),C=r.ConnectionFactoryBase.getHostSuffix(x);m=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+x+".sr.speech"+C)+"/speech/recognition/interactive/cognitiveservices/v1"}const h={format:"simple",language:a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(a,h,m);const g={};u.token!==void 0&&u.token!==""&&(g[u.headerName]=u.token),g[i.HeaderNames.ConnectionId]=d,a.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,m);const v=a.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return Promise.resolve(new e.WebsocketConnection(m,h,g,new n.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(a),v,d))}getSpeechRegionFromIntentRegion(a){switch(a){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return a}}};return qc.IntentConnectionFactory=o,qc}var Ms={},RE;function I9(){if(RE)return Ms;RE=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.VoiceProfileConnectionFactory=Ms.SpeakerRecognitionConnectionFactory=void 0;const e=Wt(),t=Z(),r=sn(),n=Se(),i=ar();class o extends r.ConnectionFactoryBase{create(d,m,h,g){let v=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint);if(!v){const R=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region),b=r.ConnectionFactoryBase.getHostSuffix(R),N=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,`wss://${R}.spr-frontend.speech${b}`),T=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_SpeakerIdMode,"TextIndependentIdentification");v=`${N}/speaker/ws/${this.scenarioToPath(T)}/${h}`}const x={format:"simple",language:d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(d,x,v);const C={};m.token!==void 0&&m.token!==""&&(C[m.headerName]=m.token),C[i.HeaderNames.ConnectionId]=g,C[i.HeaderNames.SpIDAuthKey]=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Key),d.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,v);const w=d.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return Promise.resolve(new e.WebsocketConnection(v,x,C,new n.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(d),w,g))}scenarioToPath(d){switch(d){case"TextIndependentVerification":case"2":return"verification/text-independent";case"TextDependentVerification":case"1":return"verification/text-dependent";default:return"identification/text-independent"}}}let l=class extends o{create(d,m,h){return super.create(d,m,"recognition",h)}};Ms.SpeakerRecognitionConnectionFactory=l;class a extends o{create(d,m,h){return super.create(d,m,"profile",h)}}return Ms.VoiceProfileConnectionFactory=a,Ms}var yv={},wE;function zS(){return wE||(wE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionEndedEvent=e.RecognitionCompletionStatus=e.RecognitionStartedEvent=e.ConnectingToServiceEvent=e.ListeningStartedEvent=e.RecognitionTriggeredEvent=e.SpeechRecognitionEvent=void 0;const t=_e();class r extends t.PlatformEvent{constructor(m,h,g,v=t.EventType.Info){super(m,v),this.privRequestId=h,this.privSessionId=g}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}e.SpeechRecognitionEvent=r;class n extends r{constructor(m,h,g,v){super("RecognitionTriggeredEvent",m,h),this.privAudioSourceId=g,this.privAudioNodeId=v}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}e.RecognitionTriggeredEvent=n;class i extends r{constructor(m,h,g,v){super("ListeningStartedEvent",m,h),this.privAudioSourceId=g,this.privAudioNodeId=v}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}e.ListeningStartedEvent=i;class o extends r{constructor(m,h,g){super("ConnectingToServiceEvent",m,g),this.privAuthFetchEventid=h}get authFetchEventid(){return this.privAuthFetchEventid}}e.ConnectingToServiceEvent=o;class l extends r{constructor(m,h,g,v,x){super("RecognitionStartedEvent",m,x),this.privAudioSourceId=h,this.privAudioNodeId=g,this.privAuthFetchEventId=v}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}}e.RecognitionStartedEvent=l;var a;(function(d){d[d.Success=0]="Success",d[d.AudioSourceError=1]="AudioSourceError",d[d.AudioSourceTimeout=2]="AudioSourceTimeout",d[d.AuthTokenFetchError=3]="AuthTokenFetchError",d[d.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",d[d.UnAuthorized=5]="UnAuthorized",d[d.ConnectTimeout=6]="ConnectTimeout",d[d.ConnectError=7]="ConnectError",d[d.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",d[d.UnknownError=9]="UnknownError"})(a=e.RecognitionCompletionStatus||(e.RecognitionCompletionStatus={}));class u extends r{constructor(m,h,g,v,x,C,w,R){super("RecognitionEndedEvent",m,x,w===a.Success?t.EventType.Info:t.EventType.Error),this.privAudioSourceId=h,this.privAudioNodeId=g,this.privAuthFetchEventId=v,this.privStatus=w,this.privError=R,this.privServiceTag=C}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}get serviceTag(){return this.privServiceTag}get status(){return this.privStatus}get error(){return this.privError}}e.RecognitionEndedEvent=u})(yv)),yv}var xu={},Pu={},bE;function Ta(){if(bE)return Pu;bE=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.SpeechConnectionMessage=void 0;const e=_e(),t=ar();class r extends e.ConnectionMessage{constructor(i,o,l,a,u,d,m,h){if(!o)throw new e.ArgumentNullError("path");if(!l)throw new e.ArgumentNullError("requestId");const g={};if(g[t.HeaderNames.Path]=o,g[t.HeaderNames.RequestId]=l,g[t.HeaderNames.RequestTimestamp]=new Date().toISOString(),a&&(g[t.HeaderNames.ContentType]=a),d&&(g[t.HeaderNames.RequestStreamId]=d),m)for(const v in m)v&&(g[v]=m[v]);h?super(i,u,g,h):super(i,u,g),this.privPath=o,this.privRequestId=l,this.privContentType=a,this.privStreamId=d,this.privAdditionalHeaders=m}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}static fromConnectionMessage(i){let o=null,l=null,a=null,u=null;const d={};if(i.headers)for(const m in i.headers)m&&(m.toLowerCase()===t.HeaderNames.Path.toLowerCase()?o=i.headers[m]:m.toLowerCase()===t.HeaderNames.RequestId.toLowerCase()?l=i.headers[m]:m.toLowerCase()===t.HeaderNames.ContentType.toLowerCase()?a=i.headers[m]:m.toLowerCase()===t.HeaderNames.RequestStreamId.toLowerCase()?u=i.headers[m]:d[m]=i.headers[m]);return new r(i.messageType,o,l,a,i.body,u,d,i.id)}}return Pu.SpeechConnectionMessage=r,Pu}var Sv={},NE;function A9(){return NE||(NE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SegmentationMode=void 0,(function(t){t.Normal="Normal",t.Disabled="Disabled",t.Custom="Custom",t.Semantic="Semantic"})(e.SegmentationMode||(e.SegmentationMode={}))})(Sv)),Sv}var Cv={},EE;function _9(){return EE||(EE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NextAction=void 0,(function(t){t.None="None",t.Synthesize="Synthesize"})(e.NextAction||(e.NextAction={}))})(Cv)),Cv}var xv={},TE;function z9(){return TE||(TE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Mode=void 0,(function(t){t.None="None",t.Always="Always"})(e.Mode||(e.Mode={}))})(xv)),xv}var Pv={},IE;function M9(){return IE||(IE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageIdDetectionPriority=e.LanguageIdDetectionMode=void 0,(function(t){t.DetectAtAudioStart="DetectAtAudioStart",t.DetectContinuous="DetectContinuous",t.DetectSegments="DetectSegments"})(e.LanguageIdDetectionMode||(e.LanguageIdDetectionMode={})),(function(t){t.Auto="Auto",t.PrioritizeLatency="PrioritizeLatency",t.PrioritizeAccuracy="PrioritizeAccuracy"})(e.LanguageIdDetectionPriority||(e.LanguageIdDetectionPriority={}))})(Pv)),Pv}var Rv={},AE;function k9(){return AE||(AE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NextAction=void 0,(function(t){t.Recognize="Recognize",t.None="None"})(e.NextAction||(e.NextAction={}))})(Rv)),Rv}var wv={},_E;function O9(){return _E||(_E=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OnUnknownAction=void 0,(function(t){t.RecognizeWithDefaultLanguage="RecognizeWithDefaultLanguage",t.None="None"})(e.OnUnknownAction||(e.OnUnknownAction={}))})(wv)),wv}var bv={},zE;function D9(){return zE||(zE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ResultType=void 0,(function(t){t.Auto="Auto",t.StableFragment="StableFragment",t.Hypothesis="Hypothesis",t.None="None"})(e.ResultType||(e.ResultType={}))})(bv)),bv}var Nv={},ME;function B9(){return ME||(ME=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PhraseResultOutputType=void 0,(function(t){t.Always="Always",t.None="None"})(e.PhraseResultOutputType||(e.PhraseResultOutputType={}))})(Nv)),Nv}var Ev={},kE;function L9(){return kE||(kE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NextAction=void 0,(function(t){t.None="None",t.Translate="Translate"})(e.NextAction||(e.NextAction={}))})(Ev)),Ev}var OE;function j9(){if(OE)return xu;OE=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.ServiceRecognizerBase=void 0;const e=Wt(),t=_e(),r=Z(),n=Se(),i=Ta(),o=A9(),l=Lr(),a=_9(),u=z9(),d=M9(),m=k9(),h=O9(),g=D9(),v=B9(),x=L9();let C=class Cd{constructor(R,b,N,T,A){if(this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.privAverageBytesPerMs=0,this.privEnableSpeakerId=!1,this.privExpectContentAssessmentResponse=!1,this.recognizeOverride=void 0,this.recognizeSpeaker=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.handleSpeechPhraseMessage=void 0,this.handleSpeechHypothesisMessage=void 0,!R)throw new t.ArgumentNullError("authentication");if(!b)throw new t.ArgumentNullError("connectionFactory");if(!N)throw new t.ArgumentNullError("audioSource");if(!T)throw new t.ArgumentNullError("recognizerConfig");this.privEnableSpeakerId=T.isSpeakerDiarizationEnabled,this.privMustReportEndOfStream=!1,this.privAuthentication=R,this.privConnectionFactory=b,this.privAudioSource=N,this.privRecognizerConfig=T,this.privIsDisposed=!1,this.privRecognizer=A,this.privRequestSession=new n.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new t.EventSource,this.privServiceEvents=new t.EventSource,this.privDynamicGrammar=new n.DynamicGrammarBuilder,this.privSpeechContext=new n.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new n.AgentConfig,this.privRecognizerConfig.parameters.getProperty(r.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?this.privSetTimeout=t.Timeout.setTimeout:(typeof window<"u"&&(this.privSetTimeout=window.setTimeout.bind(window)),typeof globalThis<"u"&&(this.privSetTimeout=globalThis.setTimeout.bind(globalThis))),this.connectionEvents.attach(M=>{if(M.name==="ConnectionClosedEvent"){const z=M;(z.statusCode===1003||z.statusCode===1007||z.statusCode===1002||z.statusCode===4e3||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)&&this.cancelRecognitionLocal(r.CancellationReason.Error,z.statusCode===1007?r.CancellationErrorCode.BadRequestParameters:r.CancellationErrorCode.ConnectionFailure,`${z.reason} websocket error code: ${z.statusCode}`)}}),this.privEnableSpeakerId&&(this.privDiarizationSessionId=(0,t.createNoDashGuid)())}setTranslationJson(){const R=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0);if(R!==void 0){const b=R.split(","),N=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0),T=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationCategoryId,void 0),A=N!==void 0?a.NextAction.Synthesize:a.NextAction.None;if(this.privSpeechContext.getContext().translation={onPassthrough:{action:A},onSuccess:{action:A},output:{includePassThroughResults:!0,interimResults:{mode:u.Mode.Always}},targetLanguages:b},T!==void 0&&(this.privSpeechContext.getContext().translation.category=T),N!==void 0){const M={};for(const z of b)M[z]=N;this.privSpeechContext.getContext().synthesis={defaultVoices:M}}const k=this.privSpeechContext.getContext().phraseDetection||{};k.onSuccess={action:x.NextAction.Translate},k.onInterim={action:x.NextAction.Translate},this.privSpeechContext.getContext().phraseDetection=k}}setSpeechSegmentationTimeoutJson(){const R=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationSilenceTimeoutMs,void 0),b=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationMaximumTimeMs,void 0),N=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationStrategy,void 0),T={mode:o.SegmentationMode.Normal};let A=!1;if(N!==void 0){A=!0;let k=o.SegmentationMode.Normal;switch(N.toLowerCase()){case"default":break;case"time":k=o.SegmentationMode.Custom;break;case"semantic":k=o.SegmentationMode.Semantic;break}T.mode=k}if(R!==void 0){A=!0;const k=parseInt(R,10);T.mode=o.SegmentationMode.Custom,T.segmentationSilenceTimeoutMs=k}if(b!==void 0){A=!0;const k=parseInt(b,10);T.mode=o.SegmentationMode.Custom,T.segmentationForcedTimeoutMs=k}if(A){const k=this.privSpeechContext.getContext().phraseDetection||{};switch(k.mode=this.recognitionMode,this.recognitionMode){case l.RecognitionMode.Conversation:k.conversation=k.conversation??{segmentation:{}},k.conversation.segmentation=T;break;case l.RecognitionMode.Interactive:k.interactive=k.interactive??{segmentation:{}},k.interactive.segmentation=T;break;case l.RecognitionMode.Dictation:k.dictation=k.dictation??{},k.dictation.segmentation=T;break}this.privSpeechContext.getContext().phraseDetection=k}}setLanguageIdJson(){const R=this.privSpeechContext.getContext().phraseDetection||{};if(this.privRecognizerConfig.autoDetectSourceLanguages!==void 0){const b=this.privRecognizerConfig.autoDetectSourceLanguages.split(",");b.length===1&&b[0]===n.AutoDetectSourceLanguagesOpenRangeOptionName&&(b[0]="UND");let N;this.privRecognizerConfig.languageIdMode==="Continuous"?N=d.LanguageIdDetectionMode.DetectContinuous:N=d.LanguageIdDetectionMode.DetectAtAudioStart,this.privSpeechContext.getContext().languageId={languages:b,mode:N,onSuccess:{action:m.NextAction.Recognize},onUnknown:{action:h.OnUnknownAction.None},priority:d.LanguageIdDetectionPriority.PrioritizeLatency},this.privSpeechContext.getContext().phraseOutput={interimResults:{resultType:g.ResultType.Auto},phraseResults:{resultType:v.PhraseResultOutputType.Always}};const T=this.privRecognizerConfig.sourceLanguageModels;T!==void 0&&(R.customModels=T,R.onInterim={action:x.NextAction.None},R.onSuccess={action:x.NextAction.None})}this.privSpeechContext.getContext().phraseDetection=R}setOutputDetailLevelJson(){this.privEnableSpeakerId&&(this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true"?this.privSpeechContext.setWordLevelTimings():this.privRecognizerConfig.parameters.getProperty(n.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()===r.OutputFormat[r.OutputFormat.Detailed].toLocaleLowerCase()&&this.privSpeechContext.setDetailedOutputFormat())}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(R){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.ConversationTranslator_Token,R)}set voiceProfileType(R){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.SpeechServiceConnection_SpeakerIdMode,R)}set authentication(R){this.privAuthentication=R}isDisposed(){return this.privIsDisposed}async dispose(R){if(this.privIsDisposed=!0,this.privConnectionPromise!==void 0)try{await(await this.privConnectionPromise).dispose(R)}catch{return}}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}async recognize(R,b,N){if(this.recognizeOverride!==void 0){await this.recognizeOverride(R,b,N);return}if(this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=R,this.privRecognizerConfig.recognitionEndpointVersion==="2"){const z=this.privSpeechContext.getContext().phraseDetection||{};z.mode=R,this.privSpeechContext.getContext().phraseDetection=z}this.setLanguageIdJson(),this.setTranslationJson(),this.privRecognizerConfig.autoDetectSourceLanguages!==void 0&&this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0&&this.setupTranslationWithLanguageId(),this.setSpeechSegmentationTimeoutJson(),this.setOutputDetailLevelJson(),this.privSuccessCallback=b,this.privErrorCallback=N,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const T=this.connectImpl();let A;try{const z=await this.audioSource.attach(this.privRequestSession.audioNodeId),V=await this.audioSource.format,K=await this.audioSource.deviceInfo;this.privIsLiveAudio=K.type&&K.type===n.type.Microphones,A=new e.ReplayableAudioNode(z,V.avgBytesPerSec),await this.privRequestSession.onAudioSourceAttachCompleted(A,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:K}}catch(z){throw await this.privRequestSession.onStopRecognizing(),z}try{await T}catch(z){await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,z);return}const k=new r.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,k),this.receiveMessage(),this.sendAudio(A).catch(async z=>{await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,z)})}async stopRecognizing(){if(this.privRequestSession.isRecognizing)try{await this.audioSource.turnOff(),await this.sendFinalAudio(),await this.privRequestSession.onStopRecognizing(),await this.privRequestSession.turnCompletionPromise}finally{await this.privRequestSession.dispose()}}async connect(){return await this.connectImpl(),Promise.resolve()}connectAsync(R,b){this.connectImpl().then(()=>{try{R&&R()}catch(N){b&&b(N)}},N=>{try{b&&b(N)}catch{}})}async disconnect(){if(await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.NoError,"Disconnecting"),this.disconnectOverride!==void 0&&await this.disconnectOverride(),this.privConnectionPromise!==void 0)try{await(await this.privConnectionPromise).dispose()}catch{}this.privConnectionPromise=void 0}sendMessage(R){}async sendNetworkMessage(R,b){const N=typeof b=="string"?t.MessageType.Text:t.MessageType.Binary,T=typeof b=="string"?"application/json":"";return(await this.fetchConnection()).send(new i.SpeechConnectionMessage(N,R,this.privRequestSession.requestId,T,b))}set activityTemplate(R){this.privActivityTemplate=R}get activityTemplate(){return this.privActivityTemplate}set expectContentAssessmentResponse(R){this.privExpectContentAssessmentResponse=R}async sendTelemetryData(){const R=this.privRequestSession.getTelemetry();if(Cd.telemetryDataEnabled!==!0||this.privIsDisposed||R===null)return;if(Cd.telemetryData)try{Cd.telemetryData(R)}catch{}await(await this.fetchConnection()).send(new i.SpeechConnectionMessage(t.MessageType.Text,"telemetry",this.privRequestSession.requestId,"application/json",R))}async cancelRecognitionLocal(R,b,N){this.privRequestSession.isRecognizing&&(await this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,R,b,N))}async receiveMessage(){try{if(this.privIsDisposed)return;let R=await this.fetchConnection();const b=await R.read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(!b)return this.receiveMessage();this.privServiceHasSentMessage=!0;const N=i.SpeechConnectionMessage.fromConnectionMessage(b);if(N.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(N.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const T=n.SpeechDetected.fromJSON(N.textBody,this.privRequestSession.currentTurnAudioOffset),A=new r.RecognitionEventArgs(T.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,A);break;case"speech.enddetected":let k;N.textBody.length>0?k=N.textBody:k="{ Offset: 0 }";const M=n.SpeechDetected.fromJSON(k,this.privRequestSession.currentTurnAudioOffset),z=new r.RecognitionEventArgs(M.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,z);break;case"turn.end":await this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,await this.cancelRecognitionLocal(r.CancellationReason.EndOfStream,r.CancellationErrorCode.NoError,void 0));const V=new r.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing){this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,V);return}else R=await this.fetchConnection(),await this.sendPrePayloadJSON(R);break;default:await this.processTypeSpecificMessages(N)||this.privServiceEvents&&this.serviceEvents.onEvent(new t.ServiceEvent(N.path.toLowerCase(),N.textBody))}return this.receiveMessage()}catch{return null}}updateSpeakerDiarizationAudioOffset(){const R=this.privRequestSession.recognitionBytesSent,b=this.privAverageBytesPerMs!==0?R/this.privAverageBytesPerMs:0;this.privSpeechContext.setSpeakerDiarizationAudioOffsetMs(b)}sendSpeechContext(R,b){this.privEnableSpeakerId&&this.updateSpeakerDiarizationAudioOffset();const N=this.speechContext.toJSON();if(b&&this.privRequestSession.onSpeechContext(),N)return R.send(new i.SpeechConnectionMessage(t.MessageType.Text,"speech.context",this.privRequestSession.requestId,"application/json",N))}setupTranslationWithLanguageId(){const R=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0),b=this.privRecognizerConfig.autoDetectSourceLanguages!==void 0;if(R!==void 0&&b){this.privSpeechContext.getContext().phraseOutput={interimResults:{resultType:g.ResultType.None},phraseResults:{resultType:v.PhraseResultOutputType.None}};const N=this.privSpeechContext.getContext().translation;if(N){const T=this.privRecognizerConfig.sourceLanguageModels;if(T!==void 0&&T.length>0){const k=this.privSpeechContext.getContext().phraseDetection||{};k.customModels=T,this.privSpeechContext.getContext().phraseDetection=k}this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)!==void 0&&(N.onSuccess={action:a.NextAction.Synthesize},N.onPassthrough={action:a.NextAction.Synthesize})}}}noOp(){}async sendPrePayloadJSON(R,b=!0){if(this.sendPrePayloadJSONOverride!==void 0)return this.sendPrePayloadJSONOverride(R);await this.sendSpeechContext(R,b),await this.sendWaveHeader(R)}async sendWaveHeader(R){const b=await this.audioSource.format;return R.send(new i.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",b.header))}connectImpl(){return this.privConnectionPromise!==void 0?this.privConnectionPromise.then(R=>R.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl())):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch(()=>{}),this.postConnectImplOverride!==void 0?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}sendSpeechServiceConfig(R,b,N){if(b.onSpeechContext(),Cd.telemetryDataEnabled!==!0){const A={context:{system:JSON.parse(N).context.system}};N=JSON.stringify(A)}if(this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()==="true"){const T=JSON.parse(N);T.context.DisableReferenceChannel="True",T.context.MicSpec="1_0_0",N=JSON.stringify(T)}if(N)return R.send(new i.SpeechConnectionMessage(t.MessageType.Text,"speech.config",b.requestId,"application/json",N))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(R=>R.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async sendAudio(R){const b=await this.audioSource.format;this.privAverageBytesPerMs=b.avgBytesPerSec/1e3;let N=Date.now();const T=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),A=b.avgBytesPerSec/1e3*parseInt(T,10),k=this.privRequestSession.recogNumber,M=async()=>{if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===k){const z=await this.fetchConnection(),V=await R.read();if(this.privRequestSession.isSpeechEnded)return;let K,ue;if(!V||V.isEnd?(K=null,ue=0):(K=V.buffer,this.privRequestSession.onAudioSent(K.byteLength),A>=this.privRequestSession.bytesSent?ue=0:ue=Math.max(0,N-Date.now())),ue!==0&&await this.delay(ue),K!==null&&(N=Date.now()+K.byteLength*1e3/(b.avgBytesPerSec*2)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===k)if(z.send(new i.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,null,K)).catch(()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch(()=>{})}),V?.isEnd)this.privIsLiveAudio||this.privRequestSession.onSpeechEnded();else return M()}};return M()}async retryableConnect(){let R=!1;this.privAuthFetchEventId=(0,t.createNoDashGuid)();const b=this.privRequestSession.sessionId;this.privConnectionId=b!==void 0?b:(0,t.createNoDashGuid)(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);let N=0,T="";for(;this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount;){this.privRequestSession.onRetryConnection();const k=await(R?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId));await this.privRequestSession.onAuthCompleted(!1);const M=await this.privConnectionFactory.create(this.privRecognizerConfig,k,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(M.events),M.events.attach(V=>{this.connectionEvents.onEvent(V)});const z=await M.open();if(z.statusCode===200)return await this.privRequestSession.onConnectionEstablishCompleted(z.statusCode),Promise.resolve(M);z.statusCode===1006&&(R=!0),N=z.statusCode,T=z.reason}return await this.privRequestSession.onConnectionEstablishCompleted(N,T),Promise.reject(`Unable to contact server. StatusCode: ${N}, ${this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint)} Reason: ${T}`)}delay(R){return new Promise(b=>this.privSetTimeout(b,R))}writeBufferToConsole(R){let b="Buffer Size: ";if(R===null)b+="null";else{const N=new Uint8Array(R);b+=`${R.byteLength}\r
`;for(let T=0;T<R.byteLength;T++)b+=N[T].toString(16).padStart(2,"0")+" ",(T+1)%16===0&&(console.info(b),b="")}console.info(b)}async sendFinalAudio(){await(await this.fetchConnection()).send(new i.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,null,null))}async configureConnection(){const R=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(R):(await this.sendSpeechServiceConfig(R,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendPrePayloadJSON(R,!1),R)}};return xu.ServiceRecognizerBase=C,C.telemetryDataEnabled=!0,xu}var Ru={},DE;function q9(){if(DE)return Ru;DE=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.ConversationServiceRecognizer=void 0;const e=Z(),t=Se();let r=class extends t.ServiceRecognizerBase{constructor(i,o,l,a,u){super(i,o,l,a,u),this.handleSpeechPhraseMessage=async d=>this.handleSpeechPhrase(d),this.handleSpeechHypothesisMessage=d=>this.handleSpeechHypothesis(d)}processTypeSpecificMessages(i){}handleRecognizedCallback(i,o,l){}handleRecognizingCallback(i,o,l){}async processSpeechMessages(i){let o=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":this.handleSpeechHypothesisMessage&&this.handleSpeechHypothesisMessage(i.textBody),o=!0;break;case"speech.phrase":this.handleSpeechPhraseMessage&&await this.handleSpeechPhraseMessage(i.textBody),o=!0;break}return o}cancelRecognition(i,o,l,a,u){}async handleSpeechPhrase(i){const o=t.SimpleSpeechPhrase.fromJSON(i,this.privRequestSession.currentTurnAudioOffset),l=t.EnumTranslation.implTranslateRecognitionResult(o.RecognitionStatus);let a;const u=new e.PropertyCollection;if(u.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,i),this.privRequestSession.onPhraseRecognized(o.Offset+o.Duration),e.ResultReason.Canceled===l){const d=t.EnumTranslation.implTranslateCancelResult(o.RecognitionStatus),m=t.EnumTranslation.implTranslateCancelErrorCode(o.RecognitionStatus);await this.cancelRecognitionLocal(d,m,t.EnumTranslation.implTranslateErrorDetails(m))}else if(o.RecognitionStatus!==t.RecognitionStatus.EndOfDictation){if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,l,o.DisplayText,o.Duration,o.Offset,o.Language,o.LanguageDetectionConfidence,o.SpeakerId,void 0,o.asJson(),u);else{const d=t.DetailedSpeechPhrase.fromJSON(i,this.privRequestSession.currentTurnAudioOffset);a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,l,d.Text,d.Duration,d.Offset,d.Language,d.LanguageDetectionConfidence,d.SpeakerId,void 0,d.asJson(),u)}this.handleRecognizedCallback(a,a.offset,this.privRequestSession.sessionId)}}handleSpeechHypothesis(i){const o=t.SpeechHypothesis.fromJSON(i,this.privRequestSession.currentTurnAudioOffset),l=new e.PropertyCollection;l.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,i);const a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,o.Text,o.Duration,o.Offset,o.Language,o.LanguageDetectionConfidence,o.SpeakerId,void 0,o.asJson(),l);this.privRequestSession.onHypothesis(o.Offset),this.handleRecognizingCallback(a,o.Duration,this.privRequestSession.sessionId)}};return Ru.ConversationServiceRecognizer=r,Ru}var Tv={},BE;function F9(){return BE||(BE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognizerConfig=e.SpeechResultFormat=void 0;const t=Z(),r=Se(),n=Lr();(function(o){o[o.Simple=0]="Simple",o[o.Detailed=1]="Detailed"})(e.SpeechResultFormat||(e.SpeechResultFormat={}));class i{constructor(l,a){this.privSpeechServiceConfig=l||new r.SpeechServiceConfig(new r.Context(null)),this.privParameters=a,this.privMaxRetryCount=parseInt(a.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdMode=a.getProperty(t.PropertyId.SpeechServiceConnection_LanguageIdMode,void 0),this.privEnableSpeakerId=!1}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(l){this.privRecognitionMode=l,this.privRecognitionActivityTimeout=l===n.RecognitionMode.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=n.RecognitionMode[l]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==n.RecognitionMode.Interactive}get languageIdMode(){return this.privLanguageIdMode}get autoDetectSourceLanguages(){return this.parameters.getProperty(t.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}get recognitionEndpointVersion(){return this.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2")}set recognitionEndpointVersion(l){this.parameters.setProperty(t.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,l)}get sourceLanguageModels(){const l=[];let a=!1;if(this.autoDetectSourceLanguages!==void 0)for(const u of this.autoDetectSourceLanguages.split(",")){const d=u+t.PropertyId.SpeechServiceConnection_EndpointId.toString(),m=this.parameters.getProperty(d,void 0);m!==void 0?(l.push({language:u,endpoint:m}),a=!0):l.push({language:u,endpoint:""})}return a?l:void 0}get maxRetryCount(){return this.privMaxRetryCount}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}set isSpeakerDiarizationEnabled(l){this.privEnableSpeakerId=l}}e.RecognizerConfig=i})(Tv)),Tv}var Iv={},LE;function H9(){return LE||(LE=1,Object.defineProperty(Iv,"__esModule",{value:!0})),Iv}var wu={},jE;function U9(){if(jE)return wu;jE=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.WebsocketMessageFormatter=void 0;const e=_e(),t=`\r
`;let r=class{toConnectionMessage(i){const o=new e.Deferred;try{if(i.messageType===e.MessageType.Text){const l=i.textContent;let a={},u=null;if(l){const d=l.split(`\r
\r
`);d&&d.length>0&&(a=this.parseHeaders(d[0]),d.length>1&&(u=d[1]))}o.resolve(new e.ConnectionMessage(i.messageType,u,a,i.id))}else if(i.messageType===e.MessageType.Binary){const l=i.binaryContent;let a={},u=null;if(!l||l.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const d=new DataView(l),m=d.getInt16(0);if(l.byteLength<m+2)throw new Error("Invalid binary message format. Header content missing.");let h="";for(let g=0;g<m;g++)h+=String.fromCharCode(d.getInt8(g+2));a=this.parseHeaders(h),l.byteLength>m+2&&(u=l.slice(2+m)),o.resolve(new e.ConnectionMessage(i.messageType,u,a,i.id))}}catch(l){o.reject(`Error formatting the message. Error: ${l}`)}return o.promise}fromConnectionMessage(i){const o=new e.Deferred;try{if(i.messageType===e.MessageType.Text){const l=`${this.makeHeaders(i)}${t}${i.textBody?i.textBody:""}`;o.resolve(new e.RawWebsocketMessage(e.MessageType.Text,l,i.id))}else if(i.messageType===e.MessageType.Binary){const l=this.makeHeaders(i),a=i.binaryBody,u=this.stringToArrayBuffer(l),d=new Int8Array(u),m=d.byteLength,h=new Int8Array(2+m+(a?a.byteLength:0));if(h[0]=m>>8&255,h[1]=m&255,h.set(d,2),a){const v=new Int8Array(a);h.set(v,2+m)}const g=h.buffer;o.resolve(new e.RawWebsocketMessage(e.MessageType.Binary,g,i.id))}}catch(l){o.reject(`Error formatting the message. ${l}`)}return o.promise}makeHeaders(i){let o="";if(i.headers)for(const l in i.headers)l&&(o+=`${l}: ${i.headers[l]}${t}`);return o}parseHeaders(i){const o={};if(i){const l=i.match(/[^\r\n]+/g);if(o){for(const a of l)if(a){const u=a.indexOf(":"),d=u>0?a.substr(0,u).trim().toLowerCase():a,m=u>0&&a.length>u+1?a.substr(u+1).trim():"";o[d]=m}}}return o}stringToArrayBuffer(i){const o=new ArrayBuffer(i.length),l=new DataView(o);for(let a=0;a<i.length;a++)l.setUint8(a,i.charCodeAt(a));return o}};return wu.WebsocketMessageFormatter=r,wu}var bu={},qE;function $9(){if(qE)return bu;qE=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.SpeechConnectionFactory=void 0;const e=Wt(),t=Se(),r=Z(),n=sn(),i=Se(),o=ar(),l=Wi(),a=Lr();let u=class extends n.ConnectionFactoryBase{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.universalUri="/stt/speech/universal/v"}async create(m,h,g){let v=m.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);const x=m.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region,void 0),C=n.ConnectionFactoryBase.getHostSuffix(x),w=m.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://"+x+".stt.speech"+C),R={},b=m.parameters.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId,void 0),N=m.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(b?(!v||v.search(l.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(R[l.QueryParameterNames.CustomSpeechDeploymentId]=b):N&&(!v||v.search(l.QueryParameterNames.Language)===-1)&&(R[l.QueryParameterNames.Language]=N),(!v||v.search(l.QueryParameterNames.Format)===-1)&&(R[l.QueryParameterNames.Format]=m.parameters.getProperty(t.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()),m.autoDetectSourceLanguages!==void 0&&(R[l.QueryParameterNames.EnableLanguageId]="true"),this.setCommonUrlParams(m,R,v),v){const z=new URL(v),V=z.pathname;(V===""||V==="/")&&(z.pathname=this.universalUri+m.recognitionEndpointVersion,v=await n.ConnectionFactoryBase.getRedirectUrlFromEndpoint(z.toString()))}if(!v)switch(m.recognitionMode){case a.RecognitionMode.Conversation:m.parameters.getProperty(t.ForceDictationPropertyName,"false")==="true"?v=w+this.dictationRelativeUri:m.recognitionEndpointVersion!==void 0&&parseInt(m.recognitionEndpointVersion,10)>1?v=`${w}${this.universalUri}${m.recognitionEndpointVersion}`:v=w+this.conversationRelativeUri;break;case a.RecognitionMode.Dictation:v=w+this.dictationRelativeUri;break;default:m.recognitionEndpointVersion!==void 0&&parseInt(m.recognitionEndpointVersion,10)>1?v=`${w}${this.universalUri}${m.recognitionEndpointVersion}`:v=w+this.interactiveRelativeUri;break}const T={};h.token!==void 0&&h.token!==""&&(T[h.headerName]=h.token),T[o.HeaderNames.ConnectionId]=g,T.connectionId=g;const A=m.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",k=new e.WebsocketConnection(v,R,T,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(m),A,g),M=k.uri;return m.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,M),k}};return bu.SpeechConnectionFactory=u,bu}var Nu={},FE;function W9(){if(FE)return Nu;FE=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.ConversationTranscriberConnectionFactory=void 0;const e=Wt(),t=Z(),r=Se(),n=sn(),i=Se(),o=ar(),l=Wi();let a=class extends n.ConnectionFactoryBase{constructor(){super(...arguments),this.universalUri="/stt/speech/universal/v2"}async create(d,m,h){let g=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const v=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,void 0),x=n.ConnectionFactoryBase.getHostSuffix(v),C=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+v+".stt.speech"+x),w={},R=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),b=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(R?(!g||g.search(l.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(w[l.QueryParameterNames.CustomSpeechDeploymentId]=R):b&&(!g||g.search(l.QueryParameterNames.Language)===-1)&&(w[l.QueryParameterNames.Language]=b),d.autoDetectSourceLanguages!==void 0&&(w[l.QueryParameterNames.EnableLanguageId]="true"),this.setV2UrlParams(d,w,g),g){const M=new URL(g),z=M.pathname;(z===""||z==="/")&&(M.pathname=this.universalUri,g=await n.ConnectionFactoryBase.getRedirectUrlFromEndpoint(M.toString()))}g||(g=`${C}${this.universalUri}`);const N={};m.token!==void 0&&m.token!==""&&(N[m.headerName]=m.token),N[o.HeaderNames.ConnectionId]=h;const T=d.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",A=new e.WebsocketConnection(g,w,N,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(d),T,h),k=A.uri;return d.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,k),A}setV2UrlParams(d,m,h){new Map([[t.PropertyId.Speech_SegmentationSilenceTimeoutMs,l.QueryParameterNames.SegmentationSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_EnableAudioLogging,l.QueryParameterNames.EnableAudioLogging],[t.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,l.QueryParameterNames.EndSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,l.QueryParameterNames.InitialSilenceTimeoutMs],[t.PropertyId.SpeechServiceResponse_PostProcessingOption,l.QueryParameterNames.Postprocessing],[t.PropertyId.SpeechServiceResponse_ProfanityOption,l.QueryParameterNames.Profanity],[t.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,l.QueryParameterNames.StableIntermediateThreshold]]).forEach((x,C)=>{this.setUrlParameter(C,x,d,m,h)});const v=JSON.parse(d.parameters.getProperty(r.ServicePropertiesPropertyName,"{}"));Object.keys(v).forEach(x=>{m[x]=v[x]})}};return Nu.ConversationTranscriberConnectionFactory=a,Nu}var Eu={},HE;function V9(){if(HE)return Eu;HE=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.TranscriberConnectionFactory=void 0;const e=Wt(),t=Z(),r=sn(),n=Se(),i=ar(),o=Wi();let l=class extends r.ConnectionFactoryBase{constructor(){super(...arguments),this.multiaudioRelativeUri="/speech/recognition/multiaudio"}create(u,d,m){let h=u.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const g=u.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,"centralus"),v=r.ConnectionFactoryBase.getHostSuffix(g),x="wss://transcribe."+g+".cts.speech"+v+this.multiaudioRelativeUri,C=u.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,x),w={};this.setQueryParams(w,u,h),h||(h=C);const R={};d.token!==void 0&&d.token!==""&&(R[d.headerName]=d.token),R[i.HeaderNames.ConnectionId]=m,u.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,h);const b=u.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return Promise.resolve(new e.WebsocketConnection(h,w,R,new n.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(u),b,m))}setQueryParams(u,d,m){const h=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),g=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);h&&!(o.QueryParameterNames.CustomSpeechDeploymentId in u)&&(u[o.QueryParameterNames.CustomSpeechDeploymentId]=h),g&&!(o.QueryParameterNames.Language in u)&&(u[o.QueryParameterNames.Language]=g);const v=d.parameters.getProperty(t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true",x=d.parameters.getProperty(n.OutputFormatPropertyName,t.OutputFormat[t.OutputFormat.Simple])!==t.OutputFormat[t.OutputFormat.Simple];(v||x)&&(u[o.QueryParameterNames.Format]=t.OutputFormat[t.OutputFormat.Detailed].toLowerCase()),this.setCommonUrlParams(d,u,m)}};return Eu.TranscriberConnectionFactory=l,Eu}var Tu={},UE;function K9(){if(UE)return Tu;UE=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.TranslationConnectionFactory=void 0;const e=Wt(),t=ZM(),r=Z(),n=sn(),i=Se(),o=ar(),l=Wi(),a=Lr();let u=class extends n.ConnectionFactoryBase{constructor(){super(...arguments),this.universalUri="/stt/speech/universal/v2",this.translationV1Uri="/speech/translation/cognitiveservices/v1"}async create(m,h,g){let v=this.getEndpointUrl(m);const x={};if(this.setQueryParams(x,m,v),v){const b=new URL(v),N=b.pathname;(N===""||N==="/")&&(b.pathname=this.universalUri,v=await n.ConnectionFactoryBase.getRedirectUrlFromEndpoint(b.toString()))}const C={};h.token!==void 0&&h.token!==""&&(C[h.headerName]=h.token),C[o.HeaderNames.ConnectionId]=g,m.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,v);const w=m.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(v,x,C,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(m),w,g)}getEndpointUrl(m,h){const g=m.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),v=n.ConnectionFactoryBase.getHostSuffix(g);let x=m.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);return x?h===!0?x:t.StringUtils.formatString(x,{region:g}):(m.parameters.getProperty("SPEECH-ForceV1Endpoint","false")==="true"?x=m.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.s2s.speech"+v)+this.translationV1Uri:x=m.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.stt.speech"+v)+this.universalUri,h===!0?x:t.StringUtils.formatString(x,{region:g}))}setQueryParams(m,h,g){m.from=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage),m.to=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages),m.scenario=h.recognitionMode===a.RecognitionMode.Interactive?"interactive":h.recognitionMode===a.RecognitionMode.Conversation?"conversation":"",this.setCommonUrlParams(h,m,g),this.setUrlParameter(r.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult,l.QueryParameterNames.StableTranslation,h,m,g);const v=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0);v!==void 0&&(m.voice=v,m.features="requireVoice")}};return Tu.TranslationConnectionFactory=u,Tu}var Iu={},$E;function G9(){if($E)return Iu;$E=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.EnumTranslation=void 0;const e=Z(),t=Se();let r=class{static implTranslateRecognitionResult(i,o=!1){let l=e.ResultReason.Canceled;switch(i){case t.RecognitionStatus.Success:l=e.ResultReason.RecognizedSpeech;break;case t.RecognitionStatus.EndOfDictation:l=o?e.ResultReason.RecognizedSpeech:e.ResultReason.NoMatch;break;case t.RecognitionStatus.NoMatch:case t.RecognitionStatus.InitialSilenceTimeout:case t.RecognitionStatus.BabbleTimeout:l=e.ResultReason.NoMatch;break;case t.RecognitionStatus.Error:case t.RecognitionStatus.BadRequest:case t.RecognitionStatus.Forbidden:default:l=e.ResultReason.Canceled;break}return l}static implTranslateCancelResult(i){let o=e.CancellationReason.EndOfStream;switch(i){case t.RecognitionStatus.Success:case t.RecognitionStatus.EndOfDictation:case t.RecognitionStatus.NoMatch:o=e.CancellationReason.EndOfStream;break;case t.RecognitionStatus.InitialSilenceTimeout:case t.RecognitionStatus.BabbleTimeout:case t.RecognitionStatus.Error:case t.RecognitionStatus.BadRequest:case t.RecognitionStatus.Forbidden:default:o=e.CancellationReason.Error;break}return o}static implTranslateCancelErrorCode(i){let o=e.CancellationErrorCode.NoError;switch(i){case t.RecognitionStatus.Error:o=e.CancellationErrorCode.ServiceError;break;case t.RecognitionStatus.TooManyRequests:o=e.CancellationErrorCode.TooManyRequests;break;case t.RecognitionStatus.BadRequest:o=e.CancellationErrorCode.BadRequestParameters;break;case t.RecognitionStatus.Forbidden:o=e.CancellationErrorCode.Forbidden;break;default:o=e.CancellationErrorCode.NoError;break}return o}static implTranslateErrorDetails(i){let o="The speech service encountered an internal error and could not continue.";switch(i){case e.CancellationErrorCode.Forbidden:o="The recognizer is using a free subscription that ran out of quota.";break;case e.CancellationErrorCode.BadRequestParameters:o="Invalid parameter or unsupported audio format in the request.";break;case e.CancellationErrorCode.TooManyRequests:o="The number of parallel requests exceeded the number of allowed concurrent transcriptions.";break}return o}};return Iu.EnumTranslation=r,Iu}var Av={},WE;function J9(){return WE||(WE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionStatus=e.SynthesisStatus=void 0,(function(t){t[t.Success=0]="Success",t[t.SynthesisEnd=1]="SynthesisEnd",t[t.Error=2]="Error"})(e.SynthesisStatus||(e.SynthesisStatus={})),(function(t){t[t.Success=0]="Success",t[t.NoMatch=1]="NoMatch",t[t.InitialSilenceTimeout=2]="InitialSilenceTimeout",t[t.BabbleTimeout=3]="BabbleTimeout",t[t.Error=4]="Error",t[t.EndOfDictation=5]="EndOfDictation",t[t.TooManyRequests=6]="TooManyRequests",t[t.BadRequest=7]="BadRequest",t[t.Forbidden=8]="Forbidden"})(e.RecognitionStatus||(e.RecognitionStatus={}))})(Av)),Av}var Au={},VE;function Q9(){if(VE)return Au;VE=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.TranslationSynthesisEnd=void 0;const e=Se();let t=class lk{constructor(n){this.privSynthesisEnd=JSON.parse(n),this.privSynthesisEnd.SynthesisStatus&&(this.privSynthesisEnd.SynthesisStatus=e.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]),this.privSynthesisEnd.Status&&(this.privSynthesisEnd.SynthesisStatus=e.SynthesisStatus[this.privSynthesisEnd.Status])}static fromJSON(n){return new lk(n)}get SynthesisStatus(){return this.privSynthesisEnd.SynthesisStatus}get FailureReason(){return this.privSynthesisEnd.FailureReason}};return Au.TranslationSynthesisEnd=t,Au}var _u={},KE;function X9(){if(KE)return _u;KE=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.TranslationHypothesis=void 0;const e=je(),t=NS();let r=class wy{constructor(i,o){this.privTranslationHypothesis=i,this.privTranslationHypothesis.Offset+=o,this.privTranslationHypothesis.Translation.TranslationStatus=this.mapTranslationStatus(this.privTranslationHypothesis.Translation.TranslationStatus)}static fromJSON(i,o){return new wy(JSON.parse(i),o)}static fromTranslationResponse(i,o){e.Contracts.throwIfNullOrUndefined(i,"translationHypothesis");const l=i.SpeechHypothesis;return i.SpeechHypothesis=void 0,l.Translation=i,new wy(l,o)}get Duration(){return this.privTranslationHypothesis.Duration}get Offset(){return this.privTranslationHypothesis.Offset}get Text(){return this.privTranslationHypothesis.Text}get Translation(){return this.privTranslationHypothesis.Translation}get Language(){return this.privTranslationHypothesis.PrimaryLanguage?.Language}asJson(){const i={...this.privTranslationHypothesis};return i.Translation!==void 0?JSON.stringify({...i,TranslationStatus:t.TranslationStatus[i.Translation.TranslationStatus]}):JSON.stringify(i)}mapTranslationStatus(i){if(typeof i=="string")return t.TranslationStatus[i];if(typeof i=="number")return i}};return _u.TranslationHypothesis=r,_u}var zu={},GE;function Y9(){if(GE)return zu;GE=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.TranslationPhrase=void 0;const e=je(),t=Se(),r=NS();let n=class by{constructor(o,l){this.privTranslationPhrase=o,this.privTranslationPhrase.Offset+=l,this.privTranslationPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privTranslationPhrase.RecognitionStatus),this.privTranslationPhrase.Translation!==void 0&&(this.privTranslationPhrase.Translation.TranslationStatus=this.mapTranslationStatus(this.privTranslationPhrase.Translation.TranslationStatus))}static fromJSON(o,l){return new by(JSON.parse(o),l)}static fromTranslationResponse(o,l){e.Contracts.throwIfNullOrUndefined(o,"translationResponse");const a=o.SpeechPhrase;return o.SpeechPhrase=void 0,a.Translation=o,a.Text=a.DisplayText,new by(a,l)}get RecognitionStatus(){return this.privTranslationPhrase.RecognitionStatus}get Offset(){return this.privTranslationPhrase.Offset}get Duration(){return this.privTranslationPhrase.Duration}get Text(){return this.privTranslationPhrase.Text}get Language(){return this.privTranslationPhrase.PrimaryLanguage?.Language}get Confidence(){return this.privTranslationPhrase.PrimaryLanguage?.Confidence}get Translation(){return this.privTranslationPhrase.Translation}asJson(){const o={...this.privTranslationPhrase},l={...o,RecognitionStatus:t.RecognitionStatus[o.RecognitionStatus]};return o.Translation&&(l.Translation={...o.Translation,TranslationStatus:r.TranslationStatus[o.Translation.TranslationStatus]}),JSON.stringify(l)}mapRecognitionStatus(o){if(typeof o=="string")return t.RecognitionStatus[o];if(typeof o=="number")return o}mapTranslationStatus(o){if(typeof o=="string")return r.TranslationStatus[o];if(typeof o=="number")return o}};return zu.TranslationPhrase=n,zu}var Mu={},JE;function Z9(){if(JE)return Mu;JE=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.TranslationServiceRecognizer=void 0;const e=_e(),t=Z(),r=Se();let n=class extends r.ConversationServiceRecognizer{constructor(o,l,a,u,d){super(o,l,a,u,d),this.privTranslationRecognizer=d,this.connectionEvents.attach(m=>{m.name==="ConnectionEstablishedEvent"&&this.privTranslationRecognizer.onConnection()})}async processTypeSpecificMessages(o){const l=new t.PropertyCollection;let a=await this.processSpeechMessages(o);if(a)return!0;const u=async m=>{if(l.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,m.asJson()),this.privRequestSession.onPhraseRecognized(m.Offset+m.Duration),m.RecognitionStatus===r.RecognitionStatus.Success){const h=this.fireEventForResult(m,l);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,h)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(h.result)}catch(g){this.privErrorCallback&&this.privErrorCallback(g)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}else{const h=r.EnumTranslation.implTranslateRecognitionResult(m.RecognitionStatus),g=new t.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,h,m.Text,m.Duration,m.Offset,m.Language,m.Confidence,void 0,m.asJson(),l);if(h===t.ResultReason.Canceled){const v=r.EnumTranslation.implTranslateCancelResult(m.RecognitionStatus),x=r.EnumTranslation.implTranslateCancelErrorCode(m.RecognitionStatus);await this.cancelRecognitionLocal(v,x,r.EnumTranslation.implTranslateErrorDetails(x))}else if(m.RecognitionStatus!==r.RecognitionStatus.EndOfDictation){const v=new t.TranslationRecognitionEventArgs(g,g.offset,this.privRequestSession.sessionId);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,v)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(g)}catch(x){this.privErrorCallback&&this.privErrorCallback(x)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}a=!0}},d=m=>{l.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,m.asJson());const h=this.fireEventForResult(m,l);if(this.privRequestSession.onHypothesis(h.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,h)}catch{}a=!0};switch(o.messageType===e.MessageType.Text&&l.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,o.textBody),o.path.toLowerCase()){case"translation.hypothesis":d(r.TranslationHypothesis.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset));break;case"translation.response":const m=JSON.parse(o.textBody);if(m.SpeechPhrase)await u(r.TranslationPhrase.fromTranslationResponse(m,this.privRequestSession.currentTurnAudioOffset));else{const g=JSON.parse(o.textBody);g.SpeechHypothesis&&d(r.TranslationHypothesis.fromTranslationResponse(g,this.privRequestSession.currentTurnAudioOffset))}break;case"translation.phrase":await u(r.TranslationPhrase.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset));break;case"translation.synthesis":case"audio":this.sendSynthesisAudio(o.binaryBody,this.privRequestSession.sessionId),a=!0;break;case"audio.end":case"translation.synthesis.end":const h=r.TranslationSynthesisEnd.fromJSON(o.textBody);switch(h.SynthesisStatus){case r.SynthesisStatus.Error:if(this.privTranslationRecognizer.synthesizing){const g=new t.TranslationSynthesisResult(t.ResultReason.Canceled,void 0),v=new t.TranslationSynthesisEventArgs(g,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,v)}catch{}}if(this.privTranslationRecognizer.canceled){const g=new t.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,t.CancellationReason.Error,h.FailureReason,t.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,g)}catch{}}break;case r.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId);break}a=!0;break}return a}cancelRecognition(o,l,a,u,d){const m=new t.PropertyCollection;if(m.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[u]),this.privTranslationRecognizer.canceled){const h=new t.TranslationRecognitionCanceledEventArgs(o,a,d,u,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,h)}catch{}}if(this.privSuccessCallback){const h=new t.TranslationRecognitionResult(void 0,l,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,d,void 0,m);try{this.privSuccessCallback(h),this.privSuccessCallback=void 0}catch{}}}handleRecognizingCallback(o,l,a){try{const u=new t.TranslationRecognitionEventArgs(t.TranslationRecognitionResult.fromSpeechRecognitionResult(o),l,a);this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,u)}catch{}}handleRecognizedCallback(o,l,a){try{const u=new t.TranslationRecognitionEventArgs(t.TranslationRecognitionResult.fromSpeechRecognitionResult(o),l,a);this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,u)}catch{}}fireEventForResult(o,l){let a;if(o.Translation.Translations!==void 0){a=new t.Translations;for(const v of o.Translation.Translations)a.set(v.Language,v.Text||v.DisplayText)}let u,d;o instanceof r.TranslationPhrase?(o.Translation&&o.Translation.TranslationStatus===e.TranslationStatus.Success?u=t.ResultReason.TranslatedSpeech:u=t.ResultReason.RecognizedSpeech,d=o.Confidence):u=t.ResultReason.TranslatingSpeech;const m=o.Language,h=new t.TranslationRecognitionResult(a,this.privRequestSession.requestId,u,o.Text,o.Duration,o.Offset,m,d,o.Translation.FailureReason,o.asJson(),l);return new t.TranslationRecognitionEventArgs(h,o.Offset,this.privRequestSession.sessionId)}sendSynthesisAudio(o,l){const a=o===void 0?t.ResultReason.SynthesizingAudioCompleted:t.ResultReason.SynthesizingAudio,u=new t.TranslationSynthesisResult(a,o),d=new t.TranslationSynthesisEventArgs(u,l);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,d)}catch{}}};return Mu.TranslationServiceRecognizer=n,Mu}var ku={},QE;function eV(){if(QE)return ku;QE=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.SpeechDetected=void 0;let e=class uk{constructor(r,n){this.privSpeechStartDetected=JSON.parse(r),this.privSpeechStartDetected.Offset+=n}static fromJSON(r,n){return new uk(r,n)}get Offset(){return this.privSpeechStartDetected.Offset}};return ku.SpeechDetected=e,ku}var Ou={},XE;function tV(){if(XE)return Ou;XE=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.SpeechHypothesis=void 0;let e=class dk{constructor(r,n){this.privSpeechHypothesis=JSON.parse(r),this.updateOffset(n)}static fromJSON(r,n){return new dk(r,n)}updateOffset(r){this.privSpeechHypothesis.Offset+=r}asJson(){return JSON.stringify(this.privSpeechHypothesis)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}};return Ou.SpeechHypothesis=e,Ou}var Du={},YE;function rV(){if(YE)return Du;YE=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.SpeechKeyword=void 0;let e=class pk{constructor(r,n){this.privSpeechKeyword=JSON.parse(r),this.privSpeechKeyword.Offset+=n}static fromJSON(r,n){return new pk(r,n)}get Status(){return this.privSpeechKeyword.Status}get Text(){return this.privSpeechKeyword.Text}get Offset(){return this.privSpeechKeyword.Offset}get Duration(){return this.privSpeechKeyword.Duration}asJson(){return JSON.stringify(this.privSpeechKeyword)}};return Du.SpeechKeyword=e,Du}var Bu={},ZE;function nV(){if(ZE)return Bu;ZE=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.SpeechServiceRecognizer=void 0;const e=Z(),t=Se();let r=class extends t.ServiceRecognizerBase{constructor(i,o,l,a,u){super(i,o,l,a,u),this.privSpeechRecognizer=u}async processTypeSpecificMessages(i){let o;const l=new e.PropertyCollection;let a=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const u=t.SpeechHypothesis.fromJSON(i.textBody,this.privRequestSession.currentTurnAudioOffset);l.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,u.asJson()),o=new e.SpeechRecognitionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,u.Text,u.Duration,u.Offset,u.Language,u.LanguageDetectionConfidence,void 0,void 0,u.asJson(),l),this.privRequestSession.onHypothesis(u.Offset);const d=new e.SpeechRecognitionEventArgs(o,u.Offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,d)}catch{}a=!0;break;case"speech.phrase":const m=t.SimpleSpeechPhrase.fromJSON(i.textBody,this.privRequestSession.currentTurnAudioOffset);l.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,m.asJson());const h=t.EnumTranslation.implTranslateRecognitionResult(m.RecognitionStatus,this.privExpectContentAssessmentResponse);if(this.privRequestSession.onPhraseRecognized(m.Offset+m.Duration),e.ResultReason.Canceled===h){const g=t.EnumTranslation.implTranslateCancelResult(m.RecognitionStatus),v=t.EnumTranslation.implTranslateCancelErrorCode(m.RecognitionStatus);await this.cancelRecognitionLocal(g,v,t.EnumTranslation.implTranslateErrorDetails(v))}else{if(m.RecognitionStatus===t.RecognitionStatus.EndOfDictation)break;if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])o=new e.SpeechRecognitionResult(this.privRequestSession.requestId,h,m.DisplayText,m.Duration,m.Offset,m.Language,m.LanguageDetectionConfidence,void 0,void 0,m.asJson(),l);else{const v=t.DetailedSpeechPhrase.fromJSON(i.textBody,this.privRequestSession.currentTurnAudioOffset);l.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,v.asJson()),o=new e.SpeechRecognitionResult(this.privRequestSession.requestId,h,v.RecognitionStatus===t.RecognitionStatus.Success?v.NBest[0].Display:"",v.Duration,v.Offset,v.Language,v.LanguageDetectionConfidence,void 0,void 0,v.asJson(),l)}const g=new e.SpeechRecognitionEventArgs(o,o.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,g)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(o)}catch(v){this.privErrorCallback&&this.privErrorCallback(v)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}a=!0;break}return a}cancelRecognition(i,o,l,a,u){const d=new e.PropertyCollection;if(d.setProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[a]),this.privSpeechRecognizer.canceled){const m=new e.SpeechRecognitionCanceledEventArgs(l,u,a,void 0,i);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,m)}catch{}}if(this.privSuccessCallback){const m=new e.SpeechRecognitionResult(o,e.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,u,void 0,d);try{this.privSuccessCallback(m),this.privSuccessCallback=void 0}catch{}}}};return Bu.SpeechServiceRecognizer=r,Bu}var Lu={},_v={},e0;function iV(){return e0||(e0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityProvider=e.SpeakerDiarizationMode=void 0,(function(t){t.None="None",t.Identity="Identity",t.Anonymous="Anonymous"})(e.SpeakerDiarizationMode||(e.SpeakerDiarizationMode={})),(function(t){t.CallCenter="CallCenter"})(e.IdentityProvider||(e.IdentityProvider={}))})(_v)),_v}var t0;function sV(){if(t0)return Lu;t0=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.ConversationTranscriptionServiceRecognizer=void 0;const e=Z(),t=Se(),r=iV(),n=Lr();let i=class extends t.ServiceRecognizerBase{constructor(l,a,u,d,m){super(l,a,u,d,m),this.privConversationTranscriber=m,this.setSpeakerDiarizationJson()}setSpeakerDiarizationJson(){if(this.privEnableSpeakerId){const l=this.privSpeechContext.getContext().phraseDetection||{};l.mode=n.RecognitionMode.Conversation;const a={};a.mode=r.SpeakerDiarizationMode.Anonymous,a.audioSessionId=this.privDiarizationSessionId,a.audioOffsetMs=0,a.diarizeIntermediates=this.privRecognizerConfig.parameters.getProperty(e.PropertyId.SpeechServiceResponse_DiarizeIntermediateResults,"false")==="true",l.speakerDiarization=a,this.privSpeechContext.getContext().phraseDetection=l}}async processTypeSpecificMessages(l){let a;const u=new e.PropertyCollection;u.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,l.textBody);let d=!1;switch(l.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const m=t.SpeechHypothesis.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset);a=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,m.Text,m.Duration,m.Offset,m.Language,m.LanguageDetectionConfidence,m.SpeakerId,void 0,m.asJson(),u),this.privRequestSession.onHypothesis(m.Offset);const h=new e.ConversationTranscriptionEventArgs(a,m.Duration,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribing)try{this.privConversationTranscriber.transcribing(this.privConversationTranscriber,h)}catch{}d=!0;break;case"speech.phrase":const g=t.SimpleSpeechPhrase.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset),v=t.EnumTranslation.implTranslateRecognitionResult(g.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(g.Offset+g.Duration),e.ResultReason.Canceled===v){const x=t.EnumTranslation.implTranslateCancelResult(g.RecognitionStatus),C=t.EnumTranslation.implTranslateCancelErrorCode(g.RecognitionStatus);await this.cancelRecognitionLocal(x,C,t.EnumTranslation.implTranslateErrorDetails(C))}else if(!(this.privRequestSession.isSpeechEnded&&v===e.ResultReason.NoMatch&&g.RecognitionStatus!==t.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])a=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,v,g.DisplayText,g.Duration,g.Offset,g.Language,g.LanguageDetectionConfidence,g.SpeakerId,void 0,g.asJson(),u);else{const C=t.DetailedSpeechPhrase.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset);a=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,v,C.RecognitionStatus===t.RecognitionStatus.Success?C.NBest[0].Display:void 0,C.Duration,C.Offset,C.Language,C.LanguageDetectionConfidence,g.SpeakerId,void 0,C.asJson(),u)}const x=new e.ConversationTranscriptionEventArgs(a,a.offset,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribed)try{this.privConversationTranscriber.transcribed(this.privConversationTranscriber,x)}catch{}}d=!0;break}return d}cancelRecognition(l,a,u,d,m){if(new e.PropertyCollection().setProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[d]),this.privConversationTranscriber.canceled){const g=new e.ConversationTranscriptionCanceledEventArgs(u,m,d,void 0,l);try{this.privConversationTranscriber.canceled(this.privConversationTranscriber,g)}catch{}}}};return Lu.ConversationTranscriptionServiceRecognizer=i,Lu}var ju={},r0;function oV(){if(r0)return ju;r0=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.TranscriptionServiceRecognizer=void 0;const e=_e(),t=Z(),r=Se(),n=Ta();let i=class extends r.ConversationServiceRecognizer{constructor(l,a,u,d,m){super(l,a,u,d,m),this.privTranscriberRecognizer=m,this.sendPrePayloadJSONOverride=h=>this.sendTranscriptionStartJSON(h),this.privRecognizerConfig.parameters.getProperty(t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps)==="true"&&this.privSpeechContext.setWordLevelTimings()}async sendSpeechEventAsync(l,a){if(this.privRequestSession.isRecognizing){const u=await this.fetchConnection();await this.sendSpeechEvent(u,this.createSpeechEventPayload(l,a))}}async sendMeetingSpeechEventAsync(l,a){if(this.privRequestSession.isRecognizing){const u=await this.fetchConnection();await this.sendSpeechEvent(u,this.createMeetingSpeechEventPayload(l,a))}}processTypeSpecificMessages(l){return this.processSpeechMessages(l)}handleRecognizedCallback(l,a,u){try{const d=new t.SpeechRecognitionEventArgs(l,a,u);if(this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer,d),this.privSuccessCallback){try{this.privSuccessCallback(l)}catch(m){this.privErrorCallback&&this.privErrorCallback(m)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}catch{}}handleRecognizingCallback(l,a,u){try{const d=new t.SpeechRecognitionEventArgs(l,a,u);this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer,d)}catch{}}cancelRecognition(l,a,u,d,m){const h=new t.PropertyCollection;if(h.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[d]),this.privTranscriberRecognizer.IsMeetingRecognizer()){if(this.privTranscriberRecognizer.canceled){const g=new t.MeetingTranscriptionCanceledEventArgs(u,m,d,void 0,l);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,g)}catch{}}}else if(this.privTranscriberRecognizer.canceled){const g=new t.ConversationTranscriptionCanceledEventArgs(u,m,d,void 0,l);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,g)}catch{}}if(this.privSuccessCallback){const g=new t.SpeechRecognitionResult(a,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,m,void 0,h);try{this.privSuccessCallback(g),this.privSuccessCallback=void 0}catch{}}}async sendTranscriptionStartJSON(l){if(await this.sendSpeechContext(l,!0),this.privTranscriberRecognizer.IsMeetingRecognizer()){const a=this.privTranscriberRecognizer.getMeetingInfo(),u=this.createMeetingSpeechEventPayload(a,"start");await this.sendSpeechEvent(l,u)}else{const a=this.privTranscriberRecognizer.getConversationInfo(),u=this.createSpeechEventPayload(a,"start");await this.sendSpeechEvent(l,u)}await this.sendWaveHeader(l)}sendSpeechEvent(l,a){const u=JSON.stringify(a);if(u)return l.send(new n.SpeechConnectionMessage(e.MessageType.Text,"speech.event",this.privRequestSession.requestId,"application/json",u))}createSpeechEventPayload(l,a){const u={id:"meeting",name:a,meeting:l.conversationProperties};return u.meeting.id=l.id,u.meeting.attendees=l.participants,u}createMeetingSpeechEventPayload(l,a){const u={id:"meeting",name:a,meeting:l.meetingProperties};return u.meeting.id=l.id,u.meeting.attendees=l.participants,u}};return ju.TranscriptionServiceRecognizer=i,ju}var qu={},n0;function aV(){if(n0)return qu;n0=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.DetailedSpeechPhrase=void 0;const e=Se();let t=class mk{constructor(n,i){this.privDetailedSpeechPhrase=JSON.parse(n),this.privDetailedSpeechPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privDetailedSpeechPhrase.RecognitionStatus),this.updateOffsets(i)}static fromJSON(n,i){return new mk(n,i)}updateOffsets(n){if(this.privDetailedSpeechPhrase.Offset+=n,this.privDetailedSpeechPhrase.NBest)for(const i of this.privDetailedSpeechPhrase.NBest){if(i.Words)for(const o of i.Words)o.Offset+=n;if(i.DisplayWords)for(const o of i.DisplayWords)o.Offset+=n}}asJson(){const n={...this.privDetailedSpeechPhrase};return JSON.stringify({...n,RecognitionStatus:e.RecognitionStatus[n.RecognitionStatus]})}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}get Text(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}get SpeakerId(){return this.privDetailedSpeechPhrase.SpeakerId}mapRecognitionStatus(n){if(typeof n=="string")return e.RecognitionStatus[n];if(typeof n=="number")return n}};return qu.DetailedSpeechPhrase=t,qu}var Fu={},i0;function cV(){if(i0)return Fu;i0=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.SimpleSpeechPhrase=void 0;const e=Se();let t=class hk{constructor(n,i=0){this.privSimpleSpeechPhrase=JSON.parse(n),this.privSimpleSpeechPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privSimpleSpeechPhrase.RecognitionStatus),this.updateOffset(i)}static fromJSON(n,i){return new hk(n,i)}updateOffset(n){this.privSimpleSpeechPhrase.Offset+=n}asJson(){const n={...this.privSimpleSpeechPhrase};return JSON.stringify({...n,RecognitionStatus:e.RecognitionStatus[n.RecognitionStatus]})}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}mapRecognitionStatus(n){if(typeof n=="string")return e.RecognitionStatus[n];if(typeof n=="number")return n}};return Fu.SimpleSpeechPhrase=t,Fu}var Hu={},s0;function lV(){if(s0)return Hu;s0=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.AddedLmIntent=void 0;let e=class{constructor(r,n){this.modelImpl=r,this.intentName=n}};return Hu.AddedLmIntent=e,Hu}var Uu={},o0;function uV(){if(o0)return Uu;o0=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.IntentServiceRecognizer=void 0;const e=_e(),t=Z(),r=Se();let n=class extends r.ServiceRecognizerBase{constructor(o,l,a,u,d){super(o,l,a,u,d),this.privIntentRecognizer=d,this.privIntentDataSent=!1,u.recognitionEndpointVersion="1"}setIntents(o,l){this.privAddedLmIntents=o,this.privUmbrellaIntent=l,this.privIntentDataSent=!0}processTypeSpecificMessages(o){let l,a,u=!1;const d=new t.PropertyCollection;switch(o.messageType===e.MessageType.Text&&d.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,o.textBody),o.path.toLowerCase()){case"speech.hypothesis":const h=r.SpeechHypothesis.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);if(l=new t.IntentRecognitionResult(void 0,this.privRequestSession.requestId,t.ResultReason.RecognizingIntent,h.Text,h.Duration,h.Offset,h.Language,h.LanguageDetectionConfidence,void 0,h.asJson(),d),this.privRequestSession.onHypothesis(l.offset),a=new t.IntentRecognitionEventArgs(l,h.Offset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,a)}catch{}u=!0;break;case"speech.phrase":const g=r.SimpleSpeechPhrase.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);l=new t.IntentRecognitionResult(void 0,this.privRequestSession.requestId,r.EnumTranslation.implTranslateRecognitionResult(g.RecognitionStatus),g.DisplayText,g.Duration,g.Offset,g.Language,g.LanguageDetectionConfidence,void 0,g.asJson(),d),a=new t.IntentRecognitionEventArgs(l,l.offset,this.privRequestSession.sessionId);const v=()=>{if(this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,a)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(l)}catch(C){this.privErrorCallback&&this.privErrorCallback(C)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}};this.privIntentDataSent===!1||t.ResultReason.NoMatch===a.result.reason?(this.privRequestSession.onPhraseRecognized(a.offset+a.result.duration),v()):this.privPendingIntentArgs=a,u=!0;break;case"response":if(a=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,a===void 0){if(o.textBody==="")return;a=new t.IntentRecognitionEventArgs(new t.IntentRecognitionResult,0,this.privRequestSession.sessionId)}const x=r.IntentResponse.fromJSON(o.textBody);if(x!==null&&x.topScoringIntent&&x.topScoringIntent.intent){let C=this.privAddedLmIntents[x.topScoringIntent.intent];if(this.privUmbrellaIntent!==void 0&&(C=this.privUmbrellaIntent),C){const w=C===void 0||C.intentName===void 0?x.topScoringIntent.intent:C.intentName;let R=a.result.reason;w!==void 0&&(R=t.ResultReason.RecognizedIntent);const b=a.result.properties!==void 0?a.result.properties:new t.PropertyCollection;b.setProperty(t.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,o.textBody),a=new t.IntentRecognitionEventArgs(new t.IntentRecognitionResult(w,a.result.resultId,R,a.result.text,a.result.duration,a.result.offset,void 0,void 0,a.result.errorDetails,a.result.json,b),a.offset,a.sessionId)}}if(this.privRequestSession.onPhraseRecognized(a.offset+a.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,a)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(a.result)}catch(C){this.privErrorCallback&&this.privErrorCallback(C)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}u=!0;break}const m=new e.Deferred;return m.resolve(u),m.promise}cancelRecognition(o,l,a,u,d){const m=new t.PropertyCollection;if(m.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[u]),this.privIntentRecognizer.canceled){const h=new t.IntentRecognitionCanceledEventArgs(a,d,u,void 0,void 0,o);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,h)}catch{}}if(this.privSuccessCallback){const h=new t.IntentRecognitionResult(void 0,l,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,d,void 0,m);try{this.privSuccessCallback(h),this.privSuccessCallback=void 0}catch{}}}};return Uu.IntentServiceRecognizer=n,Uu}var $u={},a0;function dV(){if(a0)return $u;a0=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.IntentResponse=void 0;let e=class fk{constructor(r){r===""?this.privIntentResponse={}:this.privIntentResponse=JSON.parse(r)}static fromJSON(r){return new fk(r)}get query(){return this.privIntentResponse.query}get topScoringIntent(){return this.privIntentResponse.topScoringIntent}get entities(){return this.privIntentResponse.entities}};return $u.IntentResponse=e,$u}var zv={},c0;function pV(){return c0||(c0=1,Object.defineProperty(zv,"__esModule",{value:!0})),zv}var Wu={},Vu={},l0;function mV(){if(l0)return Vu;l0=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.ServiceTelemetryListener=void 0;const e=_e(),t=zS();class r{constructor(i,o,l){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=i,this.privAudioSourceId=o,this.privAudioNodeId=l,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(i){i>0&&this.privPhraseLatencies.push(Date.now()-i)}hypothesisReceived(i){i>0&&this.privHypothesisLatencies.push(Date.now()-i)}onEvent(i){this.privIsDisposed||(i instanceof t.RecognitionTriggeredEvent&&i.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:i.eventTime,Name:"ListeningTrigger",Start:i.eventTime}),i instanceof e.AudioStreamNodeAttachingEvent&&i.audioSourceId===this.privAudioSourceId&&i.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=i.eventTime),i instanceof e.AudioStreamNodeAttachedEvent&&i.audioSourceId===this.privAudioSourceId&&i.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=i.eventTime),i instanceof e.AudioSourceErrorEvent&&i.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:i.eventTime,Error:i.error,Name:"Microphone",Start:this.privMicStartTime})),i instanceof e.AudioStreamNodeErrorEvent&&i.audioSourceId===this.privAudioSourceId&&i.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:i.eventTime,Error:i.error,Name:"Microphone",Start:this.privMicStartTime})),i instanceof e.AudioStreamNodeDetachedEvent&&i.audioSourceId===this.privAudioSourceId&&i.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:i.eventTime,Name:"Microphone",Start:this.privMicStartTime})),i instanceof t.ConnectingToServiceEvent&&i.requestId===this.privRequestId&&(this.privConnectionId=i.sessionId),i instanceof e.ConnectionStartEvent&&i.connectionId===this.privConnectionId&&(this.privConnectionStartTime=i.eventTime),i instanceof e.ConnectionEstablishedEvent&&i.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:i.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),i instanceof e.ConnectionEstablishErrorEvent&&i.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:i.eventTime,Error:this.getConnectionError(i.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),i instanceof e.ConnectionMessageReceivedEvent&&i.connectionId===this.privConnectionId&&i.message&&i.message.headers&&i.message.headers.path&&(this.privReceivedMessages[i.message.headers.path]||(this.privReceivedMessages[i.message.headers.path]=new Array),this.privReceivedMessages[i.message.headers.path].length<50&&this.privReceivedMessages[i.message.headers.path].push(i.networkReceivedTime)))}getTelemetry(){const i=new Array;this.privListeningTriggerMetric&&i.push(this.privListeningTriggerMetric),this.privMicMetric&&i.push(this.privMicMetric),this.privConnectionEstablishMetric&&i.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&i.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&i.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const o={Metrics:i,ReceivedMessages:this.privReceivedMessages},l=JSON.stringify(o);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],l}get hasTelemetry(){return Object.keys(this.privReceivedMessages).length!==0||this.privListeningTriggerMetric!==null||this.privMicMetric!==null||this.privConnectionEstablishMetric!==null||this.privPhraseLatencies.length!==0||this.privHypothesisLatencies.length!==0}dispose(){this.privIsDisposed=!0}getConnectionError(i){switch(i){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+i.toString()}}}return Vu.ServiceTelemetryListener=r,Vu}var u0;function hV(){if(u0)return Wu;u0=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.RequestSession=void 0;const e=_e(),t=zS(),r=mV();let n=class{constructor(o){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecognitionBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=o,this.privRequestId=(0,e.createNoDashGuid)(),this.privAudioNodeId=(0,e.createNoDashGuid)(),this.privTurnDeferral=new e.Deferred,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get numConnectionAttempts(){return this.privConnectionAttempts}get bytesSent(){return this.privBytesSent}get recognitionBytesSent(){return this.privRecognitionBytesSent}listenForServiceTelemetry(o){this.privServiceTelemetryListener&&this.privDetachables.push(o.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privRecognitionBytesSent=0,this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new r.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new t.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}async onAudioSourceAttachCompleted(o,l){this.privAudioNode=o,this.privIsAudioNodeDetached=!1,l?await this.onComplete():this.onEvent(new t.ListeningStartedEvent(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onPreConnectionStart(o,l){this.privAuthFetchEventId=o,this.privSessionId=l,this.onEvent(new t.ConnectingToServiceEvent(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}async onAuthCompleted(o){o&&await this.onComplete()}async onConnectionEstablishCompleted(o,l){if(o===200){this.onEvent(new t.RecognitionStartedEvent(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privBytesSent=0;return}else o===403&&await this.onComplete()}async onServiceTurnEndResponse(o){this.privTurnDeferral.resolve(),!o||this.isSpeechEnded?(await this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay())}onSpeechContext(){this.privRequestId=(0,e.createNoDashGuid)()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new e.Deferred}onHypothesis(o){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(o)))}onPhraseRecognized(o){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(o)),this.onServiceRecognized(o)}onServiceRecognized(o){this.privLastRecoOffset=o,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(o),this.privConnectionAttempts=0}onAudioSent(o){this.privBytesSent+=o,this.privRecognitionBytesSent+=o}onRetryConnection(){this.privConnectionAttempts++}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const o of this.privDetachables)await o.detach();this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}}getTelemetry(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}async onStopRecognizing(){await this.onComplete()}onSpeechEnded(){this.privIsSpeechEnded=!0}onEvent(o){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(o),e.Events.instance.onEvent(o)}async onComplete(){this.privIsRecognizing&&(this.privIsRecognizing=!1,await this.detachAudioNode())}async detachAudioNode(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&await this.privAudioNode.detach())}};return Wu.RequestSession=n,Wu}var Ku={},Mv={},d0;function fV(){return d0||(d0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TentativePhraseResultsOption=e.OutputFormat=e.PhraseExtension=e.PhraseOption=void 0,(function(t){t.WordTimings="WordTimings",t.SNR="SNR",t.Pronunciation="Pronunciation",t.WordPronunciation="WordPronunciation",t.WordConfidence="WordConfidence",t.Words="Words",t.Sentiment="Sentiment",t.PronunciationAssessment="PronunciationAssessment",t.ContentAssessment="ContentAssessment",t.PhraseAMScore="PhraseAMScore",t.PhraseLMScore="PhraseLMScore",t.WordAMScore="WordAMScore",t.WordLMScore="WordLMScore",t.RuleTree="RuleTree",t.NBestTimings="NBestTimings",t.DecoderDiagnostics="DecoderDiagnostics",t.DisplayWordTimings="DisplayWordTimings",t.DisplayWords="DisplayWords"})(e.PhraseOption||(e.PhraseOption={})),(function(t){t.Graph="Graph",t.Corrections="Corrections",t.Sentiment="Sentiment"})(e.PhraseExtension||(e.PhraseExtension={})),(function(t){t.Simple="Simple",t.Detailed="Detailed"})(e.OutputFormat||(e.OutputFormat={})),(function(t){t.None="None",t.Always="Always"})(e.TentativePhraseResultsOption||(e.TentativePhraseResultsOption={}))})(Mv)),Mv}var p0;function gV(){if(p0)return Ku;p0=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.SpeechContext=void 0;const e=Lr(),t=fV();let r=class{constructor(i){this.privContext={},this.privDynamicGrammar=i}getContext(){return this.privContext}setPronunciationAssessmentParams(i,o,l=!1){this.privContext.phraseDetection===void 0&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment===void 0&&(this.privContext.phraseDetection.enrichment={pronunciationAssessment:{}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(i)||{},l&&(this.privContext.phraseDetection.mode=e.RecognitionMode.Conversation),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push(t.PhraseOption.PronunciationAssessment),this.privContext.phraseOutput.detailed.options.indexOf(t.PhraseOption.SNR)===-1&&this.privContext.phraseOutput.detailed.options.push(t.PhraseOption.SNR),o&&(this.privContext.phraseDetection.enrichment.contentAssessment={topic:o},this.privContext.phraseOutput.detailed.options.push(t.PhraseOption.ContentAssessment))}setDetailedOutputFormat(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format=t.OutputFormat.Detailed}setWordLevelTimings(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format=t.OutputFormat.Detailed,this.privContext.phraseOutput.detailed.options.indexOf(t.PhraseOption.WordTimings)===-1&&this.privContext.phraseOutput.detailed.options.push(t.PhraseOption.WordTimings)}setSpeakerDiarizationAudioOffsetMs(i){this.privContext.phraseDetection.speakerDiarization.audioOffsetMs=i}toJSON(){const i=this.privDynamicGrammar.generateGrammarObject();return this.privContext.dgi=i,JSON.stringify(this.privContext)}};return Ku.SpeechContext=r,Ku}var Gu={},kv={},m0;function vV(){return m0||(m0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SubstringMatchType=e.GroupType=void 0,(function(t){t.IntentText="IntentText",t.IntentEntity="IntentEntity",t.Generic="Generic",t.People="People",t.Place="Place",t.DynamicEntity="DynamicEntity"})(e.GroupType||(e.GroupType={})),(function(t){t.None="None",t.LeftRooted="LeftRooted",t.PartialName="PartialName",t.MiddleOfSentence="MiddleOfSentence"})(e.SubstringMatchType||(e.SubstringMatchType={}))})(kv)),kv}var h0;function yV(){if(h0)return Gu;h0=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.DynamicGrammarBuilder=void 0;const e=vV();let t=class{constructor(){this.privWeight=1}addPhrase(n){this.privPhrases||(this.privPhrases=[]),n instanceof Array?this.privPhrases=this.privPhrases.concat(n):this.privPhrases.push(n)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(n){this.privGrammars||(this.privGrammars=[]),n instanceof Array?this.privGrammars=this.privGrammars.concat(n):this.privGrammars.push(n)}clearGrammars(){this.privGrammars=void 0}setWeight(n){this.privWeight=n}generateGrammarObject(){if(this.privGrammars===void 0&&this.privPhrases===void 0)return;const n={};if(n.referenceGrammars=this.privGrammars,this.privPhrases!==void 0&&this.privPhrases.length!==0){const i=[];this.privPhrases.forEach(o=>{i.push({text:o})}),n.groups=[{type:e.GroupType.Generic,items:i}],n.bias=this.privWeight}return n}};return Gu.DynamicGrammarBuilder=t,Gu}var Ju={},Qu={},Xu={},Ov={},f0;function gk(){return f0||(f0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MessageDataStreamType=e.ActivityPayloadResponse=void 0;class t{constructor(n){this.privActivityResponse=JSON.parse(n)}static fromJSON(n){return new t(n)}get conversationId(){return this.privActivityResponse.conversationId}get messageDataStreamType(){return this.privActivityResponse.messageDataStreamType}get messagePayload(){return this.privActivityResponse.messagePayload}get version(){return this.privActivityResponse.version}}e.ActivityPayloadResponse=t,(function(r){r[r.None=0]="None",r[r.TextToSpeechAudio=1]="TextToSpeechAudio"})(e.MessageDataStreamType||(e.MessageDataStreamType={}))})(Ov)),Ov}var g0;function SV(){if(g0)return Xu;g0=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.DialogServiceTurnState=void 0;const e=Gd(),t=Ea(),r=gk();let n=class{constructor(o,l){this.privRequestId=l,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=o,this.resetTurnEndTimeout()}get audioStream(){return this.resetTurnEndTimeout(),this.privAudioStream}processActivityPayload(o,l){return o.messageDataStreamType===r.MessageDataStreamType.TextToSpeechAudio&&(this.privAudioStream=t.AudioOutputStream.createPullStream(),this.privAudioStream.format=l!==void 0?l:e.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privAudioStream}endAudioStream(){this.privAudioStream!==null&&!this.privAudioStream.isClosed&&this.privAudioStream.close()}complete(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.endAudioStream()}resetTurnEndTimeout(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout(()=>{this.privTurnManager.CompleteTurn(this.privRequestId)},2e3)}};return Xu.DialogServiceTurnState=n,Xu}var v0;function CV(){if(v0)return Qu;v0=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.DialogServiceTurnStateManager=void 0;const e=Tn(),t=SV();let r=class{constructor(){this.privTurnMap=new Map}StartTurn(i){if(this.privTurnMap.has(i))throw new e.InvalidOperationError("Service error: There is already a turn with id:"+i);const o=new t.DialogServiceTurnState(this,i);return this.privTurnMap.set(i,o),this.privTurnMap.get(i)}GetTurn(i){return this.privTurnMap.get(i)}CompleteTurn(i){if(!this.privTurnMap.has(i))throw new e.InvalidOperationError("Service error: Received turn end for an unknown turn id:"+i);const o=this.privTurnMap.get(i);return o.complete(),this.privTurnMap.delete(i),o}};return Qu.DialogServiceTurnStateManager=r,Qu}var Dv={},y0;function xV(){return y0||(y0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InvocationSource=void 0,(function(t){t.None="None",t.VoiceActivationWithKeyword="VoiceActivationWithKeyword"})(e.InvocationSource||(e.InvocationSource={}))})(Dv)),Dv}var Bv={},S0;function PV(){return S0||(S0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OnRejectAction=e.KeywordDetectionType=void 0,(function(t){t.StartTrigger="StartTrigger"})(e.KeywordDetectionType||(e.KeywordDetectionType={})),(function(t){t.EndOfTurn="EndOfTurn",t.Continue="Continue"})(e.OnRejectAction||(e.OnRejectAction={}))})(Bv)),Bv}var C0;function RV(){if(C0)return Ju;C0=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.DialogServiceAdapter=void 0;const e=Wt(),t=RM(),r=_e(),n=Gd(),i=Z(),o=CV(),l=Se(),a=gk(),u=xV(),d=PV(),m=Ta();let h=class extends l.ServiceRecognizerBase{constructor(v,x,C,w,R){super(v,x,C,w,R),this.privEvents=new r.EventSource,this.privDialogServiceConnector=R,this.receiveMessageOverride=()=>this.receiveDialogMessageOverride(),this.privTurnStateManager=new o.DialogServiceTurnStateManager,this.recognizeOverride=(b,N,T)=>this.listenOnce(b,N,T),this.postConnectImplOverride=b=>this.dialogConnectImpl(b),this.configConnectionOverride=b=>this.configConnection(b),this.disconnectOverride=()=>this.privDisconnect(),this.privDialogAudioSource=C,this.agentConfigSent=!1,this.privLastResult=null,this.connectionEvents.attach(b=>{b.name==="ConnectionClosedEvent"&&(this.terminateMessageLoop=!0)})}async sendMessage(v){const x=(0,r.createGuid)(),C=(0,r.createNoDashGuid)(),w={context:{interactionId:x},messagePayload:JSON.parse(v),version:.5},R=JSON.stringify(w);await(await this.fetchConnection()).send(new m.SpeechConnectionMessage(r.MessageType.Text,"agent",C,"application/json",R))}async privDisconnect(){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,this.agentConfigSent=!1}processTypeSpecificMessages(v){const x=new i.PropertyCollection;v.messageType===r.MessageType.Text&&x.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,v.textBody);let C,w;switch(v.path.toLowerCase()){case"speech.phrase":const b=l.SimpleSpeechPhrase.fromJSON(v.textBody,this.privRequestSession.currentTurnAudioOffset);if(this.privRequestSession.onPhraseRecognized(b.Offset+b.Duration),b.RecognitionStatus!==l.RecognitionStatus.TooManyRequests&&b.RecognitionStatus!==l.RecognitionStatus.Error){const M=this.fireEventForResult(b,x);if(this.privLastResult=M.result,this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,M)}catch{}}w=!0;break;case"speech.hypothesis":const N=l.SpeechHypothesis.fromJSON(v.textBody,this.privRequestSession.currentTurnAudioOffset);C=new i.SpeechRecognitionResult(this.privRequestSession.requestId,i.ResultReason.RecognizingSpeech,N.Text,N.Duration,N.Offset,N.Language,N.LanguageDetectionConfidence,void 0,void 0,N.asJson(),x),this.privRequestSession.onHypothesis(N.Offset);const T=new i.SpeechRecognitionEventArgs(C,N.Offset,this.privRequestSession.sessionId);if(this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,T)}catch{}w=!0;break;case"speech.keyword":const A=l.SpeechKeyword.fromJSON(v.textBody,this.privRequestSession.currentTurnAudioOffset);C=new i.SpeechRecognitionResult(this.privRequestSession.requestId,A.Status==="Accepted"?i.ResultReason.RecognizedKeyword:i.ResultReason.NoMatch,A.Text,A.Duration,A.Offset,void 0,void 0,void 0,void 0,A.asJson(),x),A.Status!=="Accepted"&&(this.privLastResult=C);const k=new i.SpeechRecognitionEventArgs(C,C.duration,C.resultId);if(this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,k)}catch{}w=!0;break;case"audio":{const M=v.requestId.toUpperCase(),z=this.privTurnStateManager.GetTurn(M);try{v.binaryBody?z.audioStream.write(v.binaryBody):z.endAudioStream()}catch{}}w=!0;break;case"response":this.handleResponseMessage(v),w=!0;break}const R=new r.Deferred;return R.resolve(w),R.promise}async cancelRecognition(v,x,C,w,R){if(this.terminateMessageLoop=!0,this.privRequestSession.isRecognizing&&await this.privRequestSession.onStopRecognizing(),this.privDialogServiceConnector.canceled){const b=new i.PropertyCollection;b.setProperty(l.CancellationErrorCodePropertyName,i.CancellationErrorCode[w]);const N=new i.SpeechRecognitionCanceledEventArgs(C,R,w,void 0,v);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,N)}catch{}if(this.privSuccessCallback){const T=new i.SpeechRecognitionResult(void 0,i.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,R,void 0,b);try{this.privSuccessCallback(T),this.privSuccessCallback=void 0}catch{}}}}async listenOnce(v,x,C){this.privRecognizerConfig.recognitionMode=v,this.privSuccessCallback=x,this.privErrorCallback=C,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events),this.privRecognizerConfig.parameters.setProperty(i.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const w=this.connectImpl(),R=this.sendPreAudioMessages(),b=await this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId),N=await this.privDialogAudioSource.format,T=await this.privDialogAudioSource.deviceInfo,A=new e.ReplayableAudioNode(b,N.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(A,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:T};try{await w,await R}catch(z){return await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.ConnectionFailure,z),Promise.resolve()}const k=new i.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,k),this.sendAudio(A).then(()=>{},async z=>{await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.RuntimeError,z)})}dialogConnectImpl(v){return this.privConnectionLoop=this.startMessageLoop(),v}receiveDialogMessageOverride(){const v=new r.Deferred,x=async()=>{try{const C=this.isDisposed(),w=!this.isDisposed()&&this.terminateMessageLoop;if(C||w){v.resolve(void 0);return}const b=await(await this.fetchConnection()).read();if(!b)return x();const N=m.SpeechConnectionMessage.fromConnectionMessage(b);switch(N.path.toLowerCase()){case"turn.start":{const K=N.requestId.toUpperCase(),ue=this.privRequestSession.requestId.toUpperCase();K!==ue?this.privTurnStateManager.StartTurn(K):this.privRequestSession.onServiceTurnStartResponse()}break;case"speech.startdetected":const A=l.SpeechDetected.fromJSON(N.textBody,this.privRequestSession.currentTurnAudioOffset),k=new i.RecognitionEventArgs(A.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,k);break;case"speech.enddetected":let M;N.textBody.length>0?M=N.textBody:M="{ Offset: 0 }";const z=l.SpeechDetected.fromJSON(M,this.privRequestSession.currentTurnAudioOffset);this.privRequestSession.onServiceRecognized(z.Offset);const V=new i.RecognitionEventArgs(z.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,V);break;case"turn.end":{const K=N.requestId.toUpperCase(),ue=this.privRequestSession.requestId.toUpperCase();if(K!==ue)this.privTurnStateManager.CompleteTurn(K);else{const we=new i.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(!1),(!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)&&this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,we),this.privSuccessCallback&&this.privLastResult){try{this.privSuccessCallback(this.privLastResult),this.privLastResult=null}catch(H){this.privErrorCallback&&this.privErrorCallback(H)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}}break;default:try{await this.processTypeSpecificMessages(N)||this.serviceEvents&&this.serviceEvents.onEvent(new r.ServiceEvent(N.path.toLowerCase(),N.textBody))}catch{}}return x()}catch{this.terminateMessageLoop=!0,v.resolve()}};return x().catch(C=>{r.Events.instance.onEvent(new r.BackgroundEvent(C))}),v.promise}async startMessageLoop(){this.terminateMessageLoop=!1;try{await this.receiveDialogMessageOverride()}catch(v){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.RuntimeError,v)}return Promise.resolve()}async configConnection(v){return this.terminateMessageLoop?(this.terminateMessageLoop=!1,Promise.reject("Connection to service terminated.")):(await this.sendSpeechServiceConfig(v,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendAgentConfig(v),v)}async sendPreAudioMessages(){const v=await this.fetchConnection();this.addKeywordContextData(),await this.sendSpeechContext(v,!0),await this.sendAgentContext(v),await this.sendWaveHeader(v)}sendAgentConfig(v){if(this.agentConfig&&!this.agentConfigSent){if(this.privRecognizerConfig.parameters.getProperty(i.PropertyId.Conversation_DialogType)===i.DialogServiceConfig.DialogTypes.CustomCommands){const C=this.agentConfig.get();C.botInfo.commandsCulture=this.privRecognizerConfig.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage,"en-us"),this.agentConfig.set(C)}this.onEvent(new t.SendingAgentContextMessageEvent(this.agentConfig));const x=this.agentConfig.toJsonString();return this.agentConfigSent=!0,v.send(new m.SpeechConnectionMessage(r.MessageType.Text,"agent.config",this.privRequestSession.requestId,"application/json",x))}}sendAgentContext(v){const x=(0,r.createGuid)(),C=this.privDialogServiceConnector.properties.getProperty(i.PropertyId.Conversation_Speech_Activity_Template),R=JSON.stringify({channelData:"",context:{interactionId:x},messagePayload:typeof C===void 0?void 0:C,version:.5});return v.send(new m.SpeechConnectionMessage(r.MessageType.Text,"speech.agent.context",this.privRequestSession.requestId,"application/json",R))}fireEventForResult(v,x){const C=l.EnumTranslation.implTranslateRecognitionResult(v.RecognitionStatus),w=new i.SpeechRecognitionResult(this.privRequestSession.requestId,C,v.DisplayText,v.Duration,v.Offset,v.Language,v.LanguageDetectionConfidence,void 0,void 0,v.asJson(),x);return new i.SpeechRecognitionEventArgs(w,v.Offset,this.privRequestSession.sessionId)}handleResponseMessage(v){const x=JSON.parse(v.textBody);switch(x.messageType.toLowerCase()){case"message":const C=v.requestId.toUpperCase(),w=a.ActivityPayloadResponse.fromJSON(v.textBody),R=this.privTurnStateManager.GetTurn(C);if(w.conversationId){const T=this.agentConfig.get();T.botInfo.conversationId=w.conversationId,this.agentConfig.set(T)}const b=R.processActivityPayload(w,n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(this.privDialogServiceConnector.properties.getProperty(i.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0))),N=new i.ActivityReceivedEventArgs(w.messagePayload,b);if(this.privDialogServiceConnector.activityReceived)try{this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector,N)}catch{}break;case"messagestatus":if(this.privDialogServiceConnector.turnStatusReceived)try{this.privDialogServiceConnector.turnStatusReceived(this.privDialogServiceConnector,new i.TurnStatusReceivedEventArgs(v.textBody))}catch{}break;default:r.Events.instance.onEvent(new r.BackgroundEvent(`Unexpected response of type ${x.messageType}. Ignoring.`));break}}onEvent(v){this.privEvents.onEvent(v),r.Events.instance.onEvent(v)}addKeywordContextData(){const v=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect");if(v===void 0)return;const x=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Offsets"),C=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Durations"),w=v.split(";"),R=x===void 0?[]:x.split(";"),b=C===void 0?[]:C.split(";"),N=[];for(let T=0;T<w.length;T++){const A={text:w[T]};T<R.length&&(A.startOffset=Number(R[T])),T<b.length&&(A.duration=Number(b[T])),N.push(A)}this.speechContext.getContext().invocationSource=u.InvocationSource.VoiceActivationWithKeyword,this.speechContext.getContext().keywordDetection=[{clientDetectedKeywords:N,onReject:{action:d.OnRejectAction.EndOfTurn},type:d.KeywordDetectionType.StartTrigger}]}};return Ju.DialogServiceAdapter=h,Ju}var Yu={},x0;function wV(){if(x0)return Yu;x0=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.AgentConfig=void 0;let e=class{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(r){this.iPrivConfig=r}};return Yu.AgentConfig=e,Yu}var Lv={},Zu={},ed={},P0;function MS(){if(P0)return ed;P0=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConversationConnectionConfig=void 0;const e=ck();let t=class Ai extends e.RestConfigBase{static get host(){return Ai.privHost}static get apiVersion(){return Ai.privApiVersion}static get clientAppId(){return Ai.privClientAppId}static get defaultLanguageCode(){return Ai.privDefaultLanguageCode}static get restPath(){return Ai.privRestPath}static get webSocketPath(){return Ai.privWebSocketPath}static get transcriptionEventKeys(){return Ai.privTranscriptionEventKeys}};return ed.ConversationConnectionConfig=t,t.privHost="dev.microsofttranslator.com",t.privRestPath="/capito/room",t.privApiVersion="2.0",t.privDefaultLanguageCode="en-US",t.privClientAppId="FC539C22-1767-4F1F-84BC-B4D811114F15",t.privWebSocketPath="/capito/translate",t.privTranscriptionEventKeys=["iCalUid","callId","organizer","FLAC","MTUri","DifferentiateGuestSpeakers","audiorecording","Threadid","OrganizerMri","OrganizerTenantId","UserToken"],ed}var R0;function bV(){if(R0)return Zu;R0=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.ConversationManager=void 0;const e=Wt(),t=je(),r=Z(),n=MS();let i=class{constructor(){this.privRequestParams=n.ConversationConnectionConfig.configParams,this.privErrors=n.ConversationConnectionConfig.restErrors,this.privHost=n.ConversationConnectionConfig.host,this.privApiVersion=n.ConversationConnectionConfig.apiVersion,this.privRestPath=n.ConversationConnectionConfig.restPath,this.privRestAdapter=new e.RestMessageAdapter({})}createOrJoin(l,a,u,d){try{t.Contracts.throwIfNullOrUndefined(l,"args");const m=l.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,n.ConversationConnectionConfig.defaultLanguageCode),h=l.getProperty(r.PropertyId.ConversationTranslator_Name,"conversation_host"),g=l.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),v=l.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),x=l.getProperty(r.PropertyId.SpeechServiceConnection_Key),C=l.getProperty(r.PropertyId.SpeechServiceConnection_Region),w=l.getProperty(r.PropertyId.SpeechServiceAuthorization_Token);t.Contracts.throwIfNullOrWhitespace(m,"languageCode"),t.Contracts.throwIfNullOrWhitespace(h,"nickname"),t.Contracts.throwIfNullOrWhitespace(g,"endpointHost");const R={};R[this.privRequestParams.apiVersion]=this.privApiVersion,R[this.privRequestParams.languageCode]=m,R[this.privRequestParams.nickname]=h;const b={};v&&(b[this.privRequestParams.correlationId]=v),b[this.privRequestParams.clientAppId]=n.ConversationConnectionConfig.clientAppId,a!==void 0?R[this.privRequestParams.roomId]=a:(t.Contracts.throwIfNullOrUndefined(C,this.privErrors.authInvalidSubscriptionRegion),b[this.privRequestParams.subscriptionRegion]=C,x?b[this.privRequestParams.subscriptionKey]=x:w?b[this.privRequestParams.authorization]=`Bearer ${w}`:t.Contracts.throwIfNullOrUndefined(x,this.privErrors.authInvalidSubscriptionKey));const N={};N.headers=b,this.privRestAdapter.options=N;const T=`https://${g}${this.privRestPath}`;this.privRestAdapter.request(e.RestRequestType.Post,T,R,null).then(A=>{const k=e.RestMessageAdapter.extractHeaderValue(this.privRequestParams.requestId,A.headers);if(!A.ok){if(d){let z=this.privErrors.invalidCreateJoinConversationResponse.replace("{status}",A.status.toString()),V;try{V=JSON.parse(A.data),z+=` [${V.error.code}: ${V.error.message}]`}catch{z+=` [${A.data}]`}k&&(z+=` ${k}`),d(z)}return}const M=JSON.parse(A.data);if(M&&(M.requestId=k),u){try{u(M)}catch(z){d&&d(z)}u=void 0}}).catch(()=>{})}catch(m){if(d)if(m instanceof Error){const h=m;d(h.name+": "+h.message)}else d(m)}}leave(l,a){return new Promise((u,d)=>{try{t.Contracts.throwIfNullOrUndefined(l,this.privErrors.invalidArgs.replace("{arg}","config")),t.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","token"));const m=l.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),h=l.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),g={};g[this.privRequestParams.apiVersion]=this.privApiVersion,g[this.privRequestParams.sessionToken]=a;const v={};h&&(v[this.privRequestParams.correlationId]=h);const x={};x.headers=v,this.privRestAdapter.options=x;const C=`https://${m}${this.privRestPath}`;this.privRestAdapter.request(e.RestRequestType.Delete,C,g,null).then(w=>{w.ok,u()}).catch(()=>{})}catch(m){if(m instanceof Error){const h=m;d(h.name+": "+h.message)}else d(m)}})}};return Zu.ConversationManager=i,Zu}var ks={},td={},rd={},nd={},w0;function vk(){if(w0)return nd;w0=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.ConversationConnectionMessage=void 0;const e=_e();let t=class extends e.ConnectionMessage{constructor(n,i,o,l){super(n,i,o,l);const a=JSON.parse(this.textBody);a.type!==void 0&&(this.privConversationMessageType=a.type)}get conversationMessageType(){return this.privConversationMessageType}};return nd.ConversationConnectionMessage=t,nd}var b0;function NV(){if(b0)return rd;b0=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.ConversationWebsocketMessageFormatter=void 0;const e=_e(),t=vk();let r=class{toConnectionMessage(i){const o=new e.Deferred;try{if(i.messageType===e.MessageType.Text){const l=new t.ConversationConnectionMessage(i.messageType,i.textContent,{},i.id);o.resolve(l)}else i.messageType===e.MessageType.Binary&&o.resolve(new t.ConversationConnectionMessage(i.messageType,i.binaryContent,void 0,i.id))}catch(l){o.reject(`Error formatting the message. Error: ${l}`)}return o.promise}fromConnectionMessage(i){const o=new e.Deferred;try{if(i.messageType===e.MessageType.Text){const l=`${i.textBody?i.textBody:""}`;o.resolve(new e.RawWebsocketMessage(e.MessageType.Text,l,i.id))}}catch(l){o.reject(`Error formatting the message. ${l}`)}return o.promise}};return rd.ConversationWebsocketMessageFormatter=r,rd}var N0;function EV(){if(N0)return td;N0=1,Object.defineProperty(td,"__esModule",{value:!0}),td.ConversationConnectionFactory=void 0;const e=Wt(),t=_e(),r=je(),n=Z(),i=sn(),o=MS(),l=NV();let a=class extends i.ConnectionFactoryBase{create(d,m,h){const g=d.parameters.getProperty(n.PropertyId.ConversationTranslator_Host,o.ConversationConnectionConfig.host),v=d.parameters.getProperty(n.PropertyId.ConversationTranslator_CorrelationId,(0,t.createGuid)()),x=`wss://${g}${o.ConversationConnectionConfig.webSocketPath}`,C=d.parameters.getProperty(n.PropertyId.ConversationTranslator_Token,void 0);r.Contracts.throwIfNullOrUndefined(C,"token");const w={};w[o.ConversationConnectionConfig.configParams.apiVersion]=o.ConversationConnectionConfig.apiVersion,w[o.ConversationConnectionConfig.configParams.token]=C,w[o.ConversationConnectionConfig.configParams.correlationId]=v;const R=d.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return Promise.resolve(new e.WebsocketConnection(x,w,{},new l.ConversationWebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(d),R,h))}};return td.ConversationConnectionFactory=a,td}var id={},sd={},E0;function TV(){if(E0)return sd;E0=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.ConversationRequestSession=void 0;const e=_e();let t=class{constructor(n){this.privIsDisposed=!1,this.privDetachables=new Array,this.privSessionId=n,this.privRequestId=(0,e.createNoDashGuid)(),this.privRequestCompletionDeferral=new e.Deferred}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get completionPromise(){return this.privRequestCompletionDeferral.promise}onPreConnectionStart(n,i){this.privSessionId=i}onAuthCompleted(n){n&&this.onComplete()}onConnectionEstablishCompleted(n){n!==200&&n===403&&this.onComplete()}onServiceTurnEndResponse(n){n?this.privRequestId=(0,e.createNoDashGuid)():this.onComplete()}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const n of this.privDetachables)await n.detach()}}onComplete(){}};return sd.ConversationRequestSession=t,sd}var or={},T0;function yk(){if(T0)return or;T0=1,Object.defineProperty(or,"__esModule",{value:!0}),or.ConversationReceivedTranslationEventArgs=or.ParticipantsListEventArgs=or.ParticipantAttributeEventArgs=or.ParticipantEventArgs=or.LockRoomEventArgs=or.MuteAllEventArgs=void 0;const e=Z();class t extends e.SessionEventArgs{constructor(u,d){super(d),this.privIsMuted=u}get isMuted(){return this.privIsMuted}}or.MuteAllEventArgs=t;class r extends e.SessionEventArgs{constructor(u,d){super(d),this.privIsLocked=u}get isMuted(){return this.privIsLocked}}or.LockRoomEventArgs=r;class n extends e.SessionEventArgs{constructor(u,d){super(d),this.privParticipant=u}get participant(){return this.privParticipant}}or.ParticipantEventArgs=n;class i extends e.SessionEventArgs{constructor(u,d,m,h){super(h),this.privKey=d,this.privValue=m,this.privParticipantId=u}get value(){return this.privValue}get key(){return this.privKey}get id(){return this.privParticipantId}}or.ParticipantAttributeEventArgs=i;class o extends e.SessionEventArgs{constructor(u,d,m,h,g,v,x,C,w){super(w),this.privRoomId=u,this.privSessionToken=d,this.privTranslateTo=m,this.privProfanityFilter=h,this.privRoomProfanityFilter=g,this.privIsRoomLocked=v,this.privIsRoomLocked=x,this.privParticipants=C}get sessionToken(){return this.privSessionToken}get conversationId(){return this.privRoomId}get translateTo(){return this.privTranslateTo}get profanityFilter(){return this.privProfanityFilter}get roomProfanityFilter(){return this.privRoomProfanityFilter}get isRoomLocked(){return this.privIsRoomLocked}get isMuteAll(){return this.privIsMuteAll}get participants(){return this.privParticipants}}or.ParticipantsListEventArgs=o;class l{constructor(u,d,m){this.privPayload=d,this.privCommand=u,this.privSessionId=m}get payload(){return this.privPayload}get command(){return this.privCommand}get sessionId(){return this.privSessionId}}return or.ConversationReceivedTranslationEventArgs=l,or}var Vn={},I0;function Sk(){if(I0)return Vn;I0=1,Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.ConversationTranslatorCommandTypes=Vn.ConversationTranslatorMessageTypes=Vn.InternalParticipants=void 0;class e{constructor(r=[],n){this.participants=r,this.meId=n}addOrUpdateParticipant(r){if(r===void 0)return;const n=this.getParticipantIndex(r.id);return n>-1?this.participants.splice(n,1,r):this.participants.push(r),this.getParticipant(r.id)}getParticipantIndex(r){return this.participants.findIndex(n=>n.id===r)}getParticipant(r){return this.participants.find(n=>n.id===r)}deleteParticipant(r){this.participants=this.participants.filter(n=>n.id!==r)}get host(){return this.participants.find(r=>r.isHost===!0)}get me(){return this.getParticipant(this.meId)}}return Vn.InternalParticipants=e,Vn.ConversationTranslatorMessageTypes={command:"command",final:"final",info:"info",instantMessage:"instant_message",keepAlive:"keep_alive",partial:"partial",participantCommand:"participant_command",translatedMessage:"translated_message"},Vn.ConversationTranslatorCommandTypes={changeNickname:"ChangeNickname",disconnectSession:"DisconnectSession",ejectParticipant:"EjectParticipant",instant_message:"instant_message",joinSession:"JoinSession",leaveSession:"LeaveSession",participantList:"ParticipantList",roomExpirationWarning:"RoomExpirationWarning",setLockState:"SetLockState",setMute:"SetMute",setMuteAll:"SetMuteAll",setProfanityFiltering:"SetProfanityFiltering",setTranslateToLanguages:"SetTranslateToLanguages",setUseTTS:"SetUseTTS"},Vn}var jv={},od={},A0;function IV(){if(A0)return od;A0=1,Object.defineProperty(od,"__esModule",{value:!0}),od.CommandResponsePayload=void 0;const e=r=>JSON.parse(r);let t=class Ck{constructor(n){this.privCommandResponse=e(n)}get type(){return this.privCommandResponse.type}get command(){return this.privCommandResponse.command}get id(){return this.privCommandResponse.id}get nickname(){return this.privCommandResponse.nickname}get participantId(){return this.privCommandResponse.participantId}get roomid(){return this.privCommandResponse.roomid}get value(){return this.privCommandResponse.value}get token(){return this.privCommandResponse.token}static fromJSON(n){return new Ck(n)}};return od.CommandResponsePayload=t,od}var Os={},_0;function AV(){if(_0)return Os;_0=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.ParticipantPayloadResponse=Os.ParticipantsListPayloadResponse=void 0;const e=i=>JSON.parse(i),t=i=>JSON.parse(i);class r{constructor(o){this.privParticipantsPayloadResponse=e(o)}get roomid(){return this.privParticipantsPayloadResponse.roomid}get id(){return this.privParticipantsPayloadResponse.id}get command(){return this.privParticipantsPayloadResponse.command}get participants(){return this.privParticipantsPayloadResponse.participants}get token(){return this.privParticipantsPayloadResponse.token}get translateTo(){return this.privParticipantsPayloadResponse.translateTo}get profanityFilter(){return this.privParticipantsPayloadResponse.profanityFilter}get roomProfanityFilter(){return this.privParticipantsPayloadResponse.roomProfanityFilter}get roomLocked(){return this.privParticipantsPayloadResponse.roomLocked}get muteAll(){return this.privParticipantsPayloadResponse.muteAll}get type(){return this.privParticipantsPayloadResponse.type}static fromJSON(o){return new r(o)}}Os.ParticipantsListPayloadResponse=r;class n{constructor(o){this.privParticipantPayloadResponse=t(o)}get nickname(){return this.privParticipantPayloadResponse.nickname}get locale(){return this.privParticipantPayloadResponse.locale}get usetts(){return this.privParticipantPayloadResponse.usetts}get ismuted(){return this.privParticipantPayloadResponse.ismuted}get ishost(){return this.privParticipantPayloadResponse.ishost}get participantId(){return this.privParticipantPayloadResponse.participantId}get avatar(){return this.privParticipantPayloadResponse.avatar}static fromJSON(o){return new n(o)}}return Os.ParticipantPayloadResponse=n,Os}var Ds={},z0;function _V(){if(z0)return Ds;z0=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.TextResponsePayload=Ds.SpeechResponsePayload=void 0;const e=i=>JSON.parse(i),t=i=>JSON.parse(i);class r{constructor(o){this.privSpeechResponse=e(o)}get recognition(){return this.privSpeechResponse.recognition}get translations(){return this.privSpeechResponse.translations}get id(){return this.privSpeechResponse.id}get language(){return this.privSpeechResponse.language}get nickname(){return this.privSpeechResponse.nickname}get participantId(){return this.privSpeechResponse.participantId}get roomid(){return this.privSpeechResponse.roomid}get timestamp(){return this.privSpeechResponse.timestamp}get type(){return this.privSpeechResponse.type}get isFinal(){return this.privSpeechResponse.type==="final"}static fromJSON(o){return new r(o)}}Ds.SpeechResponsePayload=r;class n{constructor(o){this.privTextResponse=t(o)}get originalText(){return this.privTextResponse.originalText}get translations(){return this.privTextResponse.translations}get id(){return this.privTextResponse.id}get language(){return this.privTextResponse.language}get nickname(){return this.privTextResponse.nickname}get participantId(){return this.privTextResponse.participantId}get roomid(){return this.privTextResponse.roomid}get timestamp(){return this.privTextResponse.timestamp}get type(){return this.privTextResponse.type}static fromJSON(o){return new n(o)}}return Ds.TextResponsePayload=n,Ds}var M0;function zV(){return M0||(M0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TextResponsePayload=e.SpeechResponsePayload=e.ParticipantPayloadResponse=e.ParticipantsListPayloadResponse=e.CommandResponsePayload=void 0;var t=IV();Object.defineProperty(e,"CommandResponsePayload",{enumerable:!0,get:function(){return t.CommandResponsePayload}});var r=AV();Object.defineProperty(e,"ParticipantsListPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantsListPayloadResponse}}),Object.defineProperty(e,"ParticipantPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantPayloadResponse}});var n=_V();Object.defineProperty(e,"SpeechResponsePayload",{enumerable:!0,get:function(){return n.SpeechResponsePayload}}),Object.defineProperty(e,"TextResponsePayload",{enumerable:!0,get:function(){return n.TextResponsePayload}})})(jv)),jv}var k0;function MV(){if(k0)return id;k0=1,Object.defineProperty(id,"__esModule",{value:!0}),id.ConversationServiceAdapter=void 0;const e=_e(),t=Z(),r=Se(),n=vk(),i=TV(),o=yk(),l=Sk(),a=zV();let u=class extends r.ServiceRecognizerBase{constructor(m,h,g,v,x){super(m,h,g,v,x),this.privConnectionConfigPromise=void 0,this.privLastPartialUtteranceId="",this.privConversationServiceConnector=x,this.privConversationAuthentication=m,this.receiveMessageOverride=()=>this.receiveConversationMessageOverride(),this.recognizeOverride=()=>this.noOp(),this.postConnectImplOverride=C=>this.conversationConnectImpl(C),this.configConnectionOverride=()=>this.configConnection(),this.disconnectOverride=()=>this.privDisconnect(),this.privConversationRequestSession=new i.ConversationRequestSession((0,e.createNoDashGuid)()),this.privConversationConnectionFactory=h,this.privConversationIsDisposed=!1}isDisposed(){return super.isDisposed()||this.privConversationIsDisposed}async dispose(m){this.privConversationIsDisposed=!0,this.privConnectionConfigPromise!==void 0&&await(await this.privConnectionConfigPromise).dispose(m),await super.dispose(m)}async sendMessage(m){return(await this.fetchConnection()).send(new n.ConversationConnectionMessage(e.MessageType.Text,m))}async sendMessageAsync(m){await(await this.fetchConnection()).send(new n.ConversationConnectionMessage(e.MessageType.Text,m))}privDisconnect(){if(!this.terminateMessageLoop)return this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,t.CancellationReason.Error,t.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,Promise.resolve()}async processTypeSpecificMessages(){return!0}cancelRecognition(m,h,g,v,x){this.terminateMessageLoop=!0;const C=new t.ConversationTranslationCanceledEventArgs(g,x,v,void 0,m);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,C)}catch{}}async conversationConnectImpl(m){return this.privConnectionLoop=this.startMessageLoop(),m}async receiveConversationMessageOverride(){if(this.isDisposed()||this.terminateMessageLoop)return Promise.resolve();const m=new e.Deferred;try{const g=await(await this.fetchConnection()).read();if(this.isDisposed()||this.terminateMessageLoop)return m.resolve(),Promise.resolve();if(!g)return this.receiveConversationMessageOverride();const v=this.privConversationRequestSession.sessionId,x=g.conversationMessageType.toLowerCase();let C=!1;try{switch(x){case"info":case"participant_command":case"command":const w=a.CommandResponsePayload.fromJSON(g.textBody);switch(w.command.toLowerCase()){case"participantlist":const k=a.ParticipantsListPayloadResponse.fromJSON(g.textBody),M=k.participants.map(H=>({avatar:H.avatar,displayName:H.nickname,id:H.participantId,isHost:H.ishost,isMuted:H.ismuted,isUsingTts:H.usetts,preferredLanguage:H.locale}));this.privConversationServiceConnector.participantsListReceived&&this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector,new o.ParticipantsListEventArgs(k.roomid,k.token,k.translateTo,k.profanityFilter,k.roomProfanityFilter,k.roomLocked,k.muteAll,M,v));break;case"settranslatetolanguages":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new o.ParticipantAttributeEventArgs(w.participantId,l.ConversationTranslatorCommandTypes.setTranslateToLanguages,w.value,v));break;case"setprofanityfiltering":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new o.ParticipantAttributeEventArgs(w.participantId,l.ConversationTranslatorCommandTypes.setProfanityFiltering,w.value,v));break;case"setmute":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new o.ParticipantAttributeEventArgs(w.participantId,l.ConversationTranslatorCommandTypes.setMute,w.value,v));break;case"setmuteall":this.privConversationServiceConnector.muteAllCommandReceived&&this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector,new o.MuteAllEventArgs(w.value,v));break;case"roomexpirationwarning":this.privConversationServiceConnector.conversationExpiration&&this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector,new t.ConversationExpirationEventArgs(w.value,this.privConversationRequestSession.sessionId));break;case"setusetts":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new o.ParticipantAttributeEventArgs(w.participantId,l.ConversationTranslatorCommandTypes.setUseTTS,w.value,v));break;case"setlockstate":this.privConversationServiceConnector.lockRoomCommandReceived&&this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector,new o.LockRoomEventArgs(w.value,v));break;case"changenickname":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new o.ParticipantAttributeEventArgs(w.participantId,l.ConversationTranslatorCommandTypes.changeNickname,w.value,v));break;case"joinsession":const z=a.ParticipantPayloadResponse.fromJSON(g.textBody),V={avatar:z.avatar,displayName:z.nickname,id:z.participantId,isHost:z.ishost,isMuted:z.ismuted,isUsingTts:z.usetts,preferredLanguage:z.locale};this.privConversationServiceConnector.participantJoinCommandReceived&&this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector,new o.ParticipantEventArgs(V,v));break;case"leavesession":const K={id:w.participantId};this.privConversationServiceConnector.participantLeaveCommandReceived&&this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector,new o.ParticipantEventArgs(K,v));break;case"disconnectsession":const ue={id:w.participantId};break;case"token":const we=new r.CognitiveTokenAuthentication(()=>{const H=w.token;return Promise.resolve(H)},()=>{const H=w.token;return Promise.resolve(H)});this.authentication=we,this.privConversationServiceConnector.onToken(we);break;default:break}break;case"partial":case"final":const R=a.SpeechResponsePayload.fromJSON(g.textBody),b=x==="final"?t.ResultReason.TranslatedParticipantSpeech:t.ResultReason.TranslatingParticipantSpeech,N=new t.ConversationTranslationResult(R.participantId,this.getTranslations(R.translations),R.language,R.id,b,R.recognition,void 0,void 0,g.textBody,void 0);R.isFinal?((N.text!==void 0&&N.text.length>0||R.id===this.privLastPartialUtteranceId)&&(C=!0),C&&this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new o.ConversationReceivedTranslationEventArgs(l.ConversationTranslatorMessageTypes.final,N,v))):N.text!==void 0&&(this.privLastPartialUtteranceId=R.id,this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new o.ConversationReceivedTranslationEventArgs(l.ConversationTranslatorMessageTypes.partial,N,v)));break;case"translated_message":const T=a.TextResponsePayload.fromJSON(g.textBody),A=new t.ConversationTranslationResult(T.participantId,this.getTranslations(T.translations),T.language,void 0,void 0,T.originalText,void 0,void 0,void 0,g.textBody,void 0);this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new o.ConversationReceivedTranslationEventArgs(l.ConversationTranslatorMessageTypes.instantMessage,A,v));break;default:break}}catch{}return this.receiveConversationMessageOverride()}catch{this.terminateMessageLoop=!0}return m.promise}async startMessageLoop(){if(this.isDisposed())return Promise.resolve();this.terminateMessageLoop=!1;const m=this.receiveConversationMessageOverride();try{return await m}catch(h){return this.cancelRecognition(this.privRequestSession?this.privRequestSession.sessionId:"",this.privRequestSession?this.privRequestSession.requestId:"",t.CancellationReason.Error,t.CancellationErrorCode.RuntimeError,h),null}}configConnection(){return this.isDisposed()?Promise.resolve(void 0):this.privConnectionConfigPromise!==void 0?this.privConnectionConfigPromise.then(m=>m.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection()):this.privConnectionConfigPromise,()=>(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection())):this.terminateMessageLoop?Promise.resolve(void 0):(this.privConnectionConfigPromise=this.connectImpl().then(m=>m),this.privConnectionConfigPromise)}getTranslations(m){let h;if(m!==void 0){h=new t.Translations;for(const g of m)h.set(g.lang,g.translation)}return h}};return id.ConversationServiceAdapter=u,id}var O0;function kV(){if(O0)return ks;O0=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.ConversationTranslatorRecognizer=ks.ConversationRecognizerFactory=void 0;const e=Se(),t=_e(),r=je(),n=Z(),i=EV(),o=MV();class l{static fromConfig(d,m,h){return new a(d,m,h)}}ks.ConversationRecognizerFactory=l;let a=class extends n.Recognizer{constructor(d,m,h){const g=m;r.Contracts.throwIfNull(g,"speechConfig");const v=d;r.Contracts.throwIfNull(v,"conversationImpl"),super(h,g.properties,new i.ConversationConnectionFactory),this.privConversation=v,this.privIsDisposed=!1,this.privProperties=g.properties.clone(),this.privConnection=n.Connection.fromRecognizer(this),this.privProperties.getProperty(n.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?(this.privSetTimeout=t.Timeout.setTimeout,this.privClearTimeout=t.Timeout.clearTimeout):typeof window<"u"?(this.privSetTimeout=window.setTimeout.bind(window),this.privClearTimeout=window.clearTimeout.bind(window)):(this.privSetTimeout=setTimeout,this.privClearTimeout=clearTimeout)}set connected(d){this.privConnection.connected=d}set disconnected(d){this.privConnection.disconnected=d}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get properties(){return this.privProperties}isDisposed(){return this.privIsDisposed}connect(d,m,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfNullOrWhitespace(d,"token"),this.privReco.conversationTranslatorToken=d,this.resetConversationTimeout(),this.privReco.connectAsync(m,h)}catch(g){if(h)if(g instanceof Error){const v=g;h(v.name+": "+v.message)}else h(g)}}disconnect(d,m){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privReco.disconnect().then(()=>{d&&d()},h=>{m&&m(h)})}catch(h){if(m)if(h instanceof Error){const g=h;m(g.name+": "+g.message)}else m(h);this.dispose(!0).catch(g=>{t.Events.instance.onEvent(new t.BackgroundEvent(g))})}}sendRequest(d,m,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.sendMessage(d,m,h)}catch(g){if(h)if(g instanceof Error){const v=g;h(v.name+": "+v.message)}else h(g);this.dispose(!0).catch(v=>{t.Events.instance.onEvent(new t.BackgroundEvent(v))})}}onToken(d){this.privConversation.onToken(d)}async close(){this.privIsDisposed||(this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close()),this.privConnection=void 0,await this.dispose(!0))}async dispose(d){this.privIsDisposed||d&&(this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privIsDisposed=!0,this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close(),this.privConnection=void 0),await super.dispose(d))}createRecognizerConfig(d){return new e.RecognizerConfig(d,this.privProperties)}createServiceRecognizer(d,m,h,g){const v=h;return new o.ConversationServiceAdapter(d,m,v,g,this)}sendMessage(d,m,h){const g=this.privReco;((x,C,w)=>{x!==void 0?x.then(()=>{try{C&&C()}catch(R){w&&w(`'Unhandled error on promise callback: ${R}'`)}},R=>{try{w&&w(R)}catch{}}):w&&w("Null promise")})(g.sendMessageAsync(d),m,h),this.resetConversationTimeout()}resetConversationTimeout(){this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privTimeoutToken=this.privSetTimeout(()=>{this.sendRequest(this.privConversation.getKeepAlive())},6e4)}};return ks.ConversationTranslatorRecognizer=a,ks}var ad={},D0;function OV(){if(D0)return ad;D0=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.TranscriberRecognizer=void 0;const e=_e(),t=je(),r=Z(),n=Se(),i=Lr();let o=class extends r.Recognizer{constructor(a,u){const d=a;t.Contracts.throwIfNull(d,"speechTranslationConfig");const m=u;t.Contracts.throwIfNull(m,"audioConfigImpl"),t.Contracts.throwIfNullOrWhitespace(d.speechRecognitionLanguage,r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage]),super(u,d.properties,new n.TranscriberConnectionFactory),this.privDisposedRecognizer=!1,this.isMeetingRecognizer=!1}get speechRecognitionLanguage(){return t.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){t.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,a)}set conversation(a){t.Contracts.throwIfNullOrUndefined(a,"Conversation"),this.isMeetingRecognizer=!1,this.privConversation=a}getConversationInfo(){return t.Contracts.throwIfNullOrUndefined(this.privConversation,"Conversation"),this.privConversation.conversationInfo}set meeting(a){t.Contracts.throwIfNullOrUndefined(a,"Meeting"),this.isMeetingRecognizer=!0,this.privMeeting=a}getMeetingInfo(){return t.Contracts.throwIfNullOrUndefined(this.privMeeting,"Meeting"),this.privMeeting.meetingInfo}IsMeetingRecognizer(){return this.isMeetingRecognizer}startContinuousRecognitionAsync(a,u){(0,e.marshalPromiseToCallbacks)(this.startContinuousRecognitionAsyncImpl(i.RecognitionMode.Conversation),a,u)}stopContinuousRecognitionAsync(a,u){(0,e.marshalPromiseToCallbacks)(this.stopContinuousRecognitionAsyncImpl(),a,u)}async close(){this.privDisposedRecognizer||await this.dispose(!0)}async pushConversationEvent(a,u){const d=this.privReco;t.Contracts.throwIfNullOrUndefined(d,"serviceRecognizer"),await d.sendSpeechEventAsync(a,u)}async pushMeetingEvent(a,u){const d=this.privReco;t.Contracts.throwIfNullOrUndefined(d,"serviceRecognizer"),await d.sendMeetingSpeechEventAsync(a,u)}async enforceAudioGating(){const d=(await this.audioConfig.format).channels;if(d===1){if(this.properties.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()!=="true")throw new Error("Single channel audio configuration for MeetingTranscriber is currently under private preview, please contact diarizationrequest@microsoft.com for more details")}else if(d!==8)throw new Error(`Unsupported audio configuration: Detected ${d}-channel audio`)}connectMeetingCallbacks(a){this.isMeetingRecognizer=!0,this.canceled=(u,d)=>{a.canceled&&a.canceled(a,d)},this.recognizing=(u,d)=>{a.transcribing&&a.transcribing(a,d)},this.recognized=(u,d)=>{a.transcribed&&a.transcribed(a,d)},this.sessionStarted=(u,d)=>{a.sessionStarted&&a.sessionStarted(a,d)},this.sessionStopped=(u,d)=>{a.sessionStopped&&a.sessionStopped(a,d)}}disconnectCallbacks(){this.canceled=void 0,this.recognizing=void 0,this.recognized=void 0,this.sessionStarted=void 0,this.sessionStopped=void 0}async dispose(a){this.privDisposedRecognizer||(a&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(a))}createRecognizerConfig(a){return new n.RecognizerConfig(a,this.properties)}createServiceRecognizer(a,u,d,m){const h=d;return new n.TranscriptionServiceRecognizer(a,u,h,m,this)}};return ad.TranscriberRecognizer=o,ad}var B0;function DV(){return B0||(B0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InternalParticipants=e.ConversationTranslatorMessageTypes=e.ConversationTranslatorCommandTypes=e.ParticipantsListEventArgs=e.ParticipantEventArgs=e.ParticipantAttributeEventArgs=e.MuteAllEventArgs=e.LockRoomEventArgs=e.ConversationReceivedTranslationEventArgs=e.TranscriberRecognizer=e.ConversationRecognizerFactory=e.ConversationConnectionConfig=e.ConversationManager=void 0;var t=bV();Object.defineProperty(e,"ConversationManager",{enumerable:!0,get:function(){return t.ConversationManager}});var r=MS();Object.defineProperty(e,"ConversationConnectionConfig",{enumerable:!0,get:function(){return r.ConversationConnectionConfig}});var n=kV();Object.defineProperty(e,"ConversationRecognizerFactory",{enumerable:!0,get:function(){return n.ConversationRecognizerFactory}});var i=OV();Object.defineProperty(e,"TranscriberRecognizer",{enumerable:!0,get:function(){return i.TranscriberRecognizer}});var o=yk();Object.defineProperty(e,"ConversationReceivedTranslationEventArgs",{enumerable:!0,get:function(){return o.ConversationReceivedTranslationEventArgs}}),Object.defineProperty(e,"LockRoomEventArgs",{enumerable:!0,get:function(){return o.LockRoomEventArgs}}),Object.defineProperty(e,"MuteAllEventArgs",{enumerable:!0,get:function(){return o.MuteAllEventArgs}}),Object.defineProperty(e,"ParticipantAttributeEventArgs",{enumerable:!0,get:function(){return o.ParticipantAttributeEventArgs}}),Object.defineProperty(e,"ParticipantEventArgs",{enumerable:!0,get:function(){return o.ParticipantEventArgs}}),Object.defineProperty(e,"ParticipantsListEventArgs",{enumerable:!0,get:function(){return o.ParticipantsListEventArgs}});var l=Sk();Object.defineProperty(e,"ConversationTranslatorCommandTypes",{enumerable:!0,get:function(){return l.ConversationTranslatorCommandTypes}}),Object.defineProperty(e,"ConversationTranslatorMessageTypes",{enumerable:!0,get:function(){return l.ConversationTranslatorMessageTypes}}),Object.defineProperty(e,"InternalParticipants",{enumerable:!0,get:function(){return l.InternalParticipants}})})(Lv)),Lv}var qv={},L0;function xk(){return L0||(L0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SynthesisAudioMetadata=e.MetadataType=void 0,(function(r){r.WordBoundary="WordBoundary",r.Bookmark="Bookmark",r.Viseme="Viseme",r.SentenceBoundary="SentenceBoundary",r.SessionEnd="SessionEnd",r.AvatarSignal="TalkingAvatarSignal"})(e.MetadataType||(e.MetadataType={}));class t{constructor(n){this.privSynthesisAudioMetadata=JSON.parse(n)}static fromJSON(n){return new t(n)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}e.SynthesisAudioMetadata=t})(qv)),qv}var cd={},Xr={},j0;function BV(){if(j0)return Xr;j0=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.SynthesisStartedEvent=Xr.ConnectingToSynthesisServiceEvent=Xr.SynthesisTriggeredEvent=Xr.SpeechSynthesisEvent=void 0;const e=_e();class t extends e.PlatformEvent{constructor(l,a,u=e.EventType.Info){super(l,u),this.privRequestId=a}get requestId(){return this.privRequestId}}Xr.SpeechSynthesisEvent=t;class r extends t{constructor(l,a,u){super("SynthesisTriggeredEvent",l),this.privSessionAudioDestinationId=a,this.privTurnAudioDestinationId=u}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}}Xr.SynthesisTriggeredEvent=r;class n extends t{constructor(l,a){super("ConnectingToSynthesisServiceEvent",l),this.privAuthFetchEventId=a}get authFetchEventId(){return this.privAuthFetchEventId}}Xr.ConnectingToSynthesisServiceEvent=n;class i extends t{constructor(l,a){super("SynthesisStartedEvent",l),this.privAuthFetchEventId=a}get authFetchEventId(){return this.privAuthFetchEventId}}return Xr.SynthesisStartedEvent=i,Xr}var q0;function LV(){if(q0)return cd;q0=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.SynthesisTurn=void 0;const e=_e(),t=Ea(),r=Z(),n=xk(),i=BV();let o=class Ny{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=(0,e.createNoDashGuid)(),this.privTurnDeferral=new e.Deferred,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(a){this.privStreamId=a}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(a){this.privAudioOutputFormat=a}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get currentSentenceOffset(){return this.privSentenceOffset}get bytesReceived(){return this.privBytesReceived}get audioDuration(){return this.privAudioDuration}get extraProperties(){if(this.privWebRTCSDP){const a=new r.PropertyCollection;return a.setProperty(r.PropertyId.TalkingAvatarService_WebRTC_SDP,this.privWebRTCSDP),a}}async getAllReceivedAudio(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(await this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null}async getAllReceivedAudioWithHeader(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const a=await this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=this.audioOutputFormat.addHeader(a),this.privReceivedAudioWithHeader}else return this.getAllReceivedAudio()}startNewSynthesis(a,u,d,m){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=a,this.privRawText=u,this.privIsSSML=d,this.privAudioOutputStream=new t.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",this.privWebRTCSDP="",m!==void 0&&(this.privTurnAudioDestination=m,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new i.SynthesisTriggeredEvent(this.requestId,void 0,m===void 0?void 0:m.id()))}onPreConnectionStart(a){this.privAuthFetchEventId=a,this.onEvent(new i.ConnectingToSynthesisServiceEvent(this.privRequestId,this.privAuthFetchEventId))}onAuthCompleted(a){a&&this.onComplete()}onConnectionEstablishCompleted(a){if(a===200){this.onEvent(new i.SynthesisStartedEvent(this.requestId,this.privAuthFetchEventId)),this.privBytesReceived=0;return}else a===403&&this.onComplete()}onServiceResponseMessage(a){const u=JSON.parse(a);this.streamId=u.audio.streamId}onServiceTurnEndResponse(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}onServiceTurnStartResponse(a){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new e.Deferred;const u=JSON.parse(a);u.webrtc&&(this.privWebRTCSDP=u.webrtc.connectionString)}onAudioChunkReceived(a){this.isSynthesizing&&(this.privAudioOutputStream.write(a),this.privBytesReceived+=a.byteLength,this.privTurnAudioDestination!==void 0&&this.privTurnAudioDestination.write(a))}onTextBoundaryEvent(a){this.updateTextOffset(a.Data.text.Text,a.Type)}onVisemeMetadataReceived(a){a.Data.AnimationChunk!==void 0&&(this.privPartialVisemeAnimation+=a.Data.AnimationChunk)}onSessionEnd(a){this.privAudioDuration=a.Data.Offset}async constructSynthesisResult(){const a=await this.getAllReceivedAudioWithHeader();return new r.SpeechSynthesisResult(this.requestId,r.ResultReason.SynthesizingAudioCompleted,a,void 0,this.extraProperties,this.audioDuration)}dispose(){this.privIsDisposed||(this.privIsDisposed=!0)}onStopSynthesizing(){this.onComplete()}getAndClearVisemeAnimation(){const a=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",a}onEvent(a){e.Events.instance.onEvent(a)}static isXmlTag(a){return a.length>=2&&a[0]==="<"&&a[a.length-1]===">"}updateTextOffset(a,u){u===n.MetadataType.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(a,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+a.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!Ny.isXmlTag(a)&&this.updateTextOffset(a,u))):(this.privSentenceOffset=this.privRawText.indexOf(a,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+a.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!Ny.isXmlTag(a)&&this.updateTextOffset(a,u)))}onComplete(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,this.privTurnAudioDestination!==void 0&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}async readAllAudioFromStream(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{await this.privAudioOutputStream.read(this.privReceivedAudio)}catch{this.privReceivedAudio=new ArrayBuffer(0)}}}withinXmlTag(a){return this.privRawText.indexOf("<",a+1)>this.privRawText.indexOf(">",a+1)}};return cd.SynthesisTurn=o,cd}var ld={},F0;function jV(){if(F0)return ld;F0=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.SynthesisAdapterBase=void 0;const e=_e(),t=Z(),r=Se(),n=Ta();let i=class{constructor(l,a,u,d){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!l)throw new e.ArgumentNullError("authentication");if(!a)throw new e.ArgumentNullError("connectionFactory");if(!u)throw new e.ArgumentNullError("synthesizerConfig");this.privAuthentication=l,this.privConnectionFactory=a,this.privSynthesizerConfig=u,this.privIsDisposed=!1,this.privSessionAudioDestination=d,this.privSynthesisTurn=new r.SynthesisTurn,this.privConnectionEvents=new e.EventSource,this.privServiceEvents=new e.EventSource,this.privSynthesisContext=new r.SynthesisContext,this.privAgentConfig=new r.AgentConfig,this.connectionEvents.attach(m=>{if(m.name==="ConnectionClosedEvent"){const h=m;h.statusCode!==1e3&&this.cancelSynthesisLocal(t.CancellationReason.Error,h.statusCode===1007?t.CancellationErrorCode.BadRequestParameters:t.CancellationErrorCode.ConnectionFailure,`${h.reason} websocket error code: ${h.statusCode}`)}})}get synthesizerConfig(){return this.privSynthesizerConfig}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(l){this.privActivityTemplate=l}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(l){this.privAudioOutputFormat=l,this.privSynthesisTurn.audioOutputFormat=l,this.privSessionAudioDestination!==void 0&&(this.privSessionAudioDestination.format=l),this.synthesisContext!==void 0&&(this.synthesisContext.audioOutputFormat=l)}isDisposed(){return this.privIsDisposed}async dispose(l){this.privIsDisposed=!0,this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.close(),this.privConnectionConfigurationPromise!==void 0&&await(await this.privConnectionConfigurationPromise).dispose(l)}async connect(){await this.connectImpl()}async sendNetworkMessage(l,a){const u=typeof a=="string"?e.MessageType.Text:e.MessageType.Binary,d=typeof a=="string"?"application/json":"";return(await this.fetchConnection()).send(new n.SpeechConnectionMessage(u,l,this.privSynthesisTurn.requestId,d,a))}async Speak(l,a,u,d,m,h){let g;if(a?g=l:g=this.privSynthesizer.buildSsml(l),this.speakOverride!==void 0)return this.speakOverride(g,u,d,m);this.privSuccessCallback=d,this.privErrorCallback=m,this.privSynthesisTurn.startNewSynthesis(u,l,a,h);try{await this.connectImpl();const v=await this.fetchConnection();await this.sendSynthesisContext(v),await this.sendSsmlMessage(v,g,u),this.onSynthesisStarted(u),this.receiveMessage()}catch(v){return this.cancelSynthesisLocal(t.CancellationReason.Error,t.CancellationErrorCode.ConnectionFailure,v),Promise.reject(v)}}async stopSpeaking(){return await this.connectImpl(),(await this.fetchConnection()).send(new n.SpeechConnectionMessage(e.MessageType.Text,"synthesis.control",this.privSynthesisTurn.requestId,"application/json",JSON.stringify({action:"stop"})))}cancelSynthesis(l,a,u,d){const m=new t.PropertyCollection;m.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[u]);const h=new t.SpeechSynthesisResult(l,t.ResultReason.Canceled,void 0,d,m);if(this.onSynthesisCancelled(h),this.privSuccessCallback)try{this.privSuccessCallback(h)}catch{}}cancelSynthesisLocal(l,a,u){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,l,a,u))}processTypeSpecificMessages(l){return!0}async receiveMessage(){try{const a=await(await this.fetchConnection()).read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!a)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;const u=n.SpeechConnectionMessage.fromConnectionMessage(a);if(u.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(u.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse(u.textBody);break;case"response":this.privSynthesisTurn.onServiceResponseMessage(u.textBody);break;case"audio":this.privSynthesisTurn.streamId.toLowerCase()===u.streamId.toLowerCase()&&u.binaryBody&&(this.privSynthesisTurn.onAudioChunkReceived(u.binaryBody),this.onSynthesizing(u.binaryBody),this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.write(u.binaryBody));break;case"audio.metadata":const d=r.SynthesisAudioMetadata.fromJSON(u.textBody).Metadata;for(const h of d)switch(h.Type){case r.MetadataType.WordBoundary:case r.MetadataType.SentenceBoundary:this.privSynthesisTurn.onTextBoundaryEvent(h);const g=new t.SpeechSynthesisWordBoundaryEventArgs(h.Data.Offset,h.Data.Duration,h.Data.text.Text,h.Data.text.Length,h.Type===r.MetadataType.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,h.Data.text.BoundaryType);this.onWordBoundary(g);break;case r.MetadataType.Bookmark:const v=new t.SpeechSynthesisBookmarkEventArgs(h.Data.Offset,h.Data.Bookmark);this.onBookmarkReached(v);break;case r.MetadataType.Viseme:if(this.privSynthesisTurn.onVisemeMetadataReceived(h),h.Data.IsLastAnimation){const x=new t.SpeechSynthesisVisemeEventArgs(h.Data.Offset,h.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation());this.onVisemeReceived(x)}break;case r.MetadataType.AvatarSignal:this.onAvatarEvent(h);break;case r.MetadataType.SessionEnd:this.privSynthesisTurn.onSessionEnd(h);break}break;case"turn.end":this.privSynthesisTurn.onServiceTurnEndResponse();let m;try{m=await this.privSynthesisTurn.constructSynthesisResult(),this.privSuccessCallback&&this.privSuccessCallback(m)}catch(h){this.privErrorCallback&&this.privErrorCallback(h)}this.onSynthesisCompleted(m);break;default:this.processTypeSpecificMessages(u)||this.privServiceEvents&&this.serviceEvents.onEvent(new e.ServiceEvent(u.path.toLowerCase(),u.textBody))}return this.receiveMessage()}catch{}}sendSynthesisContext(l){this.setSynthesisContextSynthesisSection();const a=this.synthesisContext.toJSON();if(a)return l.send(new n.SpeechConnectionMessage(e.MessageType.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",a))}setSpeechConfigSynthesisSection(){}connectImpl(l=!1){if(this.privConnectionPromise!=null)return this.privConnectionPromise.then(u=>u.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()));this.privAuthFetchEventId=(0,e.createNoDashGuid)(),this.privConnectionId=(0,e.createNoDashGuid)(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);const a=l?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=a.then(async u=>{this.privSynthesisTurn.onAuthCompleted(!1);const d=await this.privConnectionFactory.create(this.privSynthesizerConfig,u,this.privConnectionId);d.events.attach(h=>{this.connectionEvents.onEvent(h)});const m=await d.open();return m.statusCode===200?(this.privSynthesisTurn.onConnectionEstablishCompleted(m.statusCode),Promise.resolve(d)):m.statusCode===403&&!l?this.connectImpl(!0):(this.privSynthesisTurn.onConnectionEstablishCompleted(m.statusCode),Promise.reject(`Unable to contact server. StatusCode: ${m.statusCode},
                    ${this.privSynthesizerConfig.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Url)} Reason: ${m.reason}`))},u=>{throw this.privSynthesisTurn.onAuthCompleted(!0),new Error(u)}),this.privConnectionPromise.catch(()=>{}),this.privConnectionPromise}sendSpeechServiceConfig(l,a){if(a)return l.send(new n.SpeechConnectionMessage(e.MessageType.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",a))}sendSsmlMessage(l,a,u){return l.send(new n.SpeechConnectionMessage(e.MessageType.Text,"ssml",u,"application/ssml+xml",a))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(l=>l.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async configureConnection(){const l=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(l):(this.setSpeechConfigSynthesisSection(),await this.sendSpeechServiceConfig(l,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),l)}onAvatarEvent(l){}onSynthesisStarted(l){}onSynthesizing(l){}onSynthesisCancelled(l){}onSynthesisCompleted(l){}onWordBoundary(l){}onVisemeReceived(l){}onBookmarkReached(l){}};return ld.SynthesisAdapterBase=i,i.telemetryDataEnabled=!0,ld}var ud={},H0;function qV(){if(H0)return ud;H0=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.AvatarSynthesisAdapter=void 0;const e=Z(),t=Se();let r=class extends t.SynthesisAdapterBase{constructor(i,o,l,a,u){super(i,o,l,void 0),this.privAvatarSynthesizer=a,this.privSynthesizer=a,this.privAvatarConfig=u}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(void 0)}setSpeechConfigSynthesisSection(){this.privSynthesizerConfig.synthesisVideoSection={format:{bitrate:this.privAvatarConfig.videoFormat?.bitrate,codec:this.privAvatarConfig.videoFormat?.codec,crop:{bottomRight:{x:this.privAvatarConfig.videoFormat?.cropRange?.bottomRight?.x,y:this.privAvatarConfig.videoFormat?.cropRange?.bottomRight?.y},topLeft:{x:this.privAvatarConfig.videoFormat?.cropRange?.topLeft?.x,y:this.privAvatarConfig.videoFormat?.cropRange?.topLeft?.y}},resolution:{height:this.privAvatarConfig.videoFormat?.height,width:this.privAvatarConfig.videoFormat?.width}},protocol:{name:"WebRTC",webrtcConfig:{clientDescription:btoa(this.privSynthesizerConfig.parameters.getProperty(e.PropertyId.TalkingAvatarService_WebRTC_SDP)),iceServers:this.privAvatarConfig.remoteIceServers??this.privAvatarSynthesizer.iceServers}},talkingAvatar:{background:{color:this.privAvatarConfig.backgroundColor,image:{url:this.privAvatarConfig.backgroundImage?.toString()}},character:this.privAvatarConfig.character,customized:this.privAvatarConfig.customized,style:this.privAvatarConfig.style,useBuiltInVoice:this.privAvatarConfig.useBuiltInVoice}}}onAvatarEvent(i){if(this.privAvatarSynthesizer.avatarEventReceived){const o=new e.AvatarEventArgs(i.Data.Offset,i.Data.Name);try{this.privAvatarSynthesizer.avatarEventReceived(this.privAvatarSynthesizer,o)}catch{}}}};return ud.AvatarSynthesisAdapter=r,ud}var dd={},U0;function FV(){if(U0)return dd;U0=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.SpeechSynthesisAdapter=void 0;const e=Z(),t=Se();let r=class extends t.SynthesisAdapterBase{constructor(i,o,l,a,u){super(i,o,l,u),this.privSpeechSynthesizer=a,this.privSynthesizer=a}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(this.privSpeechSynthesizer)}onSynthesisStarted(i){const o=new e.SpeechSynthesisEventArgs(new e.SpeechSynthesisResult(i,e.ResultReason.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,o)}onSynthesizing(i){if(this.privSpeechSynthesizer.synthesizing)try{const o=this.privSynthesisTurn.audioOutputFormat.addHeader(i),l=new e.SpeechSynthesisEventArgs(new e.SpeechSynthesisResult(this.privSynthesisTurn.requestId,e.ResultReason.SynthesizingAudio,o));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,l)}catch{}}onSynthesisCancelled(i){if(this.privSpeechSynthesizer.SynthesisCanceled){const o=new e.SpeechSynthesisEventArgs(i);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,o)}catch{}}}onSynthesisCompleted(i){if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new e.SpeechSynthesisEventArgs(i))}catch{}}onWordBoundary(i){if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,i)}catch{}}onVisemeReceived(i){if(this.privSpeechSynthesizer.visemeReceived)try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,i)}catch{}}onBookmarkReached(i){if(this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,i)}catch{}}};return dd.SpeechSynthesisAdapter=r,dd}var pd={},$0;function HV(){if($0)return pd;$0=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.SynthesisRestAdapter=void 0;const e=Wt(),t=Z(),r=sn(),n=ar();let i=class{constructor(l,a){let u=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!u){const m=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,"westus"),h=r.ConnectionFactoryBase.getHostSuffix(m);u=l.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,`https://${m}.tts.speech${h}`)}this.privUri=`${u}/cognitiveservices/voices/list`;const d=e.RestConfigBase.requestOptions;this.privRestAdapter=new e.RestMessageAdapter(d),this.privAuthentication=a}getVoicesList(l){return this.privRestAdapter.setHeaders(n.HeaderNames.ConnectionId,l),this.privAuthentication.fetch(l).then(a=>(this.privRestAdapter.setHeaders(a.headerName,a.token),this.privRestAdapter.request(e.RestRequestType.Get,this.privUri)))}};return pd.SynthesisRestAdapter=i,pd}var Fv={},W0;function UV(){return W0||(W0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SynthesizerConfig=e.SynthesisServiceType=void 0;const t=Se();var r;(function(i){i[i.Standard=0]="Standard",i[i.Custom=1]="Custom"})(r=e.SynthesisServiceType||(e.SynthesisServiceType={}));class n{constructor(o,l){this.privSynthesisServiceType=r.Standard,this.avatarEnabled=!1,this.privSpeechServiceConfig=o||new t.SpeechServiceConfig(new t.Context(null)),this.privParameters=l}get parameters(){return this.privParameters}get synthesisServiceType(){return this.privSynthesisServiceType}set synthesisServiceType(o){this.privSynthesisServiceType=o}set synthesisVideoSection(o){this.privSpeechServiceConfig.Context.synthesis={video:o}}get SpeechServiceConfig(){return this.privSpeechServiceConfig}setContextFromJson(o){const l=JSON.parse(o);l.system&&(this.privSpeechServiceConfig.Context.system=l.system),l.os&&(this.privSpeechServiceConfig.Context.os=l.os),l.audio&&(this.privSpeechServiceConfig.Context.audio=l.audio),l.synthesis&&(this.privSpeechServiceConfig.Context.synthesis=l.synthesis)}}e.SynthesizerConfig=n})(Fv)),Fv}var md={},V0;function $V(){if(V0)return md;V0=1,Object.defineProperty(md,"__esModule",{value:!0}),md.SynthesisContext=void 0;const e=Z();let t=class{constructor(){this.privContext={}}setSection(n,i){this.privContext[n]=i}set audioOutputFormat(n){this.privAudioOutputFormat=n}toJSON(){return JSON.stringify(this.privContext)}setSynthesisSection(n){const i=this.buildSynthesisContext(n);this.setSection("synthesis",i)}buildSynthesisContext(n){return{audio:{metadataOptions:{bookmarkEnabled:!!n?.bookmarkReached,punctuationBoundaryEnabled:n?.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestPunctuationBoundary,!!n?.wordBoundary),sentenceBoundaryEnabled:n?.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!!n?.visemeReceived,wordBoundaryEnabled:n?.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestWordBoundary,!!n?.wordBoundary)},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:n?.autoDetectSourceLanguage}}}};return md.SynthesisContext=t,md}var hd={},K0;function WV(){if(K0)return hd;K0=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.SpeakerRecognitionConfig=void 0;const e=Se();let t=class{constructor(n,i){this.privContext=n||new e.Context(null),this.privParameters=i}get parameters(){return this.privParameters}get Context(){return this.privContext}};return hd.SpeakerRecognitionConfig=t,hd}var fd={},G0;function VV(){if(G0)return fd;G0=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.SpeakerServiceRecognizer=void 0;const e=Wt(),t=_e(),r=Z(),n=Se(),i=Ta();let o=class extends n.ServiceRecognizerBase{constructor(a,u,d,m,h){super(a,u,d,m,h),this.privSpeakerRecognizer=h,this.privSpeakerAudioSource=d,this.recognizeSpeaker=g=>this.recognizeSpeakerOnce(g),this.sendPrePayloadJSONOverride=()=>this.noOp()}processTypeSpecificMessages(a){let u=!1;const d=new r.PropertyCollection;switch(a.messageType===t.MessageType.Text&&d.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,a.textBody),a.path.toLowerCase()){case"speaker.response":const h=JSON.parse(a.textBody);let g;h.status.statusCode.toLowerCase()!=="success"?g=new r.SpeakerRecognitionResult(h,r.ResultReason.Canceled,r.CancellationErrorCode.ServiceError,h.status.reason):g=new r.SpeakerRecognitionResult(h,r.ResultReason.RecognizedSpeaker),this.privResultDeferral&&this.privResultDeferral.resolve(g),u=!0;break}const m=new t.Deferred;return m.resolve(u),m.promise}cancelRecognition(a,u,d,m,h){if(new r.PropertyCollection().setProperty(n.CancellationErrorCodePropertyName,r.CancellationErrorCode[m]),this.privResultDeferral){const v=new r.SpeakerRecognitionResult({scenario:this.privSpeakerModel.scenario,status:{statusCode:h,reason:h}},r.ResultReason.Canceled,m,h);try{this.privResultDeferral.resolve(v)}catch(x){this.privResultDeferral.reject(x)}}}async recognizeSpeakerOnce(a){this.privSpeakerModel=a,this.voiceProfileType=a.scenario,this.privResultDeferral||(this.privResultDeferral=new t.Deferred),this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const u=this.connectImpl(),d=this.sendPreAudioMessages(this.extractSpeakerContext(a)),m=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),h=await this.privSpeakerAudioSource.format,g=await this.privSpeakerAudioSource.deviceInfo,v=new e.ReplayableAudioNode(m,h.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(v,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:g};try{await u,await d}catch(w){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,w)}const x=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,x),this.receiveMessage(),this.sendAudio(v).then(()=>{},w=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,w)}),this.privResultDeferral.promise}async sendPreAudioMessages(a){const u=await this.fetchConnection();await this.sendSpeakerRecognition(u,a)}async sendSpeakerRecognition(a,u){const d=JSON.stringify(u);return a.send(new i.SpeechConnectionMessage(t.MessageType.Text,"speaker.context",this.privRequestSession.requestId,"application/json; charset=utf-8",d))}extractSpeakerContext(a){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:a.profileIds,scenario:a.scenario}}};return fd.SpeakerServiceRecognizer=o,fd}var gd={},J0;function KV(){if(J0)return gd;J0=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.VoiceServiceRecognizer=void 0;const e=Wt(),t=_e(),r=Z(),n=Se(),i=Ta();let o=class extends n.ServiceRecognizerBase{constructor(a,u,d,m,h){super(a,u,d,m,h),this.privDeferralMap=new t.DeferralMap,this.privSpeakerAudioSource=d,this.sendPrePayloadJSONOverride=()=>this.noOp()}set SpeakerAudioSource(a){this.privSpeakerAudioSource=a}processTypeSpecificMessages(a){let u=!1;const d=new r.PropertyCollection;switch(a.messageType===t.MessageType.Text&&d.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,a.textBody),a.path.toLowerCase()){case"speaker.profiles":const h=JSON.parse(a.textBody);switch(h.operation.toLowerCase()){case"create":this.handleCreateResponse(h,a.requestId);break;case"delete":case"reset":this.handleResultResponse(h,a.requestId);break;case"fetch":const C=JSON.parse(a.textBody);this.handleFetchResponse(C,a.requestId);break}u=!0;break;case"speaker.phrases":const g=JSON.parse(a.textBody);this.handlePhrasesResponse(g,a.requestId),u=!0;break;case"speaker.profile.enrollment":const v=JSON.parse(a.textBody),x=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(v.enrollment?v.enrollment.enrollmentStatus:v.status.statusCode),v.enrollment?JSON.stringify(v.enrollment):void 0,v.status.reason);this.privDeferralMap.getId(a.requestId)&&this.privDeferralMap.complete(a.requestId,x),this.privRequestSession.onSpeechEnded(),u=!0;break}const m=new t.Deferred;return m.resolve(u),m.promise}cancelRecognition(a,u,d,m,h){new r.PropertyCollection().setProperty(n.CancellationErrorCodePropertyName,r.CancellationErrorCode[m]);const v=new r.VoiceProfileEnrollmentResult(r.ResultReason.Canceled,h,h);this.privDeferralMap.getId(u)&&this.privDeferralMap.complete(u,v)}async createProfile(a,u){this.voiceProfileType=a.toString();const d=this.connectImpl();try{const m=new t.Deferred;return await d,await this.sendCreateProfile(m,a,u),this.receiveMessage(),m.promise}catch(m){throw m}}async resetProfile(a){return this.voiceProfileType=a.profileType.toString(),this.sendCommonRequest("reset",a.profileType,a)}async deleteProfile(a){return this.voiceProfileType=a.profileType.toString(),this.sendCommonRequest("delete",a.profileType,a)}async retrieveEnrollmentResult(a){return this.voiceProfileType=a.profileType.toString(),this.privExpectedProfileId=a.profileId,this.sendCommonRequest("fetch",a.profileType,a)}async getAllProfiles(a){return this.voiceProfileType=a.toString(),this.sendCommonRequest("fetch",a)}async getActivationPhrases(a,u){this.voiceProfileType=a.toString();const d=this.connectImpl();try{const m=new t.Deferred;return await d,await this.sendPhrasesRequest(m,a,u),this.receiveMessage(),m.promise}catch(m){throw m}}async enrollProfile(a){this.voiceProfileType=a.profileType.toString();const u=new t.Deferred;this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const d=this.connectImpl(),m=this.sendPreAudioMessages(a,u),h=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),g=await this.privSpeakerAudioSource.format,v=await this.privSpeakerAudioSource.deviceInfo,x=new e.ReplayableAudioNode(h,g.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(x,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:v};try{await d,await m}catch(R){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,R)}const C=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,C),this.receiveMessage(),this.sendAudio(x).then(()=>{},R=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,R)}),u.promise}async sendPreAudioMessages(a,u){const d=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,u),await this.sendBaseRequest(d,"enroll",this.scenarioFrom(a.profileType),a)}async sendPhrasesRequest(a,u,d){const m=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,a);const h=this.scenarioFrom(u),g={locale:d,scenario:h};return m.send(new i.SpeechConnectionMessage(t.MessageType.Text,"speaker.profile.phrases",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(g)))}async sendCreateProfile(a,u,d){const m=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,a);const h=u===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":u===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification",g={locale:d,number:"1",scenario:h};return m.send(new i.SpeechConnectionMessage(t.MessageType.Text,"speaker.profile.create",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(g)))}async sendCommonRequest(a,u,d=void 0){const m=this.connectImpl();try{const h=new t.Deferred;this.privRequestSession.onSpeechContext(),await m;const g=await this.fetchConnection();return this.privDeferralMap.add(this.privRequestSession.requestId,h),await this.sendBaseRequest(g,a,this.scenarioFrom(u),d),this.receiveMessage(),h.promise}catch(h){throw h}}async sendBaseRequest(a,u,d,m){const h={scenario:d};return m?h.profileIds=[m.profileId]:h.maxPageSize=-1,a.send(new i.SpeechConnectionMessage(t.MessageType.Text,`speaker.profile.${u}`,this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(h)))}extractSpeakerContext(a){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:a.profileIds,scenario:a.scenario}}handlePhrasesResponse(a,u){if(this.privDeferralMap.getId(u))if(a.status.statusCode.toLowerCase()!=="success"){const d=r.ResultReason.Canceled,m=new r.VoiceProfilePhraseResult(d,a.status.statusCode,a.passPhraseType,[]);this.privDeferralMap.complete(u,m)}else if(a.phrases&&a.phrases.length>0){const d=r.ResultReason.EnrollingVoiceProfile,m=new r.VoiceProfilePhraseResult(d,a.status.statusCode,a.passPhraseType,a.phrases);this.privDeferralMap.complete(u,m)}else throw new Error("Voice Profile get activation phrases failed, no phrases received");else throw new Error(`Voice Profile get activation phrases request for requestID ${u} not found`)}handleCreateResponse(a,u){if(a.profiles&&a.profiles.length>0)if(this.privDeferralMap.getId(u)){const d=a.profiles.map(m=>m.profileId);this.privDeferralMap.complete(u,d)}else throw new Error(`Voice Profile create request for requestID ${u} not found`);else throw new Error("Voice Profile create failed, no profile id received")}handleResultResponse(a,u){if(this.privDeferralMap.getId(u)){const d=a.operation.toLowerCase()==="delete"?r.ResultReason.DeletedVoiceProfile:r.ResultReason.ResetVoiceProfile,m=a.status.statusCode.toLowerCase()==="success"?d:r.ResultReason.Canceled,h=new r.VoiceProfileResult(m,`statusCode: ${a.status.statusCode}, errorDetails: ${a.status.reason}`);this.privDeferralMap.complete(u,h)}else throw new Error(`Voice Profile create request for requestID ${u} not found`)}handleFetchResponse(a,u){if(this.privDeferralMap.getId(u)&&a.profiles[0]){if(this.privExpectedProfileId&&a.profiles.length===1&&a.profiles[0].profileId===this.privExpectedProfileId){this.privExpectedProfileId=void 0;const d=a.profiles[0],m=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(d.enrollmentStatus),JSON.stringify(d),a.status.reason);this.privDeferralMap.complete(u,m)}else if(a.profiles.length>0){const d=a.profiles,m=[];for(const h of d)m.push(new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(h.enrollmentStatus),JSON.stringify(h),a.status.reason));this.privDeferralMap.complete(u,m)}}else throw new Error(`Voice Profile fetch request for requestID ${u} not found`)}enrollmentReasonFrom(a){switch(a.toLowerCase()){case"enrolled":return r.ResultReason.EnrolledVoiceProfile;case"invalidlocale":case"invalidphrase":case"invalidaudioformat":case"invalidscenario":case"invalidprofilecount":case"invalidoperation":case"audiotooshort":case"audiotoolong":case"toomanyenrollments":case"storageconflict":case"profilenotfound":case"incompatibleprofiles":case"incompleteenrollment":return r.ResultReason.Canceled;default:return r.ResultReason.EnrollingVoiceProfile}}scenarioFrom(a){return a===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":a===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"}};return gd.VoiceServiceRecognizer=o,gd}var Hv={},Q0;function GV(){return Q0||(Q0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.type=e.connectivity=e.Device=e.OS=e.System=e.Context=e.SpeechServiceConfig=void 0;class t{constructor(a){this.context=a}serialize(){return JSON.stringify(this,(a,u)=>{if(u&&typeof u=="object"&&!Array.isArray(u)){const d={};for(const m in u)Object.hasOwnProperty.call(u,m)&&(d[m&&m.charAt(0).toLowerCase()+m.substring(1)]=u[m]);return d}return u})}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(a){this.recognition=a.toLowerCase()}}e.SpeechServiceConfig=t;class r{constructor(a){this.system=new n,this.os=a}}e.Context=r;class n{constructor(){const a="1.45.0";this.name="SpeechSDK",this.version=a,this.build="JavaScript",this.lang="JavaScript"}}e.System=n;class i{constructor(a,u,d){this.platform=a,this.name=u,this.version=d}}e.OS=i;class o{constructor(a,u,d){this.manufacturer=a,this.model=u,this.version=d}}e.Device=o,(function(l){l.Bluetooth="Bluetooth",l.Wired="Wired",l.WiFi="WiFi",l.Cellular="Cellular",l.InBuilt="InBuilt",l.Unknown="Unknown"})(e.connectivity||(e.connectivity={})),(function(l){l.Phone="Phone",l.Speaker="Speaker",l.Car="Car",l.Headset="Headset",l.Thermostat="Thermostat",l.Microphones="Microphones",l.Deskphone="Deskphone",l.RemoteControl="RemoteControl",l.Unknown="Unknown",l.File="File",l.Stream="Stream"})(e.type||(e.type={}))})(Hv)),Hv}var X0;function Se(){return X0||(X0=1,(function(e){var t=fs&&fs.__createBinding||(Object.create?(function(o,l,a,u){u===void 0&&(u=a),Object.defineProperty(o,u,{enumerable:!0,get:function(){return l[a]}})}):(function(o,l,a,u){u===void 0&&(u=a),o[u]=l[a]})),r=fs&&fs.__exportStar||function(o,l){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(l,a)&&t(l,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoDetectSourceLanguagesOpenRangeOptionName=e.ForceDictationPropertyName=e.ServicePropertiesPropertyName=e.CancellationErrorCodePropertyName=e.OutputFormatPropertyName=e.SpeechSynthesisAdapter=e.AvatarSynthesisAdapter=void 0,r(R8(),e),r(w8(),e),r(ES(),e),r(b8(),e),r(N8(),e),r(T9(),e),r(I9(),e),r(zS(),e),r(j9(),e),r(q9(),e),r(F9(),e),r(H9(),e),r(U9(),e),r($9(),e),r(W9(),e),r(V9(),e),r(K9(),e),r(ok(),e),r(G9(),e),r(J9(),e),r(Q9(),e),r(X9(),e),r(Y9(),e),r(Z9(),e),r(eV(),e),r(tV(),e),r(rV(),e),r(nV(),e),r(sV(),e),r(oV(),e),r(aV(),e),r(cV(),e),r(lV(),e),r(uV(),e),r(dV(),e),r(pV(),e),r(hV(),e),r(gV(),e),r(yV(),e),r(RV(),e),r(wV(),e),r(DV(),e),r(xk(),e),r(LV(),e),r(jV(),e);var n=qV();Object.defineProperty(e,"AvatarSynthesisAdapter",{enumerable:!0,get:function(){return n.AvatarSynthesisAdapter}});var i=FV();Object.defineProperty(e,"SpeechSynthesisAdapter",{enumerable:!0,get:function(){return i.SpeechSynthesisAdapter}}),r(HV(),e),r(UV(),e),r($V(),e),r(WV(),e),r(VV(),e),r(KV(),e),r(GV(),e),e.OutputFormatPropertyName="OutputFormat",e.CancellationErrorCodePropertyName="CancellationErrorCode",e.ServicePropertiesPropertyName="ServiceProperties",e.ForceDictationPropertyName="ForceDictation",e.AutoDetectSourceLanguagesOpenRangeOptionName="UND"})(fs)),fs}var Y0;function JV(){return Y0||(Y0=1,(function(e){var t=hs&&hs.__createBinding||(Object.create?(function(i,o,l,a){a===void 0&&(a=l),Object.defineProperty(i,a,{enumerable:!0,get:function(){return o[l]}})}):(function(i,o,l,a){a===void 0&&(a=l),i[a]=o[l]})),r=hs&&hs.__exportStar||function(i,o){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&t(o,i,l)};Object.defineProperty(e,"__esModule",{value:!0});const n=Se();new n.AgentConfig,r(Z(),e)})(hs)),hs}var Gt=JV();const QV=Fm(Gt),XV=dT({__proto__:null,default:QV},[Gt]);class YV{config=null;recognizer=null;isRecording=!1;constructor(){this.loadConfig()}async loadConfig(){try{Uo.azure.speech.key&&Uo.azure.speech.region&&(this.config={subscriptionKey:Uo.azure.speech.key,region:Uo.azure.speech.region,language:"en-US"})}catch(t){console.error("Failed to load Azure Speech config:",t)}}updateConfig(t){this.config&&(this.config={...this.config,...t},localStorage.setItem("azureSpeechConfig",JSON.stringify(this.config)))}async startRecording(t,r){if(!this.config?.subscriptionKey){r("Azure Speech Service not configured. Please set your subscription key in .env file.");return}if(this.isRecording){r("Recording is already in progress.");return}try{await this.requestMicrophonePermission()}catch(n){r(`Microphone access denied: ${n}. Please allow microphone access and try again.`);return}try{if(XV)console.log("Using imported Azure Speech SDK for recognition"),await this.startAzureSpeechRecognition(t,r);else if(this.isWebSpeechSupported())console.log("Azure SDK not available, falling back to Web Speech API"),this.startWebSpeechRecognition(t,r);else{const n=navigator.userAgent.toLowerCase(),i=n.includes("firefox")?"Firefox":n.includes("chrome")?"Chrome":n.includes("safari")?"Safari":"your browser";r(`Speech recognition not available. Azure Speech SDK import failed and ${i} doesn't support Web Speech API. Please check your setup.`)}}catch(n){r(`Failed to initialize speech recognition: ${n}`)}}async requestMicrophonePermission(){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("MediaDevices API not supported in this browser");return navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}})}isWebSpeechSupported(){return"webkitSpeechRecognition"in window||"SpeechRecognition"in window}async startAzureSpeechRecognition(t,r){const n=Gt.SpeechConfig.fromSubscription(this.config.subscriptionKey,this.config.region);n.speechRecognitionLanguage=this.config.language;const i=Gt.AudioConfig.fromDefaultMicrophoneInput();this.recognizer=new Gt.SpeechRecognizer(n,i),this.recognizer.recognizing=(o,l)=>{console.log("🔄 Interim result:",l.result.text)},this.recognizer.recognized=(o,l)=>{l.result.reason===Gt.ResultReason.RecognizedSpeech&&(console.log("✅ Final result:",l.result.text),t({text:l.result.text,confidence:.95,offset:l.result.offset,duration:l.result.duration}))},this.recognizer.canceled=(o,l)=>{r(`Azure Speech recognition canceled: ${l.errorDetails}`),this.isRecording=!1},this.recognizer.sessionStopped=()=>{this.isRecording=!1},this.recognizer.startContinuousRecognitionAsync(()=>{this.isRecording=!0,console.log("Azure Speech recognition started successfully")},o=>{r(`Failed to start Azure Speech recognition: ${o}`),this.isRecording=!1})}startWebSpeechRecognition(t,r){let n=null;if("webkitSpeechRecognition"in window?n=window.webkitSpeechRecognition:"SpeechRecognition"in window&&(n=window.SpeechRecognition),!n){const i=navigator.userAgent.toLowerCase();let o="Unknown browser";i.includes("chrome")?o="Chrome":i.includes("firefox")?o="Firefox":i.includes("safari")?o="Safari":i.includes("edge")&&(o="Edge"),r(`Web Speech API not supported in ${o}. For Firefox users: Speech recognition requires Chrome or Edge. Please try Demo Mode to see all features, or switch to Chrome/Edge for live recording.`);return}try{const i=new n;i.continuous=!0,i.interimResults=!1,i.lang=this.config?.language||"en-US",i.maxAlternatives=1,i.onstart=()=>{this.isRecording=!0,console.log("Web Speech API recognition started successfully")},i.onresult=o=>{for(let l=o.resultIndex;l<o.results.length;l++){const a=o.results[l],u=a[0].transcript;u.trim()&&a.isFinal!==!1&&(console.log("✅ Web Speech final result:",u),t({text:u,confidence:a[0].confidence||.8,offset:l*1e3,duration:1e3}))}},i.onerror=o=>{let l=`Web Speech API error: ${o.error}`;switch(o.error){case"not-allowed":l="Microphone access denied. Please click the microphone icon in your browser address bar and allow access, then try again.";break;case"no-speech":l="No speech detected. Please speak closer to the microphone and try again.";break;case"audio-capture":l="No microphone found. Please connect a microphone and refresh the page.";break;case"network":l="Network error occurred. Please check your internet connection and try again.";break;case"service-not-allowed":l="Speech service not allowed. Please enable speech recognition in your browser settings.";break;case"bad-grammar":l="Grammar error. Trying to restart recognition...";break}r(l),this.isRecording=!1},i.onend=()=>{this.isRecording=!1,console.log("Web Speech API recognition ended")},i.start(),this.recognizer=i}catch(i){r(`Failed to initialize Web Speech recognition: ${i}`)}}stopRecording(){this.recognizer&&this.isRecording&&(this.recognizer.stopContinuousRecognitionAsync?this.recognizer.stopContinuousRecognitionAsync():this.recognizer.stop&&this.recognizer.stop(),this.isRecording=!1)}pauseRecording(){this.recognizer&&this.isRecording&&(console.log("🟡 Pausing Azure speech recognition..."),this.recognizer.stopContinuousRecognitionAsync?this.recognizer.stopContinuousRecognitionAsync(()=>{console.log("✅ Azure speech recognition paused successfully"),this.isRecording=!1},t=>{console.error("❌ Failed to pause Azure speech recognition:",t),this.isRecording=!1}):this.recognizer.stop&&(this.recognizer.stop(),this.isRecording=!1,console.log("🟡 Web Speech API paused (stopped)")))}resumeRecording(t,r){this.recognizer&&!this.isRecording?(console.log("🟢 Resuming Azure speech recognition..."),this.recognizer.startContinuousRecognitionAsync?this.recognizer.startContinuousRecognitionAsync(()=>{console.log("✅ Azure speech recognition resumed successfully"),this.isRecording=!0},n=>{console.error("❌ Failed to resume Azure speech recognition:",n),r(`Failed to resume recording: ${n}`),this.isRecording=!1}):(console.log("🔄 Web Speech API resume requires restart"),this.startWebSpeechRecognition(t,r))):this.recognizer||(console.warn("⚠️ Cannot resume: recognizer not initialized"),r("Cannot resume: speech recognizer not initialized"))}isCurrentlyRecording(){return this.isRecording}getConfig(){return this.config}}const vm=new YV;class ZV{microphoneStream=null;systemAudioStream=null;combinedStream=null;audioContext=null;recognizer=null;isRecording=!1;captureOptions={captureMicrophone:!0,captureSystemAudio:!1};config={subscriptionKey:Uo.azure.speech.key,region:Uo.azure.speech.region,language:"en-US"};async startRecording(t,r,n){try{if(this.captureOptions=t,this.audioContext=new AudioContext,t.captureMicrophone)try{this.microphoneStream=await this.getMicrophoneStream(),console.log("✅ Microphone stream acquired successfully")}catch(i){if(console.error("Failed to get microphone:",i),t.captureSystemAudio)console.log("Continuing with system audio only...");else throw new Error(`Microphone access failed: ${i}`)}if(t.captureSystemAudio)try{this.systemAudioStream=await this.getSystemAudioStream(),console.log("✅ System audio stream acquired successfully")}catch(i){if(console.error("Failed to get system audio:",i),t.captureMicrophone&&this.microphoneStream)console.log("⚠️ System audio failed, continuing with microphone only..."),this.captureOptions={...t,captureSystemAudio:!1},n(`System audio capture failed: ${i}. Continuing with microphone only.`);else throw i}if(!this.microphoneStream&&!this.systemAudioStream)throw new Error("No audio sources available. Please enable microphone or system audio access.");this.combinedStream=await this.createCombinedStream(),await this.startAzureSpeechRecognition(r,n)}catch(i){console.error("Enhanced audio service error:",i),n(`Failed to start enhanced audio recording: ${i}`)}}async getMicrophoneStream(){try{const t={audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:16e3}},r=await navigator.mediaDevices.getUserMedia(t);return console.log("✅ Microphone stream acquired"),r}catch(t){throw console.error("❌ Failed to get microphone stream:",t),new Error("Microphone access denied or not available")}}async getSystemAudioStream(){try{if(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia)throw new Error("System audio capture is not supported in this browser. Please use Chrome, Edge, or Firefox.");const t=/Firefox/.test(navigator.userAgent),r=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),n=/Edg/.test(navigator.userAgent);console.log(`🔄 Requesting system audio capture on ${t?"Firefox":r?"Chrome":n?"Edge":"Unknown browser"}...`);let i;t?i={video:{mediaSource:"screen",width:{min:1,max:1},height:{min:1,max:1},frameRate:{min:1,max:1}},audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,sampleRate:16e3}}:i={video:!1,audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1,sampleRate:16e3}};const o=new Promise((d,m)=>{setTimeout(()=>{m(new Error("Permission dialog timeout - no response from browser. System audio may not be supported."))},15e3)}),l=navigator.mediaDevices.getDisplayMedia(i),a=await Promise.race([l,o]);t&&a.getVideoTracks().forEach(m=>{m.stop(),a.removeTrack(m)});const u=a.getAudioTracks();if(u.length===0)throw t?new Error("No audio tracks available. In Firefox, please ensure you select 'Share system audio' and have audio playing on your system."):new Error("No audio tracks available. Please ensure 'Share tab audio' or 'Share system audio' is enabled in the screen sharing dialog.");return console.log("✅ System audio stream acquired with",u.length,"audio tracks"),console.log("Audio track settings:",u[0].getSettings()),a}catch(t){console.error("❌ Failed to get system audio stream:",t);const r=t,n=/Firefox/.test(navigator.userAgent);throw r.name==="NotAllowedError"?n?new Error("System audio access was denied. In Firefox: Click 'Allow', select your screen/application, and ensure 'Share system audio' is checked."):new Error("System audio access was denied. Please click 'Share' when prompted and ensure 'Share tab audio' is enabled."):r.name==="NotSupportedError"?new Error("System audio capture is not supported in this browser. Please use Chrome (version 74+), Edge (version 79+), or Firefox (version 66+)."):r.name==="NotFoundError"?new Error("No audio sources available for system audio capture. Try playing some audio and try again."):r.message.includes("timeout")?n?new Error("No permission dialog appeared. In Firefox, go to about:config and ensure 'media.getdisplaymedia.enabled' is set to true."):new Error("No permission dialog appeared. System audio capture may not be available in this browser or environment."):new Error(`System audio capture failed: ${r.message||r}. Try using microphone-only mode instead.`)}}async createCombinedStream(){if(!this.audioContext)throw new Error("Audio context not initialized");const t=this.audioContext.createMediaStreamDestination();if(this.microphoneStream){const r=this.audioContext.createMediaStreamSource(this.microphoneStream),n=this.audioContext.createGain();n.gain.value=1,r.connect(n),n.connect(t),console.log("🎤 Microphone connected to combined stream")}if(this.systemAudioStream){const r=this.audioContext.createMediaStreamSource(this.systemAudioStream),n=this.audioContext.createGain();n.gain.value=.8,r.connect(n),n.connect(t),console.log("🔊 System audio connected to combined stream")}return t.stream}createAudioStreamFromMediaStream(t){try{console.log("🔄 Attempting to create Azure-compatible audio stream from MediaStream"),this.audioContext||(this.audioContext=new AudioContext);const r=this.audioContext.createMediaStreamSource(t),n=this.audioContext.createScriptProcessor(4096,1,1),i=Gt.AudioStreamFormat.getWaveFormatPCM(16e3,16,1),o=Gt.AudioInputStream.createPushStream(i);return n.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0),d=new Int16Array(u.length);for(let h=0;h<u.length;h++)d[h]=Math.max(-32768,Math.min(32767,u[h]*32768));const m=d.buffer;o.write(m)},r.connect(n),console.log("✅ Created Azure-compatible audio stream with Web Audio API processing"),o}catch(r){return console.error("Failed to create audio stream from MediaStream:",r),Gt.AudioInputStream.createPushStream(Gt.AudioStreamFormat.getWaveFormatPCM(16e3,16,1))}}async startAzureSpeechRecognition(t,r){try{if(!this.config.subscriptionKey)throw new Error("Azure Speech subscription key not configured");const n=Gt.SpeechConfig.fromSubscription(this.config.subscriptionKey,this.config.region);n.speechRecognitionLanguage=this.config.language,n.enableDictation();let i;if(this.captureOptions.captureSystemAudio&&!this.captureOptions.captureMicrophone)if(console.warn("⚠️ System audio only mode: Azure Speech SDK works best with microphone access"),console.log("� Recommendation: Use 'Both' mode for better system audio transcription"),this.systemAudioStream&&this.systemAudioStream.getAudioTracks().length>0)try{const o=this.createAudioStreamFromMediaStream(this.systemAudioStream);i=Gt.AudioConfig.fromStreamInput(o),console.log("✅ Using system audio stream for Azure Speech")}catch(o){console.warn("System audio stream setup failed, using default microphone:",o),i=Gt.AudioConfig.fromDefaultMicrophoneInput()}else console.log("🔄 No system audio stream available, using default microphone"),i=Gt.AudioConfig.fromDefaultMicrophoneInput();else console.log("🔄 Using default microphone input for Azure Speech"),i=Gt.AudioConfig.fromDefaultMicrophoneInput();this.recognizer=new Gt.SpeechRecognizer(n,i),this.recognizer.recognizing=(o,l)=>{console.log("🔄 Interim result:",l.result.text)},this.recognizer.recognized=(o,l)=>{if(l.result.reason===Gt.ResultReason.RecognizedSpeech){console.log("✅ Final result:",l.result.text);let a="microphone";this.captureOptions.captureMicrophone&&this.captureOptions.captureSystemAudio?a="mixed":this.captureOptions.captureSystemAudio&&(a="system"),t({text:l.result.text,confidence:.95,offset:l.result.offset,duration:l.result.duration,source:a})}},this.recognizer.canceled=(o,l)=>{r(`Speech recognition canceled: ${l.errorDetails}`),this.isRecording=!1},this.recognizer.sessionStopped=()=>{this.isRecording=!1},this.recognizer.startContinuousRecognitionAsync(()=>{this.isRecording=!0,console.log("🎯 Enhanced speech recognition started successfully")},o=>{r(`Failed to start recognition: ${o}`)})}catch(n){r(`Azure Speech setup failed: ${n}`)}}async stopRecording(){this.isRecording=!1,this.recognizer&&(this.recognizer.stopContinuousRecognitionAsync(),this.recognizer=null),this.microphoneStream&&(this.microphoneStream.getTracks().forEach(t=>t.stop()),this.microphoneStream=null),this.systemAudioStream&&(this.systemAudioStream.getTracks().forEach(t=>t.stop()),this.systemAudioStream=null),this.combinedStream&&(this.combinedStream.getTracks().forEach(t=>t.stop()),this.combinedStream=null),this.audioContext&&this.audioContext.state!=="closed"&&(await this.audioContext.close(),this.audioContext=null),console.log("🛑 Enhanced audio recording stopped")}pauseRecording(){this.recognizer&&this.isRecording&&(console.log("🟡 Pausing speech recognition..."),this.recognizer.stopContinuousRecognitionAsync(()=>{console.log("✅ Speech recognition paused successfully"),this.isRecording=!1},t=>{console.error("❌ Failed to pause speech recognition:",t),this.isRecording=!1}))}resumeRecording(){this.recognizer&&!this.isRecording?(console.log("🟢 Resuming speech recognition..."),this.recognizer.startContinuousRecognitionAsync(()=>{console.log("✅ Speech recognition resumed successfully"),this.isRecording=!0},t=>{console.error("❌ Failed to resume speech recognition:",t),this.isRecording=!1})):this.recognizer||console.warn("⚠️ Cannot resume: recognizer not initialized")}resumeRecordingWithCallback(t,r){if(!this.recognizer){console.warn("⚠️ Cannot resume: recognizer not initialized"),r("Cannot resume: speech recognizer not initialized");return}this.isRecording?console.log("ℹ️ Speech recognition is already running"):(console.log("🟢 Resuming speech recognition with callback..."),this.recognizer.startContinuousRecognitionAsync(()=>{console.log("✅ Speech recognition resumed successfully"),this.isRecording=!0},n=>{console.error("❌ Failed to resume speech recognition:",n),this.isRecording=!1,r(`Failed to resume speech recognition: ${n}`)}))}checkStreamHealth(){let t=!0;if(this.captureOptions.captureMicrophone&&this.microphoneStream){const r=this.microphoneStream.getAudioTracks();(r.length===0||r[0].readyState!=="live")&&(console.warn("⚠️ Microphone stream is not healthy"),t=!1)}if(this.captureOptions.captureSystemAudio&&this.systemAudioStream){const r=this.systemAudioStream.getAudioTracks();(r.length===0||r[0].readyState!=="live")&&(console.warn("⚠️ System audio stream is not healthy"),t=!1)}return t}getIsRecording(){return this.isRecording}async getAudioDevices(){try{return(await navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="audioinput")}catch(t){return console.error("Failed to enumerate audio devices:",t),[]}}}const jo=new ZV;var lh="Switch",[eK,cJ]=Wd(lh),[tK,rK]=eK(lh),Pk=I.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:o,required:l,disabled:a,value:u="on",onCheckedChange:d,form:m,...h}=e,[g,v]=I.useState(null),x=ut(t,N=>v(N)),C=I.useRef(!1),w=g?m||!!g.closest("form"):!0,[R,b]=Lm({prop:i,defaultProp:o??!1,onChange:d,caller:lh});return y.jsxs(tK,{scope:r,checked:R,disabled:a,children:[y.jsx(it.button,{type:"button",role:"switch","aria-checked":R,"aria-required":l,"data-state":Nk(R),"data-disabled":a?"":void 0,disabled:a,value:u,...h,ref:x,onClick:Et(e.onClick,N=>{b(T=>!T),w&&(C.current=N.isPropagationStopped(),C.current||N.stopPropagation())})}),w&&y.jsx(bk,{control:g,bubbles:!C.current,name:n,value:u,checked:R,required:l,disabled:a,form:m,style:{transform:"translateX(-100%)"}})]})});Pk.displayName=lh;var Rk="SwitchThumb",wk=I.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=rK(Rk,r);return y.jsx(it.span,{"data-state":Nk(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});wk.displayName=Rk;var nK="SwitchBubbleInput",bk=I.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},o)=>{const l=I.useRef(null),a=ut(l,o),u=Dz(r),d=bz(t);return I.useEffect(()=>{const m=l.current;if(!m)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==r&&v){const x=new Event("click",{bubbles:n});v.call(m,r),m.dispatchEvent(x)}},[u,r,n]),y.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bk.displayName=nK;function Nk(e){return e?"checked":"unchecked"}var iK=Pk,sK=wk;function Uv({className:e,...t}){return y.jsx(iK,{"data-slot":"switch",className:Rt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:y.jsx(sK,{"data-slot":"switch-thumb",className:Rt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function ki(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var oK="DismissableLayer",Ey="dismissableLayer.update",aK="dismissableLayer.pointerDownOutside",cK="dismissableLayer.focusOutside",Z0,Ek=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tk=I.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:a,...u}=e,d=I.useContext(Ek),[m,h]=I.useState(null),g=m?.ownerDocument??globalThis?.document,[,v]=I.useState({}),x=ut(t,M=>h(M)),C=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),R=C.indexOf(w),b=m?C.indexOf(m):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,T=b>=R,A=dK(M=>{const z=M.target,V=[...d.branches].some(K=>K.contains(z));!T||V||(i?.(M),l?.(M),M.defaultPrevented||a?.())},g),k=pK(M=>{const z=M.target;[...d.branches].some(K=>K.contains(z))||(o?.(M),l?.(M),M.defaultPrevented||a?.())},g);return cz(M=>{b===d.layers.size-1&&(n?.(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},g),I.useEffect(()=>{if(m)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Z0=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),eT(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Z0)}},[m,g,r,d]),I.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),eT())},[m,d]),I.useEffect(()=>{const M=()=>v({});return document.addEventListener(Ey,M),()=>document.removeEventListener(Ey,M)},[]),y.jsx(it.div,{...u,ref:x,style:{pointerEvents:N?T?"auto":"none":void 0,...e.style},onFocusCapture:ki(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ki(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ki(e.onPointerDownCapture,A.onPointerDownCapture)})});Tk.displayName=oK;var lK="DismissableLayerBranch",uK=I.forwardRef((e,t)=>{const r=I.useContext(Ek),n=I.useRef(null),i=ut(t,n);return I.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),y.jsx(it.div,{...e,ref:i})});uK.displayName=lK;function dK(e,t=globalThis?.document){const r=Xn(e),n=I.useRef(!1),i=I.useRef(()=>{});return I.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let u=function(){Ik(aK,r,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function pK(e,t=globalThis?.document){const r=Xn(e),n=I.useRef(!1);return I.useEffect(()=>{const i=o=>{o.target&&!n.current&&Ik(cK,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eT(){const e=new CustomEvent(Ey);document.dispatchEvent(e)}function Ik(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?az(i,o):i.dispatchEvent(o)}function mK(e,t){return I.useReducer((r,n)=>t[r][n]??r,e)}var uh=e=>{const{present:t,children:r}=e,n=hK(t),i=typeof r=="function"?r({present:n.isPresent}):I.Children.only(r),o=ut(n.ref,fK(i));return typeof r=="function"||n.isPresent?I.cloneElement(i,{ref:o}):null};uh.displayName="Presence";function hK(e){const[t,r]=I.useState(),n=I.useRef(null),i=I.useRef(e),o=I.useRef("none"),l=e?"mounted":"unmounted",[a,u]=mK(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const d=ym(n.current);o.current=a==="mounted"?d:"none"},[a]),tr(()=>{const d=n.current,m=i.current;if(m!==e){const g=o.current,v=ym(d);e?u("MOUNT"):v==="none"||d?.display==="none"?u("UNMOUNT"):u(m&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),tr(()=>{if(t){let d;const m=t.ownerDocument.defaultView??window,h=v=>{const C=ym(n.current).includes(CSS.escape(v.animationName));if(v.target===t&&C&&(u("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=v=>{v.target===t&&(o.current=ym(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{m.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function ym(e){return e?.animationName||"none"}function fK(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $v=0;function gK(){I.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tT()),document.body.insertAdjacentElement("beforeend",e[1]??tT()),$v++,()=>{$v===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$v--}},[])}function tT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dh="Dialog",[Ak,lJ]=Wd(dh),[vK,on]=Ak(dh),_k=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,a=I.useRef(null),u=I.useRef(null),[d,m]=Lm({prop:n,defaultProp:i??!1,onChange:o,caller:dh});return y.jsx(vK,{scope:t,triggerRef:a,contentRef:u,contentId:Vo(),titleId:Vo(),descriptionId:Vo(),open:d,onOpenChange:m,onOpenToggle:I.useCallback(()=>m(h=>!h),[m]),modal:l,children:r})};_k.displayName=dh;var zk="DialogTrigger",yK=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=on(zk,r),o=ut(t,i.triggerRef);return y.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":DS(i.open),...n,ref:o,onClick:ki(e.onClick,i.onOpenToggle)})});yK.displayName=zk;var kS="DialogPortal",[SK,Mk]=Ak(kS,{forceMount:void 0}),kk=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,o=on(kS,t);return y.jsx(SK,{scope:t,forceMount:r,children:I.Children.map(n,l=>y.jsx(uh,{present:r||o.open,children:y.jsx(RS,{asChild:!0,container:i,children:l})}))})};kk.displayName=kS;var qm="DialogOverlay",Ok=I.forwardRef((e,t)=>{const r=Mk(qm,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=on(qm,e.__scopeDialog);return o.modal?y.jsx(uh,{present:n||o.open,children:y.jsx(xK,{...i,ref:t})}):null});Ok.displayName=qm;var CK=Jo("DialogOverlay.RemoveScroll"),xK=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=on(qm,r);return y.jsx(wS,{as:CK,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(it.div,{"data-state":DS(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ks="DialogContent",Dk=I.forwardRef((e,t)=>{const r=Mk(Ks,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=on(Ks,e.__scopeDialog);return y.jsx(uh,{present:n||o.open,children:o.modal?y.jsx(PK,{...i,ref:t}):y.jsx(RK,{...i,ref:t})})});Dk.displayName=Ks;var PK=I.forwardRef((e,t)=>{const r=on(Ks,e.__scopeDialog),n=I.useRef(null),i=ut(t,r.contentRef,n);return I.useEffect(()=>{const o=n.current;if(o)return jz(o)},[]),y.jsx(Bk,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ki(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ki(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,a=l.button===0&&l.ctrlKey===!0;(l.button===2||a)&&o.preventDefault()}),onFocusOutside:ki(e.onFocusOutside,o=>o.preventDefault())})}),RK=I.forwardRef((e,t)=>{const r=on(Ks,e.__scopeDialog),n=I.useRef(!1),i=I.useRef(!1);return y.jsx(Bk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;r.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Bk=I.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,a=on(Ks,r),u=I.useRef(null),d=ut(t,u);return gK(),y.jsxs(y.Fragment,{children:[y.jsx(mS,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:y.jsx(Tk,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":DS(a.open),...l,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(wK,{titleId:a.titleId}),y.jsx(NK,{contentRef:u,descriptionId:a.descriptionId})]})]})}),OS="DialogTitle",Lk=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=on(OS,r);return y.jsx(it.h2,{id:i.titleId,...n,ref:t})});Lk.displayName=OS;var jk="DialogDescription",qk=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=on(jk,r);return y.jsx(it.p,{id:i.descriptionId,...n,ref:t})});qk.displayName=jk;var Fk="DialogClose",Hk=I.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=on(Fk,r);return y.jsx(it.button,{type:"button",...n,ref:t,onClick:ki(e.onClick,()=>i.onOpenChange(!1))})});Hk.displayName=Fk;function DS(e){return e?"open":"closed"}var Uk="DialogTitleWarning",[uJ,$k]=w6(Uk,{contentName:Ks,titleName:OS,docsSlug:"dialog"}),wK=({titleId:e})=>{const t=$k(Uk),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return I.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},bK="DialogDescriptionWarning",NK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$k(bK).contentName}}.`;return I.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},EK=_k,TK=kk,IK=Ok,AK=Dk,_K=Lk,zK=qk,MK=Hk;function rT({...e}){return y.jsx(EK,{"data-slot":"dialog",...e})}function kK({...e}){return y.jsx(TK,{"data-slot":"dialog-portal",...e})}function OK({className:e,...t}){return y.jsx(IK,{"data-slot":"dialog-overlay",className:Rt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function nT({className:e,children:t,...r}){return y.jsxs(kK,{"data-slot":"dialog-portal",children:[y.jsx(OK,{}),y.jsxs(AK,{"data-slot":"dialog-content",className:Rt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,y.jsxs(MK,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[y.jsx(CL,{}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function iT({className:e,...t}){return y.jsx("div",{"data-slot":"dialog-header",className:Rt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function sT({className:e,...t}){return y.jsx("div",{"data-slot":"dialog-footer",className:Rt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function oT({className:e,...t}){return y.jsx(_K,{"data-slot":"dialog-title",className:Rt("text-lg leading-none font-semibold",e),...t})}function aT({className:e,...t}){return y.jsx(zK,{"data-slot":"dialog-description",className:Rt("text-muted-foreground text-sm",e),...t})}function cT({className:e,...t}){return y.jsx("textarea",{"data-slot":"textarea",className:Rt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Wk=()=>new Promise((e,t)=>{const r="icapjK1GgFOPjjIx4afJeA7Khpxy0GYjK27n5av8zy8uBSZXYauIJQQJ99BHACYeBjFXJ3w3AAAYACOGYviy",n="eastus",i="EiJn5T0OxykR5DpORDbaClOqpRMDYYkcNRdw9teqdKr5ZpG0nI3wJQQJ99BHACHYHv6XJ3w3AAAAACOGQruB",o="https://noah-medu5nq4-eastus2.cognitiveservices.azure.com",l="gpt-4o";{let a=l,u=o;u&&u.includes("/deployments/")&&(u=u.split("/openai/deployments/")[0]),e({speechKey:r,speechRegion:n,openAIApiKey:i,openAIEndpoint:u,azureOpenAIApiDeploymentName:a});return}});async function DK(e){try{const t=await Wk();if(!t.openAIApiKey||!t.openAIEndpoint||!t.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI configuration is missing. Please check your .env file.");const r=await fetch(`${t.openAIEndpoint}/openai/deployments/${t.azureOpenAIApiDeploymentName}/chat/completions?api-version=2024-02-15-preview`,{method:"POST",headers:{"Content-Type":"application/json","api-key":t.openAIApiKey},body:JSON.stringify({messages:[{role:"system",content:"You are a helpful assistant that provides clear and concise explanations."},{role:"user",content:e}],stream:!0,max_tokens:1e3,temperature:.7})});if(!r.ok){const i=await r.text();throw console.error("Azure OpenAI API error response:",i),new Error(`Azure OpenAI API error: ${r.status} ${r.statusText}`)}if(!r.body)throw new Error("No response body received");return new ReadableStream({async start(i){const o=new TextEncoder,l=new TextDecoder,a=r.body.getReader();try{for(;;){const{done:u,value:d}=await a.read();if(u)break;const h=l.decode(d,{stream:!0}).split(`
`);for(const g of h)if(g.startsWith("data: ")){const v=g.slice(6);if(v==="[DONE]"){i.close();return}try{const C=JSON.parse(v).choices?.[0]?.delta?.content;C&&i.enqueue(o.encode(C))}catch{continue}}}i.close()}catch(u){console.error("Error streaming response:",u),i.enqueue(o.encode("Sorry, there was an error generating the response.")),i.close()}}})}catch(t){console.error("Azure OpenAI configuration error:",t);const r=new TextEncoder;return new ReadableStream({start(i){const o=t instanceof Error?t.message:"Unknown error";i.enqueue(r.encode(`Error: ${o}`)),i.close()}})}}async function bm(e,t,r,n){try{const i=await Wk();if(!i.openAIApiKey||!i.openAIEndpoint||!i.azureOpenAIApiDeploymentName){const u=[];i.openAIApiKey||u.push("VITE_AZURE_OPENAI_API_KEY"),i.openAIEndpoint||u.push("VITE_AZURE_OPENAI_ENDPOINT"),i.azureOpenAIApiDeploymentName||u.push("VITE_AZURE_OPENAI_API_DEPLOYMENT_NAME");const d=`Azure OpenAI configuration is incomplete. Missing environment variables: ${u.join(", ")}. Please check your .env file.`;t(d),r();return}const l=(await DK(e)).getReader(),a=new TextDecoder;for(;;){const{done:u,value:d}=await l.read();if(u)break;const m=a.decode(d,{stream:!0});t(m)}r()}catch(i){console.error("Error in getAIResponseStream:",i);const o=i instanceof Error?i.message:"Unknown error occurred";o.includes("configuration")||o.includes("config")||o.includes(".env")?t("Please check your Azure OpenAI configuration in the .env file. Make sure all required environment variables are set correctly."):t(`Error: ${o}`),n&&n(i),r()}}const BK="modulepreload",LK=function(e){return"/"+e},lT={},Ty=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=l?.nonce||l?.getAttribute("nonce");i=u(r.map(d=>{if(d=LK(d),d in lT)return;lT[d]=!0;const m=d.endsWith(".css"),h=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":BK,m||(g.as="script"),g.crossOrigin="",g.href=d,a&&g.setAttribute("nonce",a),document.head.appendChild(g),m)return new Promise((v,x)=>{g.addEventListener("load",v),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return i.then(l=>{for(const a of l||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};function jK(e,t,r){const n=new Blob([e],{type:r}),i=URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}function Ld(e){const t=`${e.title}
${"=".repeat(e.title.length)}

Timestamp: ${e.timestamp}
Duration: ${e.duration}

TRANSCRIPT:
${e.content}`;jK(t,`${e.title}.txt`,"text/plain")}function Vk(e){try{Ty(async()=>{const{jsPDF:t}=await import("./jspdf.es.min-BqRf0JeT.js").then(r=>r.j);return{jsPDF:t}},[]).then(({jsPDF:t})=>{const r=new t;r.setFontSize(20),r.text(e.title,20,20),r.setFontSize(12),r.text(`Timestamp: ${e.timestamp}`,20,40),r.text(`Duration: ${e.duration}`,20,50),r.setFontSize(10);const n=r.splitTextToSize(e.content,170);r.text(n,20,70),r.save(`${e.title}.pdf`)}).catch(t=>{console.error("Error loading jsPDF:",t),alert("PDF export failed. Downloading as text instead."),Ld(e)})}catch(t){console.error("Error exporting PDF:",t),alert("PDF export failed. Downloading as text instead."),Ld(e)}}async function Kk(e){try{const t=await Ty(()=>import("./index-YX0gPAOe.js"),[]),r=await Ty(()=>import("./FileSaver.min-CE3iVL7-.js").then(v=>v.F),[]),{Document:n,Packer:i,Paragraph:o,TextRun:l,HeadingLevel:a}=t,{saveAs:u}=r,d=new n({sections:[{properties:{},children:[new o({children:[new l({text:e.title,bold:!0,size:28})],heading:a.TITLE}),new o({children:[new l({text:`Timestamp: ${e.timestamp}`})]}),new o({children:[new l({text:`Duration: ${e.duration}`})]}),new o({children:[new l({text:"TRANSCRIPT:",bold:!0})]}),new o({children:[new l({text:e.content})]})]}]}),m=await i.toBuffer(d),h=new Uint8Array(m),g=new Blob([h],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});u(g,`${e.title}.docx`)}catch(t){console.error("Error exporting Word document:",t),console.error("Error details:",JSON.stringify(t,null,2));try{const r=`{\\rtf1\\ansi\\deff0 {\\fonttbl {\\f0 Times New Roman;}}
\\f0\\fs24 
\\b ${e.title}\\b0\\par
\\par
Timestamp: ${e.timestamp}\\par
Duration: ${e.duration}\\par
\\par
\\b TRANSCRIPT:\\b0\\par
${e.content.replace(/\n/g,"\\par ")}
}`,n=new Blob([r],{type:"application/rtf"}),i=URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=`${e.title}.rtf`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i),alert("Word export completed as RTF format (compatible with Microsoft Word).")}catch(r){console.error("RTF fallback failed:",r),alert("Word export failed. Downloading as text instead."),Ld(e)}}}function uT({onNavigate:e}){const[t,r]=I.useState(!1),[n,i]=I.useState(!1),[o,l]=I.useState(!1),[a,u]=I.useState(!1),[d,m]=I.useState([]),[h,g]=I.useState(null),[v,x]=I.useState(""),[C,w]=I.useState(null),[R,b]=I.useState(""),[N,T]=I.useState({captureMicrophone:!0,captureSystemAudio:!1}),[A,k]=I.useState("microphone"),M=()=>{const W=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),U=/Edg/.test(navigator.userAgent),te=/Firefox/.test(navigator.userAgent);return navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia&&(W||U||te)},z=()=>{const W=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),U=/Edg/.test(navigator.userAgent),te=/Firefox/.test(navigator.userAgent);return W?{name:"Chrome",supportsSystemAudio:"full"}:U?{name:"Edge",supportsSystemAudio:"full"}:te?{name:"Firefox",supportsSystemAudio:"limited"}:{name:"Unknown",supportsSystemAudio:"none"}},[V]=I.useState(null),[K,ue]=I.useState(!1),[we,H]=I.useState(""),[ie,oe]=I.useState(""),[fe,ae]=I.useState(!1),[L,ee]=I.useState(null),[G,D]=I.useState({}),[$,ge]=I.useState(new Set),[Ce,ke]=I.useState(!1),[Oe,X]=I.useState(""),[Ne,Ae]=I.useState(""),[De,He]=I.useState(!1),Je=I.useRef(null);I.useEffect(()=>{Je.current&&(Je.current.scrollTop=Je.current.scrollHeight)},[d,v]),I.useEffect(()=>{N.captureMicrophone&&N.captureSystemAudio?k("both"):N.captureSystemAudio?k("speaker"):k("microphone")},[N]);const wt=d.reduce((W,U)=>{if(W.length===0)return[[U]];const te=W[W.length-1],se=te[te.length-1];return U.type==="speech"&&se.type==="speech"&&U.speaker===se.speaker&&U.timestamp.getHours()===se.timestamp.getHours()&&U.timestamp.getMinutes()===se.timestamp.getMinutes()?(te.push(U),W):[...W,[U]]},[]);I.useEffect(()=>{let W;if(t){const U=()=>{b(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}))};U(),W=setInterval(U,1e3)}return()=>{W&&clearInterval(W)}},[t]);const nr=async()=>{if(!V||!we)return;const W={id:Date.now().toString(),type:"ai_request",speaker:"Me",content:we.trim(),timestamp:new Date};m(te=>[...te,W]),ae(!0),oe("");const U=`Based on the following transcribed text, please answer the user's question clearly and concisely.

Context: "${V.content}"
Question: "${we}"

Please provide a helpful explanation or clarification.`;try{let te="";await bm(U,se=>{te+=se,oe(te)},()=>{const se={id:(Date.now()+1).toString(),type:"answer",speaker:"GPT-4o",content:te,timestamp:new Date};m(Te=>[...Te,se]),ae(!1),ue(!1),H(""),oe("")},se=>{console.error("Error generating clarification:",se),oe("Error generating clarification. Please check your Azure OpenAI configuration in Settings."),ae(!1)})}catch(te){console.error("Error generating clarification:",te),oe("Error generating clarification. Please check your Azure OpenAI configuration in Settings."),ae(!1)}},an=async()=>{if(!Oe.trim())return;const W={id:Date.now().toString(),type:"ai_request",speaker:"Me",content:Oe.trim(),timestamp:new Date};m(se=>[...se,W]),He(!0),Ae("");const te=`Based on the following recent conversation transcript, please answer the user's question:

Recent Context:
${d.slice(-5).map(se=>`${se.speaker}: ${se.content}`).join(`
`)}

Question: "${Oe}"

Please provide a helpful answer based on what was recently discussed.`;try{let se="";await bm(te,Te=>{se+=Te,Ae(se)},()=>{const Te={id:(Date.now()+1).toString(),type:"answer",speaker:"GPT-4o",content:se,timestamp:new Date};m(Le=>[...Le,Te]),He(!1),ke(!1),X(""),Ae("")},Te=>{console.error("Error getting quick answer:",Te),Ae("Sorry, I encountered an error while generating the answer."),He(!1)})}catch(se){console.error("Error getting quick answer:",se),Ae("Sorry, I encountered an error while generating the answer."),He(!1)}},jr=W=>{ee(L===W?null:W)},cr=async W=>{const U=G[W]?.trim();if(!U)return;const te=d.find(Le=>Le.id===W);if(!te)return;const se={id:Date.now().toString(),type:"user_question",content:U,timestamp:new Date};m(Le=>Le.map(Ze=>Ze.id===W?{...Ze,hasInlineChat:!0,inlineChatMessages:[...Ze.inlineChatMessages||[],se]}:Ze)),D(Le=>({...Le,[W]:""})),ge(Le=>new Set(Le).add(W));const Te=`Based on the following statement from the conversation, please answer the user's question:

Original Statement: "${te.content}"
Speaker: ${te.speaker}
Timestamp: ${te.timestamp.toLocaleTimeString()}

User's Question: "${U}"

Please provide a helpful and relevant answer based on the context of what was said.`;try{let Le="";await bm(Te,Ze=>{Le+=Ze,m(Fe=>Fe.map(et=>{if(et.id===W){const Tt=et.inlineChatMessages||[],It=Tt[Tt.length-1];return It&&It.type==="ai_response"&&It.isGenerating?{...et,inlineChatMessages:[...Tt.slice(0,-1),{...It,content:Le}]}:{...et,inlineChatMessages:[...Tt,{id:(Date.now()+1).toString(),type:"ai_response",content:Le,timestamp:new Date,isGenerating:!0}]}}return et}))},()=>{m(Ze=>Ze.map(Fe=>{if(Fe.id===W){const et=Fe.inlineChatMessages||[];return{...Fe,inlineChatMessages:et.map(Tt=>Tt.isGenerating?{...Tt,isGenerating:!1}:Tt)}}return Fe})),ge(Ze=>{const Fe=new Set(Ze);return Fe.delete(W),Fe})},Ze=>{console.error("Error generating inline chat response:",Ze),m(Fe=>Fe.map(et=>et.id===W?{...et,inlineChatMessages:[...et.inlineChatMessages||[],{id:(Date.now()+2).toString(),type:"ai_response",content:"Sorry, I encountered an error while generating the response.",timestamp:new Date}]}:et)),ge(Fe=>{const et=new Set(Fe);return et.delete(W),et})})}catch(Le){console.error("Error in inline chat:",Le),ge(Ze=>{const Fe=new Set(Ze);return Fe.delete(W),Fe})}},In=async(W,U)=>{if(!n&&W.trim()){const te=new Date,se=W.trim(),Te=d.slice(-5);if(Te.some(ur=>ur.content.toLowerCase()===se.toLowerCase())){console.log("Skipping exact duplicate:",se),x("");return}if(Te.some(ur=>Vi(se.toLowerCase(),ur.content.toLowerCase())>.85)){console.log("Skipping similar duplicate:",se),x("");return}const Fe=se.toLowerCase().split(/\s+/),et=new Set(Fe);if(Fe.length/et.size>2.5&&Fe.length>3){console.log("Skipping repetitive pattern:",se),x("");return}const It=["um","uh","oh","ah","hmm","okay","ok","yes","no","yeah"];if(Fe.length===1&&It.includes(Fe[0])){console.log("Skipping filler word:",se),x("");return}if(Te.length>0){const ur=Te[Te.length-1];if(te.getTime()-ur.timestamp.getTime()<2e3){const un=ur.content.toLowerCase();if(An(un,se.toLowerCase()).length>Math.min(un.length,se.length)*.6){console.log("Skipping likely continuation/repetition:",se),x("");return}}}const Ji={isQuestion:!1,confidence:0},oo={id:Date.now().toString(),type:"speech",speaker:"Me",content:se,timestamp:te,isQuestion:Ji.isQuestion,questionConfidence:Ji.confidence};m(ur=>[...ur,oo]),x("")}},Vi=(W,U)=>{const te=W.length>U.length?W:U,se=W.length>U.length?U:W;if(te.length===0)return 1;const Te=qr(te,se);return(te.length-Te)/te.length},An=(W,U)=>{const te=W.length,se=U.length,Te=Array(te+1).fill(null).map(()=>Array(se+1).fill(0));let Le=0,Ze=0;for(let Fe=1;Fe<=te;Fe++)for(let et=1;et<=se;et++)W[Fe-1]===U[et-1]&&(Te[Fe][et]=Te[Fe-1][et-1]+1,Te[Fe][et]>Le&&(Le=Te[Fe][et],Ze=Fe));return W.substring(Ze-Le,Ze)},qr=(W,U)=>{const te=[];for(let se=0;se<=U.length;se++)te[se]=[se];for(let se=0;se<=W.length;se++)te[0][se]=se;for(let se=1;se<=U.length;se++)for(let Te=1;Te<=W.length;Te++)U.charAt(se-1)===W.charAt(Te-1)?te[se][Te]=te[se-1][Te-1]:te[se][Te]=Math.min(te[se-1][Te-1]+1,te[se][Te-1]+1,te[se-1][Te]+1);return te[U.length][W.length]},cn=W=>{g(W),r(!1)},ri=async()=>{g(null);try{N.captureSystemAudio?await jo.startRecording(N,W=>{const U=W.source==="mixed"?"🎤🔊":W.source==="system"?"🔊":"🎤";In(`${U} ${W.text}`,!0)},cn):vm.startRecording(W=>{In(W.text,!0)},cn)}catch(W){cn(`Failed to start recording: ${W}`)}},_n=async()=>{N.captureSystemAudio?await jo.stopRecording():vm.stopRecording()},io=async()=>{m([]),r(!0),i(!1),w(new Date),b(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})),console.log("Recording started. Use 'Save Transcript' when you want to save your session."),await ri()},so=async()=>{t&&await _n(),r(!1),w(null),console.log("Recording stopped. Use 'Save Transcript' to save your session.")},Ki=async()=>{const W=!n;i(W);try{if(W){console.log("🟡 Pausing transcription..."),N.captureSystemAudio?jo.pauseRecording():vm.pauseRecording();const U={id:Date.now().toString(),type:"speech",speaker:"System",content:"⏸️ Recording paused",timestamp:new Date,confidence:1};m(te=>[...te,U])}else{if(console.log("🟢 Resuming transcription..."),N.captureSystemAudio)if(jo.checkStreamHealth())jo.resumeRecordingWithCallback(te=>{In(te.text,!0)},te=>{console.error("Failed to resume enhanced recording:",te),g(`Failed to resume recording: ${te}`),i(!0)});else{console.warn("⚠️ Audio streams are not healthy, restarting service..."),await _n(),setTimeout(async()=>{try{await ri();const te={id:Date.now().toString(),type:"speech",speaker:"System",content:"🔄 Recording restarted (audio streams recovered)",timestamp:new Date,confidence:1};m(se=>[...se,te])}catch(te){g(`Failed to restart recording after pause: ${te}`),i(!0)}},100);return}else vm.resumeRecording(U=>{In(U.text,!0)},U=>{console.error("Failed to resume recording:",U),g(`Failed to resume recording: ${U}`),i(!0)});if(N.captureSystemAudio&&jo.checkStreamHealth()){const U={id:Date.now().toString(),type:"speech",speaker:"System",content:"▶️ Recording resumed",timestamp:new Date,confidence:1};m(te=>[...te,U])}else if(!N.captureSystemAudio){const U={id:Date.now().toString(),type:"speech",speaker:"System",content:"▶️ Recording resumed",timestamp:new Date,confidence:1};m(te=>[...te,U])}}}catch(U){console.error("Error during pause/resume:",U),g(`Failed to ${W?"pause":"resume"} recording: ${U}`),i(!W)}},ln=async W=>{if(t)try{k(W),T({captureMicrophone:W==="microphone"||W==="both",captureSystemAudio:W==="speaker"||W==="both"}),await _n(),setTimeout(async()=>{try{await ri();const te={id:Date.now().toString(),type:"speech",speaker:"System",content:`🔄 Audio mode switched to: ${W==="microphone"?"Microphone Only":W==="speaker"?"Speaker/System Audio Only":"Both Microphone and Speaker"}${W==="speaker"?" (Note: Azure Speech works best with microphone access for better accuracy)":""}`,timestamp:new Date,confidence:1};m(se=>[...se,te])}catch(te){g(`Failed to restart with new audio mode: ${te}`),console.error("Audio mode switch error:",te),k(N.captureMicrophone&&N.captureSystemAudio?"both":N.captureSystemAudio?"speaker":"microphone")}},500)}catch(U){g(`Failed to switch audio mode: ${U}`),console.error("Audio mode switch error:",U)}};I.useEffect(()=>()=>{t&&_n()},[t]);const lr=W=>W.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),zn=()=>{if(d.length===0){alert("No transcript data to export");return}const W={title:`Transcript ${new Date().toLocaleDateString()}`,content:d.map(U=>`[${lr(U.timestamp)}] ${U.content}`).join(`
`),timestamp:new Date().toISOString(),duration:ni()};Ld(W)},Fr=()=>{if(d.length===0){alert("No transcript data to export");return}const W={title:`Transcript ${new Date().toLocaleDateString()}`,content:d.map(U=>`[${lr(U.timestamp)}] ${U.content}`).join(`
`),timestamp:new Date().toISOString(),duration:ni()};Vk(W)},Dt=async()=>{if(d.length===0){alert("No transcript data to export");return}const W={title:`Transcript ${new Date().toLocaleDateString()}`,content:d.map(U=>`[${lr(U.timestamp)}] ${U.content}`).join(`
`),timestamp:new Date().toISOString(),duration:ni()};await Kk(W)},Gi=async()=>{if(d.length===0){alert("No transcript data to save");return}try{const W=new Date,U=C||new Date,te=W.getTime()-U.getTime(),se=Math.round(te/6e4),Te=Math.floor(se/60),Le=se%60,Ze=Te>0?`${Te}h ${Le}m`:`${Le}m`,Fe=d.map(It=>({id:It.id,type:It.type==="answer"?"ai_response":It.type==="question"?"question":It.type==="ai_request"?"ai_response":"speech",content:It.content,timestamp:It.timestamp.toISOString(),confidence:It.confidence,speaker:It.speaker})),et=`Saved Transcript ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,Tt=await S6({title:et,date:new Date().toISOString().split("T")[0],startTime:C?.toLocaleTimeString()||new Date().toLocaleTimeString(),endTime:W.toLocaleTimeString(),duration:Ze,type:"other",transcript:Fe,summary:d.length>0?`Saved session with ${d.length} transcript items`:"Empty session"});Tt&&(alert(`Transcript saved successfully as "${Tt.title}"`),console.log("Transcript saved as new session:",Tt.title))}catch(W){console.error("Error saving transcript:",W),alert("Failed to save transcript. Please try again.")}},ni=()=>{if(d.length===0)return"0m";const W=d[0]?.timestamp,U=d[d.length-1]?.timestamp;if(!W||!U)return"0m";const te=U.getTime()-W.getTime(),se=Math.floor(te/6e4),Te=Math.floor(te%6e4/1e3);return se===0?`${Te}s`:Te===0?`${se}m`:`${se}m ${Te}s`};if(h){const W=h.includes("System audio")||h.includes("getDisplayMedia");return y.jsxs("div",{className:"min-h-screen bg-[#0F172A]",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-blue-500/20 via-blue-400/10 to-transparent blur-xl -z-10"}),y.jsx("header",{className:"flex items-center justify-between px-8 py-6 mx-6 mt-0 bg-gradient-to-br from-[#1E293B]/90 via-[#334155]/80 to-[#475569]/70 backdrop-blur-xl border border-[#475569]/50 rounded-b-3xl shadow-2xl shadow-blue-500/20 sticky top-0 z-10",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(qe,{variant:"ghost",size:"sm",onClick:()=>e("dashboard"),className:"text-[#F8FAFC] hover:text-[#F8FAFC] hover:bg-[#334155]",children:[y.jsx(xd,{className:"w-4 h-4 mr-2"}),"Back"]}),y.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("dashboard"),children:y.jsx("img",{src:"/src/assets/Logo.svg",alt:"Choom.AI",className:"h-16 w-auto hover:opacity-80 transition-opacity duration-200",title:"Go to Home"})})]})})]}),y.jsx("main",{className:"p-6 max-w-7xl mx-auto",children:y.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:y.jsxs("div",{className:"text-center max-w-md p-8 bg-[#1E293B] rounded-lg shadow-lg border border-[#334155]",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-red-500/20 rounded-full flex items-center justify-center",children:y.jsx("span",{className:"text-3xl",children:"⚠️"})}),y.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:W?"System Audio Error":"Transcription Error"}),y.jsx("p",{className:"text-md text-[#94A3B8] mb-6",children:h}),W?y.jsxs("div",{className:"text-sm text-[#94A3B8] mb-6 space-y-3",children:[y.jsx("p",{className:"font-semibold text-[#F8FAFC]",children:"To use system audio capture:"}),y.jsxs("ul",{className:"text-left space-y-1 bg-[#0F172A] p-3 rounded border border-[#334155]",children:[y.jsx("li",{children:"• Use Chrome or Edge browser"}),y.jsx("li",{children:'• When prompted, select "Share tab audio" or "Share system audio"'}),y.jsx("li",{children:"• Make sure audio is enabled in the sharing dialog"}),y.jsx("li",{children:"• Try microphone-only mode as an alternative"})]})]}):y.jsx("p",{className:"text-sm text-[#94A3B8] mb-6",children:"Please check your speech service configuration."}),y.jsxs("div",{className:"flex justify-center gap-3",children:[y.jsx(qe,{onClick:()=>{g(null),r(!1),W&&T(U=>({...U,captureSystemAudio:!1}))},className:"bg-[#6366F1] hover:bg-[#5B5CF6] text-white",children:W?"Try Microphone Only":"Try Again"}),y.jsx(qe,{onClick:()=>e("dashboard"),variant:"outline",className:"border-[#334155] text-[#F8FAFC] hover:bg-[#334155]",children:"Back to Home"})]})]})})})]})}return t?y.jsxs("div",{className:"min-h-screen bg-[#0F172A] flex flex-col",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-blue-500/20 via-blue-400/10 to-transparent blur-xl -z-10"}),y.jsxs("header",{className:"flex items-center justify-between px-8 py-6 mx-6 mt-0 bg-gradient-to-br from-[#1E293B]/90 via-[#334155]/80 to-[#475569]/70 backdrop-blur-xl border border-[#475569]/50 rounded-b-3xl shadow-2xl shadow-blue-500/20 sticky top-0 z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(qe,{variant:"ghost",size:"sm",onClick:()=>e("dashboard"),className:"text-[#F8FAFC] hover:text-[#F8FAFC] hover:bg-[#334155]",children:[y.jsx(xd,{className:"w-4 h-4 mr-1"}),"Back"]}),y.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("dashboard"),children:y.jsx("img",{src:"/src/assets/Logo.svg",alt:"Choom.AI",className:"h-16 w-auto hover:opacity-80 transition-opacity duration-200",title:"Go to Home"})}),y.jsxs(yn,{className:n?"bg-yellow-500 text-white":"bg-green-500 text-white",children:[y.jsx("div",{className:`w-2 h-2 bg-white rounded-full mr-2 ${n?"":"animate-pulse"}`}),n?"Paused":"Live"]}),y.jsxs("div",{className:"flex items-center gap-1",children:[N.captureMicrophone&&y.jsxs(yn,{variant:"outline",className:"bg-[#6366F1]/20 border-[#6366F1] text-[#6366F1]",children:[y.jsx(Or,{className:"w-3 h-3 mr-1"}),"Mic"]}),N.captureSystemAudio&&y.jsxs(yn,{variant:"outline",className:"bg-purple-500/20 border-purple-500 text-purple-300",children:[y.jsx("span",{className:"text-xs mr-1",children:"🔊"}),"System"]})]}),y.jsxs("div",{className:"flex items-center gap-1 bg-[#1E293B]/50 rounded-lg p-1 border border-[#334155]",children:[y.jsxs(qe,{size:"sm",variant:A==="microphone"?"default":"ghost",onClick:()=>ln("microphone"),className:`h-7 px-2 text-xs ${A==="microphone"?"bg-[#6366F1] text-white hover:bg-[#5B5EF0]":"text-[#94A3B8] hover:text-white hover:bg-[#334155]"}`,disabled:n,title:"Switch to microphone only",children:[y.jsx(Or,{className:"w-3 h-3 mr-1"}),"Mic"]}),y.jsxs(qe,{size:"sm",variant:A==="speaker"?"default":"ghost",onClick:()=>ln("speaker"),className:`h-7 px-2 text-xs ${A==="speaker"?"bg-purple-500 text-white hover:bg-purple-600":"text-[#94A3B8] hover:text-white hover:bg-[#334155]"}`,disabled:n||!M(),title:M()?"Switch to speaker/system audio only (Note: May have limited accuracy compared to microphone)":"System audio not supported in this browser",children:[y.jsx("span",{className:"text-xs mr-1",children:"🔊"}),"Speaker"]}),y.jsxs(qe,{size:"sm",variant:A==="both"?"default":"ghost",onClick:()=>ln("both"),className:`h-7 px-2 text-xs ${A==="both"?"bg-green-500 text-white hover:bg-green-600":"text-[#94A3B8] hover:text-white hover:bg-[#334155]"}`,disabled:n||!M(),title:M()?"Use both microphone and speaker audio":"System audio not supported in this browser",children:[y.jsx("span",{className:"text-xs mr-1",children:"🎤🔊"}),"Both"]})]}),y.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-[#1E293B] rounded-md",children:[y.jsx(Td,{className:"w-4 h-4 text-[#94A3B8]"}),y.jsx("span",{className:"text-white font-mono text-sm",children:R})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>ke(!0),disabled:d.length===0,className:`${d.length===0?"border-[#64748B] text-[#64748B] hover:bg-[#1E293B]/50 cursor-not-allowed":"border-[#10B981] bg-[#10B981]/10 text-[#10B981] hover:bg-[#10B981]/20 hover:border-[#059669] shadow-lg"}`,title:d.length===0?"Start speaking to ask questions about the transcript":"Ask GPT-4o a question about what was said",children:[y.jsx(_P,{className:"w-4 h-4 mr-1"}),"Ask AI"]}),y.jsxs(qe,{onClick:so,className:"bg-red-600 hover:bg-red-700 text-white",children:[y.jsx(fL,{className:"w-4 h-4 mr-2"}),"Stop Session"]})]})]})]}),y.jsx("div",{className:"mt-6 mx-6",children:y.jsx("div",{className:"bg-gradient-to-r from-[#334155]/60 via-[#475569]/50 to-[#334155]/60 backdrop-blur-sm rounded-2xl border border-[#64748B]/30 shadow-lg p-4",children:y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[n?y.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#F59E0B]/20 rounded-full border border-[#F59E0B]/30",children:[y.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),y.jsx("span",{className:"text-yellow-300 font-medium",children:"Recording Paused"})]}):y.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#10B981]/20 rounded-full border border-[#10B981]/30",children:[y.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),y.jsx("span",{className:"text-green-300 font-medium",children:"Recording Active"})]}),d.some(W=>W.type==="question")&&y.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#3B82F6]/20 rounded-full border border-[#3B82F6]/30",children:[y.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),y.jsx("span",{className:"text-blue-300 font-medium",children:"AI Questions Detected"})]}),o&&y.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#10B981]/20 rounded-full border border-[#10B981]/30",children:[y.jsxs("div",{className:"flex gap-1",children:[y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce"}),y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),y.jsx("span",{className:"text-[#10B981] font-medium",children:"AI Answering..."})]})]}),y.jsx("div",{className:"px-3 py-1.5 bg-[#0F172A]/50 rounded-full border border-[#64748B]/30",children:y.jsxs("span",{className:"text-[#94A3B8] font-medium",children:["Session Duration: ",R]})})]})})}),y.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-[#0F172A] via-[#1E293B]/20 to-[#0F172A] mt-4",children:y.jsxs("div",{ref:Je,className:"h-full overflow-y-auto px-6 py-4 space-y-4",children:[d.length===0&&!n&&y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-[#94A3B8] py-20",children:[y.jsx("div",{className:"relative",children:y.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-[#6366F1]/20 to-[#8B5CF6]/20 rounded-full flex items-center justify-center mb-6 shadow-2xl",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#6366F1]/30 to-[#8B5CF6]/30 rounded-full animate-pulse"}),y.jsx(Or,{className:"w-12 h-12 text-[#6366F1] animate-pulse relative z-10"})]})}),y.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Listening..."}),y.jsx("p",{className:"text-lg mb-6 max-w-md",children:"Start speaking and your words will appear here in real-time."}),y.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-[#1E293B]/50 rounded-full border border-[#334155]",children:[y.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),y.jsx("span",{className:"text-green-400 font-medium",children:"Recording Active"})]})]}),d.length===0&&n&&y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-[#94A3B8] py-20",children:[y.jsx("div",{className:"relative",children:y.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-[#F59E0B]/20 to-[#EAB308]/20 rounded-full flex items-center justify-center mb-6 shadow-2xl",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#F59E0B]/30 to-[#EAB308]/30 rounded-full"}),y.jsx(zP,{className:"w-12 h-12 text-[#F59E0B] relative z-10"})]})}),y.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Paused"}),y.jsx("p",{children:'Press "Resume Mic" to continue transcription.'}),y.jsxs("div",{className:"flex items-center gap-2 mt-4 text-sm",children:[y.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),y.jsx("span",{className:"text-yellow-400",children:"Recording Paused"})]})]}),wt.map(W=>{if(W.length>1&&W.every(U=>U.type==="speech"&&U.speaker===W[0].speaker)){const U=W[0],te=`${U.timestamp.getHours()}:${U.timestamp.getMinutes().toString().padStart(2,"0")}`,se=`group-${U.id}`;return y.jsx("div",{className:"space-y-3",children:y.jsx("div",{className:"group relative",children:y.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gradient-to-r from-[#1E293B]/80 to-[#334155]/60 backdrop-blur-sm rounded-xl border border-[#334155]/50 hover:border-[#6366F1]/30 transition-all duration-200 shadow-lg hover:shadow-xl",children:[y.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#6366F1] to-[#8B5CF6] rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0 shadow-lg",children:U.speaker?.charAt(0)||"P"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsxs("span",{className:"font-semibold text-[#F8FAFC] text-sm",children:[U.speaker,":"]}),y.jsx("span",{className:"text-xs text-[#94A3B8] bg-[#0F172A]/50 px-2 py-1 rounded-full",children:te})]}),y.jsx("div",{className:"space-y-1",children:W.map(Te=>y.jsxs("div",{className:"group/item",children:[y.jsxs("div",{className:"cursor-pointer p-2 rounded-lg hover:bg-[#0F172A]/30 transition-colors flex items-center justify-between",onClick:Le=>{Le.stopPropagation(),jr(Te.id)},children:[y.jsx("p",{className:"text-[#F8FAFC] leading-relaxed text-base flex-1",children:Te.content}),y.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover/item:opacity-100 transition-opacity ml-2",children:y.jsx(Fo,{className:"w-3 h-3 text-[#6366F1]"})})]}),L===Te.id&&y.jsxs("div",{className:"ml-4 mt-2 mb-3 space-y-3 bg-[#0F172A]/20 p-3 rounded-lg border border-[#334155]/30",children:[Te.inlineChatMessages?.map(Le=>y.jsx("div",{className:`p-3 rounded-lg ${Le.type==="user_question"?"bg-[#6366F1]/10 border border-[#6366F1]/20":"bg-[#10B981]/10 border border-[#10B981]/20"}`,children:y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${Le.type==="user_question"?"bg-[#6366F1]":"bg-[#10B981]"}`,children:Le.type==="user_question"?y.jsx("span",{className:"text-white text-xs",children:"Q"}):y.jsx(kr,{className:"w-3 h-3 text-white"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`text-xs font-medium ${Le.type==="user_question"?"text-[#6366F1]":"text-[#10B981]"}`,children:Le.type==="user_question"?"You asked:":"AI responded:"}),y.jsx("span",{className:"text-xs text-[#94A3B8]",children:lr(Le.timestamp)}),Le.isGenerating&&y.jsxs("div",{className:"flex gap-1",children:[y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce"}),y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}),y.jsx("p",{className:"text-[#F8FAFC] text-sm leading-relaxed",children:Le.content})]})]})},Le.id)),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"Ask AI about this specific statement...",value:G[Te.id]||"",onChange:Le=>D(Ze=>({...Ze,[Te.id]:Le.target.value})),onKeyPress:Le=>{Le.key==="Enter"&&cr(Te.id)},className:"flex-1 px-3 py-2 bg-[#0F172A] border border-[#334155] rounded-lg text-[#F8FAFC] text-sm placeholder-[#64748B] focus:border-[#6366F1] focus:outline-none"}),y.jsx(qe,{onClick:()=>cr(Te.id),disabled:!G[Te.id]?.trim()||$.has(Te.id),size:"sm",className:"bg-[#6366F1] hover:bg-[#5B5CF6] text-white px-3",children:$.has(Te.id)?y.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):y.jsx(Sm,{className:"w-4 h-4"})})]})]})]},Te.id))})]})]})})},se)}else return W.map(U=>y.jsxs("div",{className:"space-y-3",children:[U.type==="speech"&&y.jsxs("div",{className:"group relative",children:[y.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gradient-to-r from-[#1E293B]/80 to-[#334155]/60 backdrop-blur-sm rounded-xl border border-[#334155]/50 hover:border-[#6366F1]/30 transition-all duration-200 shadow-lg hover:shadow-xl cursor-pointer",onClick:()=>jr(U.id),children:[y.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#6366F1] to-[#8B5CF6] rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0 shadow-lg",children:U.speaker?.charAt(0)||"P"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsxs("span",{className:"font-semibold text-[#F8FAFC] text-sm",children:[U.speaker,":"]}),y.jsx("span",{className:"text-xs text-[#94A3B8] bg-[#0F172A]/50 px-2 py-1 rounded-full",children:lr(U.timestamp)})]}),y.jsx("p",{className:"text-[#F8FAFC] leading-relaxed text-base",children:U.content})]}),y.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx(Fo,{className:"w-4 h-4 text-[#6366F1]"}),y.jsx("span",{className:"text-xs text-[#6366F1]",children:"Ask AI"}),L===U.id?y.jsx(_y,{className:"w-4 h-4 text-[#6366F1]"}):y.jsx(Hm,{className:"w-4 h-4 text-[#6366F1]"})]})]}),L===U.id&&y.jsxs("div",{className:"ml-14 mt-3 space-y-3",children:[U.inlineChatMessages?.map(te=>y.jsx("div",{className:`p-3 rounded-lg ${te.type==="user_question"?"bg-[#6366F1]/10 border border-[#6366F1]/20 ml-8":"bg-[#10B981]/10 border border-[#10B981]/20"}`,children:y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${te.type==="user_question"?"bg-[#6366F1]":"bg-[#10B981]"}`,children:te.type==="user_question"?y.jsx("span",{className:"text-white text-xs",children:"Q"}):y.jsx(kr,{className:"w-3 h-3 text-white"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`text-xs font-medium ${te.type==="user_question"?"text-[#6366F1]":"text-[#10B981]"}`,children:te.type==="user_question"?"You asked:":"AI responded:"}),y.jsx("span",{className:"text-xs text-[#94A3B8]",children:lr(te.timestamp)}),te.isGenerating&&y.jsxs("div",{className:"flex gap-1",children:[y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce"}),y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}),y.jsx("p",{className:"text-[#F8FAFC] text-sm leading-relaxed",children:te.content})]})]})},te.id)),y.jsxs("div",{className:"flex gap-2 ml-8",children:[y.jsx("input",{type:"text",placeholder:"Ask AI about this statement...",value:G[U.id]||"",onChange:te=>D(se=>({...se,[U.id]:te.target.value})),onKeyPress:te=>{te.key==="Enter"&&cr(U.id)},className:"flex-1 px-3 py-2 bg-[#0F172A] border border-[#334155] rounded-lg text-[#F8FAFC] text-sm placeholder-[#64748B] focus:border-[#6366F1] focus:outline-none"}),y.jsx(qe,{onClick:()=>cr(U.id),disabled:!G[U.id]?.trim()||$.has(U.id),size:"sm",className:"bg-[#6366F1] hover:bg-[#5B5CF6] text-white px-3",children:$.has(U.id)?y.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):y.jsx(Sm,{className:"w-4 h-4"})})]})]})]}),U.type==="question"&&y.jsx("div",{className:"bg-gradient-to-r from-[#1E3A8A]/20 to-[#3B82F6]/10 border border-[#3B82F6]/30 rounded-xl p-5 ml-8 shadow-lg backdrop-blur-sm",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#3B82F6] to-[#1D4ED8] rounded-full flex items-center justify-center flex-shrink-0 shadow-md",children:y.jsx(_P,{className:"w-4 h-4 text-white"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"font-semibold text-[#60A5FA] text-sm",children:"Question Detected:"}),y.jsx("span",{className:"text-xs text-[#94A3B8] bg-[#0F172A]/50 px-2 py-1 rounded-full",children:lr(U.timestamp)})]}),y.jsx("p",{className:"text-[#F8FAFC] leading-relaxed",children:U.content})]})]})}),U.type==="answer"&&y.jsx("div",{className:"bg-gradient-to-r from-[#0F172A]/90 to-[#1E293B]/80 border border-[#10B981]/30 rounded-xl p-5 ml-8 shadow-xl backdrop-blur-sm",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#10B981] to-[#059669] rounded-full flex items-center justify-center flex-shrink-0 shadow-lg",children:y.jsx(kr,{className:"w-4 h-4 text-white"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"font-semibold text-[#10B981] text-sm",children:"AI Answer:"}),y.jsx("span",{className:"text-xs text-[#94A3B8] bg-[#0F172A]/50 px-2 py-1 rounded-full",children:lr(U.timestamp)})]}),y.jsx("p",{className:"text-[#F8FAFC] leading-relaxed",children:U.content})]})]})}),U.type==="ai_request"&&y.jsx("div",{className:"group relative",children:y.jsxs("div",{className:"flex items-start gap-4 p-5 bg-gradient-to-r from-[#6366F1]/10 to-[#8B5CF6]/10 backdrop-blur-sm rounded-xl border border-[#6366F1]/30 shadow-lg",children:[y.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#6366F1] to-[#8B5CF6] rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0 shadow-lg",children:y.jsx(kr,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsxs("span",{className:"font-semibold text-[#F8FAFC] text-sm",children:[U.speaker," (asked AI):"]}),y.jsx("span",{className:"text-xs text-[#94A3B8] bg-[#0F172A]/50 px-2 py-1 rounded-full",children:lr(U.timestamp)}),y.jsx("span",{className:"text-xs bg-[#6366F1]/20 text-[#6366F1] px-2 py-1 rounded-full",children:"AI Request"})]}),y.jsx("p",{className:"text-[#F8FAFC] leading-relaxed text-base",children:U.content})]})]})})]},U.id))}),o&&y.jsx(_i,{className:"bg-gradient-to-r from-[#10B981]/10 via-[#059669]/10 to-[#047857]/10 border-[#10B981] ml-8 shadow-xl backdrop-blur-sm",children:y.jsx(zi,{className:"p-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#10B981] to-[#059669] rounded-full flex items-center justify-center flex-shrink-0 shadow-lg",children:y.jsx(kr,{className:"w-4 h-4 text-white animate-pulse"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"font-semibold text-[#10B981]",children:"GPT-4o is thinking..."}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx("div",{className:"w-2 h-2 bg-[#10B981] rounded-full animate-bounce"}),y.jsx("div",{className:"w-2 h-2 bg-[#10B981] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),y.jsx("div",{className:"w-2 h-2 bg-[#10B981] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}),y.jsx("p",{className:"text-[#94A3B8] text-sm mt-1",children:"Analyzing your question and generating a response..."})]})]})})})]})}),y.jsx(rT,{open:K,onOpenChange:ue,children:y.jsxs(nT,{className:"bg-[#1E293B] border-[#334155] text-white max-w-2xl",children:[y.jsxs(iT,{children:[y.jsxs(oT,{className:"flex items-center gap-2",children:[y.jsx(kr,{className:"w-5 h-5 text-[#10B981]"}),"Ask GPT-4o for Clarification"]}),y.jsx(aT,{className:"text-[#94A3B8]",children:"Ask GPT-4o a question about the selected text to get more details or clarification."})]}),y.jsxs("div",{className:"my-4",children:[y.jsx("p",{className:"text-sm font-semibold mb-2 text-[#F8FAFC]",children:"Selected Text:"}),y.jsxs("blockquote",{className:"border-l-4 border-[#10B981] pl-4 py-2 bg-[#0F172A]/50 rounded-r italic text-[#F8FAFC]",children:['"',V?.content,'"']})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-[#F8FAFC]",children:"Your Question:"}),y.jsx(cT,{placeholder:"e.g., 'Explain this in simpler terms', 'What does this mean?', 'Can you elaborate on this?'",value:we,onChange:W=>H(W.target.value),className:"bg-[#0F172A] border-[#334155] text-white resize-none h-20",rows:3})]}),ie&&y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{className:"text-sm font-medium text-[#F8FAFC] mb-2 block",children:"GPT-4o Response:"}),y.jsx("div",{className:"p-4 bg-[#0F172A]/50 rounded-lg border border-[#10B981]/20 max-h-64 overflow-y-auto",children:y.jsx("p",{className:"text-sm leading-relaxed text-[#F8FAFC]",children:ie})})]}),y.jsxs(sT,{children:[y.jsx(qe,{variant:"outline",onClick:()=>{ue(!1),H(""),oe("")},className:"border-[#334155] text-[#F8FAFC] hover:bg-[#334155]",children:"Cancel"}),y.jsx(qe,{onClick:nr,disabled:fe||!we.trim(),className:"bg-[#10B981] hover:bg-[#059669]",children:fe?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"GPT-4o Thinking..."]}):y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(kr,{className:"w-4 h-4"}),"Ask GPT-4o"]})})]})]})}),y.jsx(rT,{open:Ce,onOpenChange:ke,children:y.jsxs(nT,{className:"bg-[#1E293B] border-[#334155] text-white max-w-2xl",children:[y.jsxs(iT,{children:[y.jsxs(oT,{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-[#10B981] to-[#059669] rounded-full flex items-center justify-center",children:y.jsx(kr,{className:"w-3 h-3 text-white"})}),"Ask GPT-4o about the conversation"]}),y.jsx(aT,{className:"text-[#94A3B8]",children:"Ask GPT-4o a question about what was recently discussed or request clarification on any terms mentioned."})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-[#F8FAFC] mb-2 block",children:"Your Question for GPT-4o"}),y.jsx(cT,{placeholder:"e.g., 'What did I mean when I said...?', 'Can you explain the term...?', 'Summarize what we discussed about...', 'What are the key points from our conversation?'",value:Oe,onChange:W=>X(W.target.value),className:"bg-[#0F172A] border-[#334155] text-white resize-none h-24",rows:4})]}),d.length>0&&y.jsxs("div",{className:"text-xs text-[#94A3B8]",children:[y.jsx("p",{className:"font-medium mb-2 text-[#F8FAFC]",children:"Recent context (last few items):"}),y.jsx("div",{className:"bg-[#0F172A]/50 p-3 rounded border border-[#334155]/50 max-h-24 overflow-y-auto",children:d.slice(-3).map((W,U)=>y.jsxs("p",{className:"mb-1 text-[#94A3B8]",children:[y.jsxs("span",{className:"font-medium text-[#F8FAFC]",children:[W.speaker,":"]})," ",W.content.substring(0,120),W.content.length>120&&"..."]},U))})]}),Ne&&y.jsxs("div",{children:[y.jsxs("label",{className:"text-sm font-medium text-[#F8FAFC] mb-2 flex items-center gap-2",children:[y.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-[#10B981] to-[#059669] rounded-full flex items-center justify-center",children:y.jsx(kr,{className:"w-2 h-2 text-white"})}),"GPT-4o Response"]}),y.jsx("div",{className:"bg-[#0F172A]/50 p-4 rounded-lg border border-[#10B981]/20 max-h-64 overflow-y-auto",children:y.jsx("p",{className:"text-sm leading-relaxed text-[#F8FAFC]",children:Ne})})]})]}),y.jsxs(sT,{children:[y.jsx(qe,{variant:"outline",onClick:()=>{ke(!1),X(""),Ae("")},className:"border-[#334155] text-[#F8FAFC] hover:bg-[#334155]",children:"Cancel"}),y.jsx(qe,{onClick:an,disabled:De||!Oe.trim(),className:"bg-[#10B981] hover:bg-[#059669]",children:De?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"GPT-4o Thinking..."]}):y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Sm,{className:"w-4 h-4"}),"Ask GPT-4o"]})})]})]})}),y.jsxs("footer",{className:"relative",children:[y.jsx("div",{className:"absolute inset-x-0 -top-6 h-12 bg-gradient-to-t from-blue-500/10 via-blue-400/5 to-transparent blur-sm"}),y.jsx("div",{className:"bg-gradient-to-r from-[#1E293B]/95 via-[#334155]/90 to-[#1E293B]/95 backdrop-blur-xl border-t border-[#475569]/50 shadow-2xl",children:y.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"flex items-center gap-8",children:y.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-[#0F172A]/50 rounded-full border border-[#334155]",children:[y.jsx("span",{className:"text-sm text-[#F8FAFC] font-medium",children:"Voice Answer"}),y.jsx(Uv,{checked:a,onCheckedChange:u,className:"data-[state=checked]:bg-[#6366F1]"})]})}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(qe,{onClick:Ki,variant:n?"default":"outline",size:"lg",className:n?"bg-gradient-to-r from-[#10B981] to-[#059669] hover:from-[#059669] hover:to-[#047857] text-white shadow-lg":"border-[#EF4444] bg-[#EF4444]/10 text-[#EF4444] hover:bg-[#EF4444] hover:text-white",children:n?y.jsxs(y.Fragment,{children:[y.jsx(Or,{className:"w-5 h-5 mr-2"}),"Resume Mic"]}):y.jsxs(y.Fragment,{children:[y.jsx(zP,{className:"w-5 h-5 mr-2"}),"Pause Mic"]})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs(qe,{onClick:Gi,variant:"outline",size:"sm",className:`${d.length===0?"text-[#64748B] bg-gray-600/20 hover:bg-gray-600/20 border-gray-600 cursor-not-allowed":"text-[#F8FAFC] bg-blue-600 hover:bg-blue-700 border-blue-500"}`,disabled:d.length===0,title:d.length===0?"Start speaking to save transcript":"Save transcript to sessions",children:[y.jsx(MP,{className:"w-4 h-4 mr-1"}),"Save"]}),y.jsxs(qe,{onClick:zn,variant:"outline",size:"sm",className:`${d.length===0?"border-[#64748B] text-[#64748B] hover:bg-[#1E293B]/50 cursor-not-allowed":"border-[#334155] text-[#F8FAFC] hover:bg-[#1E293B]"}`,disabled:d.length===0,title:d.length===0?"Start speaking to export transcript":"Export as TXT file",children:[y.jsx(qs,{className:"w-4 h-4 mr-1"}),"TXT"]}),y.jsxs(qe,{onClick:Fr,variant:"outline",size:"sm",className:`${d.length===0?"border-[#64748B] text-[#64748B] hover:bg-[#1E293B]/50 cursor-not-allowed":"border-[#334155] text-[#F8FAFC] hover:bg-[#1E293B]"}`,disabled:d.length===0,title:d.length===0?"Start speaking to export transcript":"Export as PDF file",children:[y.jsx(qs,{className:"w-4 h-4 mr-1"}),"PDF"]}),y.jsxs(qe,{onClick:Dt,variant:"outline",size:"sm",className:`${d.length===0?"border-[#64748B] text-[#64748B] hover:bg-[#1E293B]/50 cursor-not-allowed":"border-[#334155] text-[#F8FAFC] hover:bg-[#1E293B]"}`,disabled:d.length===0,title:d.length===0?"Start speaking to export transcript":"Export as Word document",children:[y.jsx(qs,{className:"w-4 h-4 mr-1"}),"Word"]})]})]})]})})})]})]}):y.jsxs("div",{className:"min-h-screen bg-[#0F172A]",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-blue-500/20 via-blue-400/10 to-transparent blur-xl -z-10"}),y.jsx("header",{className:"flex items-center justify-between px-8 py-6 mx-6 mt-0 bg-gradient-to-br from-[#1E293B]/90 via-[#334155]/80 to-[#475569]/70 backdrop-blur-xl border border-[#475569]/50 rounded-b-3xl shadow-2xl shadow-blue-500/20 sticky top-0 z-10",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(qe,{variant:"ghost",size:"sm",onClick:()=>e("dashboard"),className:"text-[#F8FAFC] hover:text-[#F8FAFC] hover:bg-[#334155]",children:[y.jsx(xd,{className:"w-4 h-4 mr-2"}),"Back"]}),y.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("dashboard"),children:y.jsx("img",{src:"/src/assets/Logo.svg",alt:"Choom.AI",className:"h-16 w-auto hover:opacity-80 transition-opacity duration-200",title:"Go to Home"})})]})})]}),y.jsx("main",{className:"p-6 max-w-7xl mx-auto",children:y.jsxs("div",{className:"text-center mb-12 mt-16",children:[y.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-8",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#6366F1]/30 via-[#5B5CF6]/20 to-[#4F46E5]/10 rounded-full animate-pulse",style:{animationDuration:"3s"}}),y.jsx("div",{className:"absolute inset-2 bg-gradient-to-br from-[#6366F1]/40 via-[#5B5CF6]/30 to-[#4F46E5]/20 rounded-full animate-pulse",style:{animationDelay:"0.5s",animationDuration:"3s"}}),y.jsx("div",{className:"absolute inset-4 bg-gradient-to-br from-[#6366F1] via-[#5B5CF6] to-[#4F46E5] rounded-full flex items-center justify-center shadow-2xl animate-pulse",style:{animationDelay:"1s",animationDuration:"3s"},children:y.jsx(Or,{className:"w-20 h-20 text-white drop-shadow-lg"})}),y.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-[#3B82F6] rounded-full animate-ping",style:{animationDuration:"2s"}}),y.jsx("div",{className:"absolute -bottom-2 -left-2 w-3 h-3 bg-[#1D4ED8] rounded-full animate-ping",style:{animationDelay:"1s",animationDuration:"2s"}}),y.jsx("div",{className:"absolute top-1/2 -right-3 w-2 h-2 bg-[#60A5FA] rounded-full animate-ping",style:{animationDelay:"1.5s",animationDuration:"2s"}})]}),y.jsx("h2",{className:"text-4xl font-bold text-[#F8FAFC] mb-4",children:"Ready to Transcribe"}),y.jsx("p",{className:"text-lg text-[#94A3B8] mb-12 max-w-2xl mx-auto",children:"Press the button to start your live transcription session."}),y.jsx("div",{className:"max-w-md mx-auto mb-8",children:y.jsx(_i,{className:"bg-[#1E293B] border-[#334155]",children:y.jsxs(zi,{className:"p-6",children:[y.jsx("h3",{className:"text-[#F8FAFC] font-semibold mb-4 text-center",children:"Audio Sources"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#0F172A] rounded-lg border border-[#334155]",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Or,{className:"w-5 h-5 text-[#6366F1]"}),y.jsx("span",{className:"text-[#F8FAFC]",children:"Microphone"})]}),y.jsx(Uv,{checked:N.captureMicrophone,onCheckedChange:W=>T(U=>({...U,captureMicrophone:W}))})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#0F172A] rounded-lg border border-[#334155]",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-[#6366F1] text-xl",children:"🔊"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-[#F8FAFC]",children:"System Audio"}),!M()&&y.jsx(yn,{variant:"outline",className:"text-xs border-yellow-500 text-yellow-400",children:"Not supported"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Uv,{checked:N.captureSystemAudio,disabled:!M(),onCheckedChange:W=>T(U=>({...U,captureSystemAudio:W}))}),N.captureSystemAudio&&M()&&y.jsx(qe,{variant:"outline",size:"sm",onClick:async()=>{try{(await navigator.mediaDevices.getDisplayMedia({video:!1,audio:!0})).getTracks().forEach(U=>U.stop()),alert("✅ System audio test successful! You can now start recording with system audio.")}catch(W){alert(`❌ System audio test failed: ${W}. Please use microphone-only mode.`),T(U=>({...U,captureSystemAudio:!1}))}},className:"text-xs px-2 py-1 h-6 border-[#6366F1] text-[#6366F1] hover:bg-[#6366F1]/20",children:"Test"})]})]})]}),N.captureSystemAudio&&M()&&y.jsx("div",{className:"mt-4 p-3 bg-[#0F172A]/50 rounded-lg border border-[#6366F1]/20",children:y.jsxs("div",{className:"text-xs text-[#94A3B8] space-y-2",children:[y.jsx("p",{className:"text-[#F8FAFC] font-medium",children:"⚠️ System audio capture requires:"}),z().name==="Firefox"?y.jsxs("ul",{className:"text-left space-y-1 ml-4",children:[y.jsx("li",{children:'• Click "Allow" when prompted for screen sharing'}),y.jsx("li",{children:"• Select your screen or application window"}),y.jsxs("li",{children:["•"," ",y.jsx("strong",{children:'Check "Share system audio"'})," ","in the dialog"]}),y.jsx("li",{children:"• Have audio playing (music, videos, etc.)"}),y.jsx("li",{children:"• Note: Firefox may require video sharing enabled"})]}):y.jsxs("ul",{className:"text-left space-y-1 ml-4",children:[y.jsx("li",{children:'• Click "Share your screen" when prompted'}),y.jsx("li",{children:'• Select "Share tab audio" or "Share system audio"'}),y.jsx("li",{children:"• Enable audio in the sharing dialog"}),y.jsx("li",{children:"• Have audio playing (music, videos, etc.)"})]}),y.jsxs("p",{className:"text-[#6366F1] font-medium",children:['💡 Use the "Test" button to check compatibility with'," ",z().name,"."]})]})}),N.captureSystemAudio&&!M()&&y.jsx("div",{className:"mt-4 p-3 bg-yellow-500/10 rounded-lg border border-yellow-500/20",children:y.jsx("p",{className:"text-xs text-yellow-400",children:"System audio is not supported in your current browser. Please use Chrome (74+), Edge (79+), or Firefox (66+) for system audio capture."})})]})})}),y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsxs(qe,{onClick:io,size:"lg",className:"bg-[#10B981] hover:bg-[#059669] text-white px-8 py-3 text-lg",disabled:!N.captureMicrophone&&!N.captureSystemAudio,children:[y.jsx(Or,{className:"w-6 h-6 mr-3"}),"Start Session"]}),!N.captureMicrophone&&!N.captureSystemAudio&&y.jsx("p",{className:"text-sm text-red-400",children:"Please select at least one audio source"}),y.jsxs(qe,{onClick:Gi,variant:"outline",className:"bg-[#3B82F6] hover:bg-[#2563EB] text-white border-[#3B82F6]",disabled:d.length===0,title:"Save transcript to sessions",children:[y.jsx(MP,{className:"w-4 h-4 mr-2"}),"Save Transcript"]})]})]})})]})}function qK({onNavigate:e,sessionId:t}){const[r,n]=I.useState(!1),[i,o]=I.useState(""),[l,a]=I.useState(""),[u,d]=I.useState(null),[m,h]=I.useState(!0),[g,v]=I.useState(null),[x,C]=I.useState({}),[w,R]=I.useState(new Set),[b,N]=I.useState({});I.useEffect(()=>{t&&(async()=>{try{h(!0);const ie=await C6(t);d(ie),ie&&o(ie.title)}catch(ie){console.error("Failed to load session:",ie),d(null)}finally{h(!1)}})()},[t]);const T=async()=>{if(u&&window.confirm("Are you sure you want to delete this session?"))try{await sz(u.id)&&e("sessions")}catch(H){console.error("Failed to delete session:",H),alert("Failed to delete session. Please try again.")}},A=async()=>{if(r){if(u)try{const H=await x6(u.id,{title:i});H&&d(H)}catch(H){console.error("Failed to update session title:",H)}n(!1)}else n(!0)},k=H=>{v(g===H?null:H)},M=async H=>{const ie=x[H]?.trim();if(!ie||!u)return;const oe=u.transcript.find(L=>L.id===H);if(!oe)return;const fe={id:Date.now().toString(),type:"user_question",content:ie,timestamp:new Date};N(L=>({...L,[H]:[...L[H]||[],fe]})),C(L=>({...L,[H]:""})),R(L=>new Set(L).add(H));const ae=`Based on the following statement from a saved transcript, please answer the user's question:

Original Statement: "${oe.content}"
Speaker: ${oe.speaker||"Unknown"}
Timestamp: ${new Date(oe.timestamp).toLocaleTimeString()}

User's Question: "${ie}"

Please provide a helpful and relevant answer based on the context of what was said.`;try{let L="";await bm(ae,ee=>{L+=ee,N(G=>{const D=G[H]||[],$=D[D.length-1];return $&&$.type==="ai_response"&&$.isGenerating?{...G,[H]:[...D.slice(0,-1),{...$,content:L}]}:{...G,[H]:[...D,{id:(Date.now()+1).toString(),type:"ai_response",content:L,timestamp:new Date,isGenerating:!0}]}})},()=>{N(ee=>({...ee,[H]:(ee[H]||[]).map(G=>G.isGenerating?{...G,isGenerating:!1}:G)})),R(ee=>{const G=new Set(ee);return G.delete(H),G})},ee=>{console.error("Error generating inline chat response:",ee),N(G=>({...G,[H]:[...G[H]||[],{id:(Date.now()+2).toString(),type:"ai_response",content:"Sorry, I encountered an error while generating the response.",timestamp:new Date}]})),R(G=>{const D=new Set(G);return D.delete(H),D})})}catch(L){console.error("Error in inline chat:",L),R(ee=>{const G=new Set(ee);return G.delete(H),G})}},z=async H=>{if(!u)return;const ie={title:u.title,content:u.transcript.map(oe=>`[${new Date(oe.timestamp).toLocaleTimeString()}] ${oe.speaker||"Speaker"}: ${oe.content}`).join(`
`),timestamp:new Date().toISOString(),duration:u.duration};try{switch(H){case"txt":await Ld(ie);break;case"pdf":await Vk(ie);break;case"docx":await Kk(ie);break}}catch(oe){console.error(`Failed to export as ${H}:`,oe),alert(`Failed to export as ${H.toUpperCase()}. Please try again.`)}};if(m)return y.jsx("div",{className:"min-h-screen bg-[#0F172A] flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),y.jsx("p",{className:"text-[#F8FAFC]",children:"Loading session..."})]})});if(!u)return y.jsx("div",{className:"min-h-screen bg-[#0F172A] flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-xl font-semibold text-[#F8FAFC] mb-2",children:"Session not found"}),y.jsx("p",{className:"text-[#94A3B8] mb-4",children:"The session you're looking for doesn't exist or has been deleted."}),y.jsx(qe,{onClick:()=>e("sessions"),children:"Back to Sessions"})]})});const V=u.transcript.filter(H=>H.content.toLowerCase().includes(l.toLowerCase())),K=H=>{try{return new Date(H).toLocaleTimeString()}catch{return H}},ue=H=>{switch(H){case"question":return y.jsx(Fo,{className:"w-4 h-4 text-blue-400"});case"ai_response":return y.jsx(kr,{className:"w-4 h-4 text-green-400"});default:return y.jsx(yL,{className:"w-4 h-4 text-gray-400"})}},we=H=>{switch(H){case"question":return y.jsx(yn,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:"Question"});case"ai_response":return y.jsx(yn,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"AI Response"});default:return y.jsx(yn,{className:"bg-gray-500/20 text-gray-400 border-gray-500/30",children:"Speech"})}};return y.jsxs("div",{className:"min-h-screen bg-[#0F172A]",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-x-0 top-0 h-24 bg-gradient-to-b from-blue-500/20 via-blue-400/10 to-transparent blur-xl -z-10"}),y.jsxs("header",{className:"flex items-center justify-between px-8 py-6 mx-6 mt-0 bg-gradient-to-br from-[#1E293B]/90 via-[#334155]/80 to-[#475569]/70 backdrop-blur-xl border border-[#475569]/50 rounded-b-3xl shadow-2xl shadow-blue-500/20 sticky top-0 z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(qe,{variant:"ghost",size:"sm",onClick:()=>e("sessions"),className:"text-[#F8FAFC] hover:text-[#F8FAFC] hover:bg-[#334155]",children:[y.jsx(xd,{className:"w-4 h-4 mr-2"}),"Back"]}),y.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("dashboard"),children:y.jsx("img",{src:"/src/assets/Logo.svg",alt:"Choom.AI",className:"h-16 w-auto hover:opacity-80 transition-opacity duration-200",title:"Go to Home"})}),y.jsxs("div",{className:"ml-4",children:[y.jsx("h1",{className:"text-2xl font-bold text-[#F8FAFC]",children:"Session Details"}),y.jsx("p",{className:"text-[#94A3B8] text-sm",children:"View and manage your transcription session"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>z("txt"),className:"bg-[#1E293B] border-[#334155] text-[#F8FAFC] hover:bg-[#334155]",children:[y.jsx(qs,{className:"w-4 h-4 mr-2"}),"Export TXT"]}),y.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>z("pdf"),className:"bg-[#1E293B] border-[#334155] text-[#F8FAFC] hover:bg-[#334155]",children:[y.jsx(qs,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),y.jsxs(qe,{variant:"outline",size:"sm",onClick:()=>z("docx"),className:"bg-[#1E293B] border-[#334155] text-[#F8FAFC] hover:bg-[#334155]",children:[y.jsx(qs,{className:"w-4 h-4 mr-2"}),"Export DOCX"]})]})]})]}),y.jsxs("main",{className:"mt-6 p-6 space-y-6",children:[y.jsx(_i,{className:"bg-[#1E293B] border-[#334155]",children:y.jsxs(zi,{className:"p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("div",{className:"flex-1",children:r?y.jsx(ay,{value:i,onChange:H=>o(H.target.value),className:"text-xl font-semibold bg-[#0F172A] border-[#334155] text-[#F8FAFC]",onKeyDown:H=>{H.key==="Enter"&&A()},autoFocus:!0}):y.jsx("h2",{className:"text-xl font-semibold text-[#F8FAFC]",children:u.title})}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(qe,{size:"sm",onClick:A,children:y.jsx(cL,{className:"w-4 h-4"})}),y.jsx(qe,{size:"sm",variant:"destructive",onClick:T,children:y.jsx(zT,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 text-[#94A3B8]",children:[y.jsx(_T,{className:"w-4 h-4"}),y.jsx("span",{children:u.date})]}),y.jsxs("div",{className:"flex items-center gap-2 text-[#94A3B8]",children:[y.jsx(Td,{className:"w-4 h-4"}),y.jsx("span",{children:u.duration})]}),y.jsxs("div",{className:"flex items-center gap-2 text-[#94A3B8]",children:[y.jsx(Fo,{className:"w-4 h-4"}),y.jsxs("span",{children:[u.transcript.length," items"]})]}),y.jsxs("div",{className:"flex items-center gap-2 text-[#94A3B8]",children:[y.jsx(Or,{className:"w-4 h-4"}),y.jsxs("span",{children:[u.wordsCount.toLocaleString()," words"]})]})]}),u.summary&&y.jsxs("div",{className:"mt-4 p-3 bg-[#0F172A] rounded-lg",children:[y.jsx("h3",{className:"font-medium text-[#F8FAFC] mb-2",children:"Summary"}),y.jsx("p",{className:"text-[#94A3B8] text-sm",children:u.summary})]})]})}),y.jsx(_i,{className:"bg-[#1E293B] border-[#334155]",children:y.jsx(zi,{className:"p-4",children:y.jsxs("div",{className:"relative",children:[y.jsx(Gv,{className:"absolute left-3 top-3 h-4 w-4 text-[#94A3B8]"}),y.jsx(ay,{placeholder:"Search transcript...",value:l,onChange:H=>a(H.target.value),className:"pl-10 bg-[#0F172A] border-[#334155] text-[#F8FAFC]"})]})})}),y.jsx(_i,{className:"bg-[#1E293B] border-[#334155]",children:y.jsxs(zi,{className:"p-6",children:[y.jsxs("h3",{className:"text-lg font-semibold text-[#F8FAFC] mb-4",children:["Transcript (",V.length," items)"]}),V.length===0?y.jsxs("div",{className:"text-center py-8",children:[y.jsx(Fo,{className:"w-12 h-12 text-[#94A3B8] mx-auto mb-4"}),y.jsx("p",{className:"text-[#94A3B8]",children:l?"No matching transcript items found.":"No transcript items available."})]}):y.jsx("div",{className:"space-y-4",children:V.map((H,ie)=>y.jsx("div",{className:"space-y-3",children:y.jsxs("div",{className:"group relative",children:[y.jsx("div",{className:"p-4 bg-[#0F172A] rounded-lg border border-[#334155] hover:border-[#6366F1]/30 transition-colors cursor-pointer",onClick:()=>k(H.id||ie.toString()),children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"flex-shrink-0 mt-1",children:ue(H.type)}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[we(H.type),y.jsx("span",{className:"text-xs text-[#94A3B8]",children:K(H.timestamp)}),H.speaker&&y.jsxs("span",{className:"text-xs text-[#94A3B8]",children:["• ",H.speaker]}),H.confidence&&y.jsxs("span",{className:"text-xs text-[#94A3B8]",children:["• ",Math.round(H.confidence*100),"% confidence"]}),b[H.id||ie.toString()]?.length>0&&y.jsxs(yn,{variant:"outline",className:"bg-[#6366F1]/20 border-[#6366F1] text-[#6366F1]",children:[y.jsx(kr,{className:"w-3 h-3 mr-1"}),"AI Chat"]})]}),y.jsx("p",{className:"text-[#F8FAFC] leading-relaxed",children:H.content})]}),y.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx(Fo,{className:"w-4 h-4 text-[#6366F1]"}),y.jsx("span",{className:"text-xs text-[#6366F1]",children:"Ask AI"}),g===(H.id||ie.toString())?y.jsx(_y,{className:"w-4 h-4 text-[#6366F1]"}):y.jsx(Hm,{className:"w-4 h-4 text-[#6366F1]"})]})]})}),g===(H.id||ie.toString())&&y.jsxs("div",{className:"ml-8 mt-3 space-y-3 bg-[#1E293B]/50 p-4 rounded-lg border border-[#334155]/50",children:[b[H.id||ie.toString()]?.map(oe=>y.jsx("div",{className:`p-3 rounded-lg ${oe.type==="user_question"?"bg-[#6366F1]/10 border border-[#6366F1]/20":"bg-[#10B981]/10 border border-[#10B981]/20"}`,children:y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${oe.type==="user_question"?"bg-[#6366F1]":"bg-[#10B981]"}`,children:oe.type==="user_question"?y.jsx("span",{className:"text-white text-xs",children:"Q"}):y.jsx(kr,{className:"w-3 h-3 text-white"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("span",{className:`text-xs font-medium ${oe.type==="user_question"?"text-[#6366F1]":"text-[#10B981]"}`,children:oe.type==="user_question"?"You asked:":"AI responded:"}),y.jsx("span",{className:"text-xs text-[#94A3B8]",children:oe.timestamp.toLocaleTimeString()}),oe.isGenerating&&y.jsxs("div",{className:"flex gap-1",children:[y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce"}),y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),y.jsx("div",{className:"w-1 h-1 bg-[#10B981] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}),y.jsx("p",{className:"text-[#F8FAFC] text-sm leading-relaxed",children:oe.content})]})]})},oe.id)),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"Ask AI about this statement...",value:x[H.id||ie.toString()]||"",onChange:oe=>C(fe=>({...fe,[H.id||ie.toString()]:oe.target.value})),onKeyPress:oe=>{oe.key==="Enter"&&M(H.id||ie.toString())},className:"flex-1 px-3 py-2 bg-[#0F172A] border border-[#334155] rounded-lg text-[#F8FAFC] text-sm placeholder-[#64748B] focus:border-[#6366F1] focus:outline-none"}),y.jsx(qe,{onClick:()=>M(H.id||ie.toString()),disabled:!x[H.id||ie.toString()]?.trim()||w.has(H.id||ie.toString()),size:"sm",className:"bg-[#6366F1] hover:bg-[#5B5CF6] text-white px-3",children:w.has(H.id||ie.toString())?y.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):y.jsx(Sm,{className:"w-4 h-4"})})]})]})]})},H.id||ie))})]})})]})]})}function FK(){const[e,t]=I.useState("dashboard"),[r,n]=I.useState(null),i=(l,a)=>{t(l),a&&n(a)};return(()=>{switch(e){case"dashboard":return y.jsx(gR,{onNavigate:i});case"live":return y.jsx(uT,{onNavigate:i});case"transcription":return y.jsx(uT,{onNavigate:i});case"sessions":return y.jsx($R,{onNavigate:i});case"past-sessions":return y.jsx($R,{onNavigate:i});case"session-detail":return y.jsx(qK,{onNavigate:i,sessionId:r});default:return y.jsx(gR,{onNavigate:i})}})()}GD.createRoot(document.getElementById("root")).render(y.jsx(Kn.StrictMode,{children:y.jsx(FK,{})}));export{Ty as _,HK as c,Fm as g};
